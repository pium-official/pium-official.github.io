<?xml version="1.0" encoding="UTF-8"?><rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title><![CDATA[RSS Feed of pium.log]]></title><description><![CDATA[우아한테크코스 5기 피움팀 기술 블로그입니다.]]></description><link>https://pium-official.github.io</link><generator>GatsbyJS</generator><lastBuildDate>Thu, 21 Sep 2023 12:44:51 GMT</lastBuildDate><item><title><![CDATA[피움 최적화하기]]></title><description><![CDATA[이 글은 우테코 피움팀 크루 '클린'가 작성했습니다. 피움 최적화 하기 어찌어찌 서비스를 론칭하긴 했지만, 여러가지로 문제가 있었습니다. 첫 페이지 로드시에 미리 이미지 크기를 설정해 놓지 않아서 layout shift…]]></description><link>https://pium-official.github.io/optimize-frontend/</link><guid isPermaLink="false">https://pium-official.github.io/optimize-frontend/</guid><pubDate>Thu, 21 Sep 2023 00:00:00 GMT</pubDate><content:encoded>&lt;blockquote&gt;
&lt;p&gt;이 글은 우테코 피움팀 크루 &apos;&lt;a href=&quot;https://github.com/hozzijeong&quot;&gt;클린&lt;/a&gt;&apos;가 작성했습니다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1&gt;피움 최적화 하기&lt;/h1&gt;
&lt;p&gt;어찌어찌 서비스를 론칭하긴 했지만, 여러가지로 문제가 있었습니다. 첫 페이지 로드시에 미리 이미지 크기를 설정해 놓지 않아서 layout shift가 발생하기도 하고 전체적인 번들 사이즈가 400kb가 넘기도 하며, 페이지 로드 후에 폰트가 적용되어서 깜빡이는 현상이 발생하기도 했습니다. http 헤더 설정도 의도적으로 되어 있지 않아서 캐시 기간도 모르고, CDN 적용도 되어있지 않아서 캐시 역시 제대로 되지 않았습니다. 이러한 문제점들이 모여서 결국 사용자의 데이터를 많이 잡아먹고 폰트나 버벅거림 등은 분명한 사용자 경험 저해 요소이기 때문에 이를 해결하기 위한 방안을 세웠습니다.&lt;/p&gt;
&lt;p&gt;우선적으로 명시적인 문제를 먼저 해결해야 했습니다. Lighthouse를 통해서 측정을 해본 결과는 다음과 같습니다.&lt;/p&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/b158393b248d33587d2b515e634e86b2/ced39/before_optimize_lighthouse.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 75.29411764705883%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAAsTAAALEwEAmpwYAAACmklEQVR42o1Uy27TQBTtH4Q0UiMl8XgefsRv5+G0SUsrUFQCKg81BRalQkJigUoQj3+ohMSCBfBHfAWIAi2REBsWlAWCHmacuMSFBZau5o7nzPGZe894Ttd1ZFHTdEQOQ92kqNZ0ND0Gk+vQBAOJLBBOQSWu4TI5EhimCdu2QQg54ZhjjIHLIDpDyxe4c9HG+qKJdiBwe2Ch3xIor4ao3uxAX3JxqSNw70odSUBxvr+O61tbUBxZ5AhjT+B630fkcrQCAzcuxAhtCUwCOJe70OsmziU2tvoBLEERNxrodruglOYJs6CUpSA1cmFgSYKJTuG7Hnq9HpjMk84SNjeH0IgOz3MRx3GekHOO2VB1EELmjEPTtDRXG1SenkZihBAwZf3UmM2z/TmFmcoaYSebszHLJxiKYrGIYuEMCoUCqtXqyXqOUJd1dG2OtZaB0x/KiNUJ6vU69vb28PT5M7x49RKDwQCVSiVVOjerzDY5rq3ZuLvhSPvwtFH8FKFGNMRRhPfjA7w+3sdX/MDj0UPMl+ZhGEae0JR+u7pqYWPFgiFz+g+FmvRcGIb4dHCI/e+fsf/zC548eITiLKGSqqJaqeLsyjKWe13UarX0HVO1mWkakc2JpMI3797i29ERfuEYu/d3USqVJoSO48DzfYRRjLi9iEbSRaOdoNnuyKPF8KMm3LApFdIJ4VThh8OPkmry5AhVjSxpDctxEbY66HSXETQ78FoJTN+DJe3BldLpkRWhUjgej5E9o9HoD6GQQN+yIORE6DXE8pYY0tSEETDHgFt3/rKM2jgcDrG9vY1bOztoJ0nq09SHCkCkFVIwn3R20gxJItf06VreqxTlchkLCwtpZKZPfw5BEMB13dz1+Z/IGimm5VA3R5XiNy4k2/uhPWRNAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;before optimize lighthouse&apos; title=&apos;&apos; src=&apos;/static/b158393b248d33587d2b515e634e86b2/ca1dc/before_optimize_lighthouse.png&apos; srcset=&apos;/static/b158393b248d33587d2b515e634e86b2/e7570/before_optimize_lighthouse.png 170w,
/static/b158393b248d33587d2b515e634e86b2/f46e7/before_optimize_lighthouse.png 340w,
/static/b158393b248d33587d2b515e634e86b2/ca1dc/before_optimize_lighthouse.png 680w,
/static/b158393b248d33587d2b515e634e86b2/02d09/before_optimize_lighthouse.png 1020w,
/static/b158393b248d33587d2b515e634e86b2/9d567/before_optimize_lighthouse.png 1360w,
/static/b158393b248d33587d2b515e634e86b2/ced39/before_optimize_lighthouse.png 1408w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;생각보다 성능이 높게 나와서 놀랐습니다. 이제부터 세부 항목들을 찬찬히 살펴보겠습니다. &lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;번들의 크기가 너무 크다. &lt;/li&gt;
&lt;li&gt;폰트 로딩에 많은 시간이 소요된다.&lt;/li&gt;
&lt;li&gt;파일들이 캐시되지 않는다&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/7c927f597b1478c26334b4f2dea0f05f/eb638/before_optimize_detail.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 80%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAAAsTAAALEwEAmpwYAAACKklEQVR42p2U647aQAyF8yCFAAm5Te6EXLi2CFh2q7ba93+YUx+HUEBUlfrjaCYTe2x/dmIZ10VVligXC1RVdVNRFFjWNaIgQGjbKKZT5JMJxuMxbNWolz3GRM6p2WwGy5MLjTGI4xhJkiBNU10pnkdRhNDzYDxfbHJ4JkOQFKJSlGMexhLExmj0RYNZ8/kcjuOAqyeO1LB3JZie+b6KF4SqQtcgzlC0OwRBePO16MRUJxNb0h800eehlEFaqv2nZNqYtIAvF0VRCN8PYPkSOcsyLS0KIwRhqBEfFaixL3s/6FdPns0VE22KokQo/lYUGZzf3nF5/8Dx9Ib1ZifNaFE3HZp2dVPbrV+KtpvdHj9/fYrvtmcYS5SuE6e2Rbfq11o6zAZluTCT7F2xmz+JZ8wwlKoa8UnE3tKGCMc4NtrVRMqItcORljo0SRna9oPYVb5jD3gp95KhJwxzrNcbyY5aa7Z13WCxqJDnhYp8ntmSK32NidWHeyuSrI6nM/aHE/aXT7Sbr1hUS2UzqK4fed6L78ny4/sPTUrHJhdOTdPeeAxz6bqD3JeiTSlfGSeFzOmvDD02RtjxMu/K5JnXK5ErOXMdGmUROm/fbLfKgRH7uTT/FNlVgod7fvf8/pXh4XjCt8NRZ7BaNhKgFT7dnVZ/Fe3J8XS+9Awdx0WWZljJ/HVdd81yITOY9XMo2XryY5hOZ4LCeRDPOAHknCSpYEv6ppDjvcjwf/Ub64Ti79oh5LQAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;before optimize detail&apos; title=&apos;&apos; src=&apos;/static/7c927f597b1478c26334b4f2dea0f05f/ca1dc/before_optimize_detail.png&apos; srcset=&apos;/static/7c927f597b1478c26334b4f2dea0f05f/e7570/before_optimize_detail.png 170w,
/static/7c927f597b1478c26334b4f2dea0f05f/f46e7/before_optimize_detail.png 340w,
/static/7c927f597b1478c26334b4f2dea0f05f/ca1dc/before_optimize_detail.png 680w,
/static/7c927f597b1478c26334b4f2dea0f05f/02d09/before_optimize_detail.png 1020w,
/static/7c927f597b1478c26334b4f2dea0f05f/9d567/before_optimize_detail.png 1360w,
/static/7c927f597b1478c26334b4f2dea0f05f/eb638/before_optimize_detail.png 1422w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;위 이미지에서 볼 수 있듯이, &lt;code class=&quot;language-text&quot;&gt;bundle.js&lt;/code&gt;의 파일 크기가 무려 444kib이고, 폰트의 크기 역시 합치면 1mb에 달합니다. 또한 캐시 + TTL에서 보면 알 수 있듯이 캐시를 전혀 사용하지 않고, 매번 새 파일을 요철하고 있습니다. 이는 사용자의 데이터를 그만큼 사용하고, 느린 네트워크 환경에서 속도를 저하시키는 요인이 됩니다. &lt;/p&gt;
&lt;p&gt;추가적으로 하나의 큰 문제로, 피움 서비스 내부에서 사용하는 아이콘들에 문제가 있습니다. 피움에서는 모든 아이콘들을 SVG-in-JS방식으로 사용하고 있는데, &lt;a href=&quot;https://kurtextrem.de/posts/svg-in-js&quot;&gt;SVG-in-JS와 결별 이라는 글&lt;/a&gt;에서 이 방법은 자바스크립트 컴파일 하는 코드의 양을 오히려 늘리는 안티 패턴이라는 글을 봤습니다. 해당 글에서 제안하는 해결 방법은 색 변화 등 props들의 영향을 받지 않는 이미지의 경우에 img태그를 통해 이미지를 로드하고, 그게 아닌 경우에는 &lt;code class=&quot;language-text&quot;&gt;SVGSprite&lt;/code&gt;라는 기술을 사용해서 이미지를 로드 하는 것을 추천하고 있습니다.&lt;/p&gt;
&lt;p&gt;따라서 피움은 아래 4가지를 개선함으로써 최적화를 진행했습니다.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;요청 크기 줄이기&lt;/li&gt;
&lt;li&gt;같은 요청 두번 하지 않기&lt;/li&gt;
&lt;li&gt;이미지 최적화&lt;/li&gt;
&lt;li&gt;SVG-in-JS 개선&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;요청 크기 줄이기&lt;/h2&gt;
&lt;h3&gt;정적 배포 방식 변경하기&lt;/h3&gt;
&lt;p&gt;현재 &lt;code class=&quot;language-text&quot;&gt;EC2&lt;/code&gt;를 통해서 전달 받는 bundle의 크기는 444KB입니다. 문제는 이 파일을 어떻게 줄일 수 있을까? 입니다. webpack을 사용하면서 자동으로 압축을 해주기 때문에 analyze로 분석했을 때 줄일 수 있는 부분은 크게 보이지 않았습니다.&lt;/p&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/e7b9813dbbb68e6b3d7cac71d943dbb5/8fe6b/before_optimize_bundle.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 18.823529411764707%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA3UlEQVR42nWPbUvCYBSG9/9/RB+iIJKioA+tjBAkc/nYs7Q5tomuTXzfs8VwM2RXU7KC6MDFzeFwX3C0D/XOf6yjhE2SsnwL6Yln2vUHus0WkR+y2d4X6k9Hy8Mpe7Jg8s1+32bkDAhebab9IRNvQByMS1lMNl+SjWb8dmip6JG27R2ZdFm/eOSmy0o6ZGXmpseo9oRrdvF9n8VsTlEU7KaMlT0kbf04NKU/om6bJFUDp3KNcXCKdXJF/+yGzvEl5tEF8vAcqd8janUa+h1W+bYjJJYhGFcbxGVfffEJwFgh2pdxQBkAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;before optimize bundle&apos; title=&apos;&apos; src=&apos;/static/e7b9813dbbb68e6b3d7cac71d943dbb5/ca1dc/before_optimize_bundle.png&apos; srcset=&apos;/static/e7b9813dbbb68e6b3d7cac71d943dbb5/e7570/before_optimize_bundle.png 170w,
/static/e7b9813dbbb68e6b3d7cac71d943dbb5/f46e7/before_optimize_bundle.png 340w,
/static/e7b9813dbbb68e6b3d7cac71d943dbb5/ca1dc/before_optimize_bundle.png 680w,
/static/e7b9813dbbb68e6b3d7cac71d943dbb5/02d09/before_optimize_bundle.png 1020w,
/static/e7b9813dbbb68e6b3d7cac71d943dbb5/9d567/before_optimize_bundle.png 1360w,
/static/e7b9813dbbb68e6b3d7cac71d943dbb5/8fe6b/before_optimize_bundle.png 2270w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;현재 받는 parsed size가 pium에서 받는 444kb와 같다는 것을 알 수 있습니다. 아래 있는 Gzipped size가 있는데 이 사이즈는 141kb로 3배 좀 넘게 차이가 나는 크기입니다. 그렇다면 어떻게 Gzipped로 파일을 압축할 수 있을까요?&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;gzip&lt;/strong&gt;은 &lt;a href=&quot;https://ko.wikipedia.org/wiki/%ED%8C%8C%EC%9D%BC_%EC%95%95%EC%B6%95&quot;&gt;파일 압축&lt;/a&gt;에 쓰이는 &lt;a href=&quot;https://ko.wikipedia.org/wiki/%EC%9D%91%EC%9A%A9_%EC%86%8C%ED%94%84%ED%8A%B8%EC%9B%A8%EC%96%B4&quot;&gt;응용 소프트웨어&lt;/a&gt;이다. gzip은 GNU zip의 준말이며, 초기 &lt;a href=&quot;https://ko.wikipedia.org/wiki/%EC%9C%A0%EB%8B%89%EC%8A%A4&quot;&gt;유닉스&lt;/a&gt; 시스템에 쓰이던 &lt;a href=&quot;https://ko.wikipedia.org/wiki/%EB%8D%B0%EC%9D%B4%ED%84%B0_%EC%95%95%EC%B6%95&quot;&gt;압축&lt;/a&gt; 프로그램을 대체하기 위한 &lt;a href=&quot;https://ko.wikipedia.org/wiki/%EC%9E%90%EC%9C%A0_%EC%86%8C%ED%94%84%ED%8A%B8%EC%9B%A8%EC%96%B4&quot;&gt;자유 소프트웨어&lt;/a&gt;이다. - &lt;a href=&quot;https://ko.wikipedia.org/wiki/Gzip&quot;&gt;위키 백과&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;피움은 Gzipped로 변경하는 방법을 서비스 정적 배포 방식의 변경으로 선택했습니다. 기존 배포 방식은 EC2에 빌드한 파일을 올리고 주소창에 도메인을 입력하면 DNS에서 일치하는 도메인을 찾은 뒤 Nginx에서 EC2 서버 인스턴스에 있는 프론트엔드 정적 파일을 배포하는 방식을 사용했었습니다. &lt;/p&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/ed130895f0092532a0c668d39d0400e3/68327/before_optimize_structure.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 40%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsTAAALEwEAmpwYAAABtElEQVR42m2Sy27TUBCG8z48EQ/AipeAJ0DdsmJVJLJDLBBSRERJpAhiItLQKHbSOvEtxj52fI9r5+McRy0sGOmXxnP5zz8z7iGtaRryIqcoCpI85YM5wk58jmUl40UX/x/aU6vaudRd3tvfOr+nyLbbLY7rEvgBun3L088vGZkzMpHg7T1838fzvL+QMdu22Ev/kJVY/Y+4P99xUoRhGBIEQcee5RnWbsdyvcIwjI6ouW8oy4LT6cSDPfiaprHZbLAdG8ty5aQtPVcqq8qS6RFmxT20DUVeSEKduaGxuJ1h3Ok4tiPHzCEV+MmGm/pX9+jxeORf67mOQ1VVvJG1/ey8k0OUMTen9O9e8Wl3Sd+4YPFjyeT7BOwbBtcXPFs+Z2WvqKu662nbc28v+O0j9g7XuoFuml1CjWmYKybGAG09ZrwakMTpo4qiKcnaCkvuMU3TTtCjQnP4lv2LJyTuhjCMECIkjmNiEbOc64yvJvJB+R1HRJGCkOQJB5lX61K1w+GQxWJxJiy9NdmX18xnU66+jtjJi6uiUBIfkkOnQEQh6nhCiA4qp6D+EGV1XbOTx1T7/AOt81KUrsbJiAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;before optimize structure&apos; title=&apos;&apos; src=&apos;/static/ed130895f0092532a0c668d39d0400e3/ca1dc/before_optimize_structure.png&apos; srcset=&apos;/static/ed130895f0092532a0c668d39d0400e3/e7570/before_optimize_structure.png 170w,
/static/ed130895f0092532a0c668d39d0400e3/f46e7/before_optimize_structure.png 340w,
/static/ed130895f0092532a0c668d39d0400e3/ca1dc/before_optimize_structure.png 680w,
/static/ed130895f0092532a0c668d39d0400e3/68327/before_optimize_structure.png 950w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;(빌드 후에 폴더와 파일들을 gzip으로 압축해서 배포하는 방법도 있었지만, 이때는 생각하지 못했습니다.)&lt;/p&gt;
&lt;p&gt;정적 배포 방식을 EC2에서 S3 + cloudfront로 변경하는 데에는 단순히 gzip만 있는 것도 아닙니다. s3를 사용했을때 장점을 요약하자면 아래와 가습니다.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;자동 확장, 축소하기 때문에 특정 크기 할당 필요가 없음&lt;/li&gt;
&lt;li&gt;서버리스이기 때문에 파일이 저장되는 서버를 관리할 필요가 없음&lt;/li&gt;
&lt;li&gt;애플리케이션에 서버가 필요하더라도 정적 콘텐츠에 대한 요청 처리 필요가 없기 때문에 해당 서버의 크기 줄이기 가능.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;EC2는 결국 컴퓨터이기 때문에 만약에 메모리 초과가 발생하거나 모종의 이유로 서버가 다운된다면 피움 페이지로 들어온 사용자들은 흰 화면만 보게 됩니다. 아무것도 모르는 사용자는 어떠한 에러 페이지도 보지 못한채 서비스를 떠나게 될 가능성이 있습니다. 또한, 단순히 정적 파일만을 제공하고 있는데 굳이 컴퓨터 한대를 사용할 필요도 없습니다. &lt;/p&gt;
&lt;p&gt;s3 + cloudfront를 사용한다면 CDN 캐시를 통해 사용자에게 좀 더 빠르게 서비스 제공이 가능하고, http 캐시 설정이 가능합니다. 또한 앞에서 얘기한 gzip으로 자동 압축도 해주기 때문에 굳이 압축된 파일을 저장하고 있을 필요도 없습니다. (아래와 같이 cloudfront 설정할 때 자동으로 객체 압축을 설정해 주면 됩니다)&lt;/p&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 600px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/39c1cdf053e5b21e387c8cb3b5b0c054/dface/compress_cloudfront.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 35.29411764705882%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAq0lEQVR42q2PTwuCQBTE9/t/pG4dOihJB8NcKTxmulrktu3/aVevQYINDG948IbfI845KKVgjJkcs4yWcafhAWjr4GNYIMI5R5rukedHlCVFUZyQZQckSYqKUozKYVMyjNJOB796idYGz5Gj6zoIIQKJh7UWOtDaiczjree5iNCGt4wUoLQCY2ymWPrft8ILe2F77tEHwmG4Y61I3Qvs6gfa5orm1q4vxJ/1AcIfJRml40GyAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;compress cloudfront&apos; title=&apos;&apos; src=&apos;/static/39c1cdf053e5b21e387c8cb3b5b0c054/dface/compress_cloudfront.png&apos; srcset=&apos;/static/39c1cdf053e5b21e387c8cb3b5b0c054/e7570/compress_cloudfront.png 170w,
/static/39c1cdf053e5b21e387c8cb3b5b0c054/f46e7/compress_cloudfront.png 340w,
/static/39c1cdf053e5b21e387c8cb3b5b0c054/dface/compress_cloudfront.png 600w&apos; sizes=&apos;(max-width: 600px) 100vw, 600px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;CDN(Contents Delivery Network)은 콘텐츠 전송 네트워크를 나타내는 약자로, 웹 콘텐츠와 웹 애플리케이션을 효율적으로 제공하기 위한 분산 네트워크입니다. CDN은 전 세계의 다양한 위치에 위치한 서버와 캐시 노드를 사용하여 웹 콘텐츠를 저장하고 전송함으로써 웹 성능을 최적화하고 가용성을 향상시킵니다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3&gt;코드 스플리팅&lt;/h3&gt;
&lt;p&gt;다운로드 하는 번들의 크기를 줄인다고 해도 그 다운로도 된 번들의 코드 중에서 사용하지 않는 코드가 있다면 이 역시 불필요하게 번들의 크기를 늘리는 요인이 됩니다. &lt;code class=&quot;language-text&quot;&gt;React&lt;/code&gt;를 통해서 서비스를 개발한 피움은 &lt;code class=&quot;language-text&quot;&gt;[SPA](https://en.wikipedia.org/wiki/Single-page_application)&lt;/code&gt;라는 특징을 갖고 있기 떄문에 하나의 번들에 모든 JS 코드가 들어있습니다. 이 때문에 첫 로딩이 상대적으로 오래걸린다는 단점이 있는데, &lt;code class=&quot;language-text&quot;&gt;l[azy&lt;/code&gt;를 통한 동적 &lt;code class=&quot;language-text&quot;&gt;import&lt;/code&gt;](&lt;a href=&quot;https://react-ko.dev/reference/react/lazy&quot;&gt;https://react-ko.dev/reference/react/lazy&lt;/a&gt;)를 통해서 url에 알맞는 컴포넌트만 동적으로 불러올 수 있습니다.&lt;/p&gt;
&lt;p&gt;여기서 “어떤 페이지를 동적으로 불러 올까?” 라는것에 대해서 여러 이야기를 나눴습니다. 저는 모든 페이지를 동적 &lt;code class=&quot;language-text&quot;&gt;import&lt;/code&gt;를 통해서 파일을 불러오는게 맞다라고 생각했습니다. 그 이유는 사용자들이 어떤 페이지를 들어갈 지 모르는데, 굳이 불필요한 리소스 다운이 될 수 있다는 것이었습니다. 하지만 다른 팀원은 그렇게 전부 나눠버리면 &lt;code class=&quot;language-text&quot;&gt;SPA&lt;/code&gt;의 장점이 사라지지 않는가, 결국 처음에 로딩이 좀 걸리더라도 다른 페이지에서는 빠르게 이동하는게 장점인데 오히려 모두 나눠버린다면 페이지 로드에 시간이 걸려서 사용자 경험을 해칠 수도 있고, &lt;code class=&quot;language-text&quot;&gt;React&lt;/code&gt;를 사용하는 이유가 없지 않나? 였습니다. &lt;/p&gt;
&lt;p&gt;따라서 사용자가 많이 접근할 것 같이 않은 페이지를 동적으로 불러오고, 핵심 페이지라고 생각되는 부분들은 &lt;code class=&quot;language-text&quot;&gt;bundle&lt;/code&gt;에 한번에 넣어서 오기로 했습니다. 아직 페이지 방문 횟수에 대한 믿을만한 데이터가 존재하지 않아서 사용자가 많이 왔다 갔다 할 것 같지 않은 &lt;code class=&quot;language-text&quot;&gt;login&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;loginAuth&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;myPage&lt;/code&gt; 페이지 만을 동적으로 불러오도록 설정했습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;tsx&quot;&gt;&lt;pre class=&quot;language-tsx&quot;&gt;&lt;code class=&quot;language-tsx&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// router.tsx&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; Login &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;lazy&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token comment&quot;&gt;/* webpackChunkName: &quot;Login&quot; */&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;pages/Login&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; Authorization &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;lazy&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token comment&quot;&gt;/* webpackChunkName: &quot;Authorization&quot; */&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;pages/Login/Authorization&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; MyPage &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;lazy&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token comment&quot;&gt;/* webpackChunkName: &quot;MyPage&quot; */&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;pages/MyPage&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;폰트 용량 줄이기&lt;/h3&gt;
&lt;p&gt;그 다음 용량을 많이 차지하는 파일이 폰트 용량이었습니다. 2가지 폰트(&lt;a href=&quot;https://corp.gmarket.com/fonts/&quot;&gt;GmarketSans, GmarketSansBold&lt;/a&gt;)를 사용했는데, 두 개 합쳐서 거의 1MB에 육박했습니다. 원래 폰트는 &lt;a href=&quot;https://hangeul.naver.com/font&quot;&gt;NanumSquareRound&lt;/a&gt; 였는데, 해당 폰트는 뒑, 뿗, 똟과 같이 사용되지 않는 한글을 지원하고 있지 않았습니다. 따라서 실제로 입력하게 된다면 공백이 나오기 때문에 사용성이 좋지 않다는 생각에 차선책이었던 GmarketSans를 적용했었습니다.&lt;/p&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/fdaebcea128a9b258506fe9e170c8f79/25af7/nanumsquareround_fail.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 45.294117647058826%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA00lEQVR42q2Pz0oCURjFP6htQYGBuhB6iBahCxFJpAzyJQJz4UOqjI7gULqZF6iJ4ULMv7i3+dmdXiAdD/w4cBbn+45cr4a030a0Xp/pbsZ0Ni/0txOuln1kdsvpvMXJvPlv5NzpUFn2uFzccea0uXC62EymN4fRWD/R8IbUVwNq7oC6+/jrD1Td+8L3RdSX4v3zg0x/Y/hB56bwQxHf9/HWHlmWUVZ5niNRFJEkyV9QEmMMEscxQRCQpmkR2CtlKArDMEQphda69GyxrbbIfncM7QAyDlpL+t795gAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;nanumsquareround fail&apos; title=&apos;&apos; src=&apos;/static/fdaebcea128a9b258506fe9e170c8f79/ca1dc/nanumsquareround_fail.png&apos; srcset=&apos;/static/fdaebcea128a9b258506fe9e170c8f79/e7570/nanumsquareround_fail.png 170w,
/static/fdaebcea128a9b258506fe9e170c8f79/f46e7/nanumsquareround_fail.png 340w,
/static/fdaebcea128a9b258506fe9e170c8f79/ca1dc/nanumsquareround_fail.png 680w,
/static/fdaebcea128a9b258506fe9e170c8f79/02d09/nanumsquareround_fail.png 1020w,
/static/fdaebcea128a9b258506fe9e170c8f79/9d567/nanumsquareround_fail.png 1360w,
/static/fdaebcea128a9b258506fe9e170c8f79/25af7/nanumsquareround_fail.png 1608w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;하지만, GmarketSans가 자주 사용하지 않는 한글을 지원한다는 것 자체가 쓸데없는 리소스가 많다는 의미기도 했습니다. 그래서 기본 폰트를 사용하되, &lt;code class=&quot;language-text&quot;&gt;font-display:swap&lt;/code&gt;을 사용해서, 폰트 로드를 했을 때 해당 폰트가 존재하지 않는다면 대체 폰트를 보여주는 방식을 사용했습니다. &lt;/p&gt;
&lt;p&gt;font-display 속성은 폰트를 선언하는 @fontface 블록 안에서만 유효한 속성입니다. 따라서 사용자가 @fontface를 선언하는 css 파일에서 별도로 지정해줘야 합니다. 피움에서는 처음에 &lt;code class=&quot;language-text&quot;&gt;cdn&lt;/code&gt;으로 제공하는 폰트를 사용했었는데, 해당 폰트에 불필요한 폰트들도 존재하고 개인적으로 사용되는 폰트들도 아니어서 새로운 &lt;code class=&quot;language-text&quot;&gt;.css&lt;/code&gt;파일을 만들고 그 안에서 &lt;a href=&quot;https://github.com/woowacourse-teams/2023-pium/pull/375/commits/a86981e758f85325cafede6cf315208daaa1da26#diff-48658425b08ff6807ec0e40ecb127dd74d3497168f1805453435d99baf78da1b&quot;&gt;폰트 확장자 설정&lt;/a&gt;을 했습니다. &lt;/p&gt;
&lt;p&gt;하지만 &lt;code class=&quot;language-text&quot;&gt;NanumSquareRound&lt;/code&gt;에 큰 문제(?)가 있었습니다. &lt;code class=&quot;language-text&quot;&gt;font-display:swap&lt;/code&gt;을 설정했는데도 지원하지 않는 문자를 설정했는데 적용되지 않았습니다. 이게 무슨일인가… 내가 어떤 잘못을 했나? 라는 생각을 하면서 문제를 찾고 있었는데 옆에 있던 참새가 아주 엄청난 것을 알려줬습니다. 바로, 나눔 스퀘어 라운드에서는 지원하지 않는 글자들의 경우에 공백을 나타낸다는 것입니다…!!&lt;/p&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/b0e87d523015f1845c63ae4fb83902a7/6bde6/font_empty.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 40%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsTAAALEwEAmpwYAAABSklEQVR42nWR2YrCYAyF//d/CtE38FKxqLjUuotLlapYdxTFGxUUz/AFKgzM5CbJyX7ifN9XoVBQvV7XZrNREAQaDAZaLpeqVqum8RuNhsXL5bIWi8UvrFQqab1eW8zRMJ1Oa7fbCdnv97rdbmavVivT+EmcAQlGLjKfz00zyHW7XXmeZ9O2262azaZGo5HiOLataTocDg2nQaVS+WKtVsswNqOWmKMYI4oi1Wo1a3a9XvV+vxWGoYrFom1AAUI8n89rNpt9tyYPAXPcn0qlbCIaPi+Xix6PhxVns1n1+33jCsHOZDKCKrDX62W16PF4LMcUtksIbrfbmkwmZoNBNhskp3IFMXI6nY6Ox6M973A4WMwx9X6/G2d/PeXz+ej5fCqXy9mpCfbvU+iMAcHn81m9Xs+4IDl5BD42OZzKVdPp1HKp4Xmn08liP0wMOpony3N9AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;font empty&apos; title=&apos;&apos; src=&apos;/static/b0e87d523015f1845c63ae4fb83902a7/ca1dc/font_empty.png&apos; srcset=&apos;/static/b0e87d523015f1845c63ae4fb83902a7/e7570/font_empty.png 170w,
/static/b0e87d523015f1845c63ae4fb83902a7/f46e7/font_empty.png 340w,
/static/b0e87d523015f1845c63ae4fb83902a7/ca1dc/font_empty.png 680w,
/static/b0e87d523015f1845c63ae4fb83902a7/02d09/font_empty.png 1020w,
/static/b0e87d523015f1845c63ae4fb83902a7/9d567/font_empty.png 1360w,
/static/b0e87d523015f1845c63ae4fb83902a7/6bde6/font_empty.png 2100w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;(둘, 둠, 둡 등의 사용되는 단어들은 존재하는데, 제공하지 않는 단어는 존재하긴 하지만 공백을 제공합니다. &lt;a href=&quot;https://fontdrop.info/#/?darkmode=true&quot;&gt;fontdrop&lt;/a&gt;)&lt;/p&gt;
&lt;p&gt; &lt;code class=&quot;language-text&quot;&gt;NanumSquare&lt;/code&gt;에도 같은 문제가 있었고, 그것을 해결한 방법이 있는 &lt;a href=&quot;https://github.com/blood72/NanumSquare&quot;&gt;블로그에서&lt;/a&gt; 제공한 방식을 따라서 참새가&lt;code class=&quot;language-text&quot;&gt;NanumSquareRound&lt;/code&gt;에서 제공하지 않는 공백들을 개인적으로 제거한 커스텀 폰트를 만들어서 사용할 수 있었습니다. (참새 고맙습니다.)&lt;/p&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 326px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/ede124abb2563cdb973f0e79ba719ad5/15a61/font_success.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 30.58823529411765%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAyUlEQVR42pWQ3QqCMACFe+/oHRIqoqeIIgiKbgpvMvq5qCCqi0VgmpYzdVN3misoutEOnItv7HyMlSBzjExMvDW4iPEbIQT+SYlJie5tFOzCM4a3JWgSKOac40QIbMtC8HgozhU6McWM7hX0HANdZwr9vlV8sS2UKxVUNQ21egOmaea+Wgp9GP5LSJiN0W2FgbtQHLoO+q0miD7GvNMGvV6LCef+QUH6vujKs1ik2fLTon+Yjad0J0dAkEYIZWORgKccTDb6KivQJ2JgziJYIhyKAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;font success&apos; title=&apos;&apos; src=&apos;/static/ede124abb2563cdb973f0e79ba719ad5/15a61/font_success.png&apos; srcset=&apos;/static/ede124abb2563cdb973f0e79ba719ad5/e7570/font_success.png 170w,
/static/ede124abb2563cdb973f0e79ba719ad5/15a61/font_success.png 326w&apos; sizes=&apos;(max-width: 326px) 100vw, 326px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;참새 덕분에 지원하지 않는 폰트의 경우에 대체 폰트로 지정할 수 있었고, 용량이 더 작고 원래 선택 했었던 폰트로 되돌아 갈 수 있었습니다.&lt;/p&gt;
&lt;h3&gt;폰트 preload 하기&lt;/h3&gt;
&lt;p&gt;&lt;img src=&quot;/static/preload_fail-92ab0b276007a8ec4387d958c493d4b4.mov&quot;&gt;&lt;/p&gt;
&lt;p&gt;용량과는 큰 상관이 없지만, 폰트 다운로드가 페이지 로드가 완료된 다음에 실행 되었기 때문에 영상과 같이 처음 로드 했을때 혹은 새로고침 했을 때 폰트가 깜빡하는 문제가 있었습니다. 이는 사용자 경험에 매우 좋지 못하다는 생각에 어떻게든 해결을 해야 하는 문제 중 하나 였습니다. &lt;/p&gt;
&lt;p&gt;폰트 &lt;code class=&quot;language-text&quot;&gt;preload&lt;/code&gt;설정은 생각보다 쉬웠습니다.(끝나고 보니 쉬웠습니다…) 처음에는 단순히 &lt;code class=&quot;language-text&quot;&gt;link&lt;/code&gt;태그에 &lt;code class=&quot;language-text&quot;&gt;preload&lt;/code&gt;만 추가하면 되는 줄 알았는데, css로 폰트를 다운 받고, 해당 폰트에 &lt;code class=&quot;language-text&quot;&gt;preload&lt;/code&gt;를 적용하면 되는 것이었습니다. 처음에는 폰트 CDN을 통해서 다운로드 받는 방식을 했었는데, 폰트의 캐시 설정도 되지 않고 저희의 통제를 벗어난 외부 폰트라는 생각에 한번에 처리할 수 있으면 좋겠다는 생각에 사용하는 폰트 자체를 다운받고, 해당 .css 확장자에 폰트 url을 설정함으로써 preload를 구현할 수 있었습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;// index.html
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;link&lt;/span&gt;
  &lt;span class=&quot;token attr-name&quot;&gt;href&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;/fonts/NanumSquareRoundMissingGlyph.woff2&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token attr-name&quot;&gt;rel&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;preload&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token attr-name&quot;&gt;as&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;font&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token attr-name&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;font/woff2&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token attr-name&quot;&gt;crossorigin&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;link&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;href&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;/fonts/font.css&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;rel&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;stylesheet&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;text/css&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre class=&quot;language-css&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token atrule&quot;&gt;&lt;span class=&quot;token rule&quot;&gt;@font-face&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;font-family&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;NanumSquareRound&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;font-weight&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 500&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;font-style&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; normal&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;font-display&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; swap&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token url&quot;&gt;&lt;span class=&quot;token function&quot;&gt;url&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string url&quot;&gt;&apos;/fonts/NanumSquareRoundMissingGlyph.woff2&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;format&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;woff2&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;vedio&gt;
&lt;p&gt;&lt;img src=&quot;/static/preload_success-97320cc7629cdd9684a4f931ab98b50b.mov&quot;&gt;&lt;/p&gt;
&lt;p&gt;대체 폰트 설정과 폰트 &lt;code class=&quot;language-text&quot;&gt;preload&lt;/code&gt;를 통해서 용량을 줄이고 사용자 경험을 좀 더 끌어 올릴 수 있었습니다. 궁극적으로 gzip압축, 코드 스플리팅, 폰트 용량 줄이기 이 3가지를 통해서 압축한 용량은 다음과 같습니다.&lt;/p&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/b615dcc1aee4628f2cf542cc3780ee8a/f4146/preload_fail.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 18.823529411764707%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAABYlAAAWJQFJUiTwAAABAklEQVR42h2Ky06DQAAA+QgP3jRFunSJsEB5yVIK9Gk0Vfs0qdVoTYwe/AK/fSQ9TWYyxu57z+fvkdVhyfp1xdvPG8EsIHvS5OsB5aZGzX3s2kaO5Mn925BmOyF91pz9HQnvH0lKE9FIjLvNgpf3A8vdksVqwWa/xcsVYRXhlyHZVBM1CaIv6CWy9QJXK/JZ0T4xTprhFwVx7iIjgeGGA0y7jyWTliG965SLjofqD/GjilRPCeL61DpWgAqHCCchysZIpeleCqQTYj8M6TgKYzyZU4+mFGWNpwLi9AbLEkRxSk86VKMJuS4xzSuELU+f6ymqZkwQpdht18Ki+9VwvvvgH+NwhxUEno5IAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;preload fail&apos; title=&apos;&apos; src=&apos;/static/b615dcc1aee4628f2cf542cc3780ee8a/ca1dc/preload_fail.png&apos; srcset=&apos;/static/b615dcc1aee4628f2cf542cc3780ee8a/e7570/preload_fail.png 170w,
/static/b615dcc1aee4628f2cf542cc3780ee8a/f46e7/preload_fail.png 340w,
/static/b615dcc1aee4628f2cf542cc3780ee8a/ca1dc/preload_fail.png 680w,
/static/b615dcc1aee4628f2cf542cc3780ee8a/02d09/preload_fail.png 1020w,
/static/b615dcc1aee4628f2cf542cc3780ee8a/9d567/preload_fail.png 1360w,
/static/b615dcc1aee4628f2cf542cc3780ee8a/f4146/preload_fail.png 1618w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/41b74380599b4313f6e520656313e62a/9d567/preload_success.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 20%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAABYlAAAWJQFJUiTwAAAA+0lEQVR42h2O226CQBRF+ZAmNt5AcRwZYAZwAAFtq29tU+0lpIn//w+rJ308++ysvYJiPNLee9JvS/KZoW+G/KvA3DLUu8aPDek1x/6UbN4Um1fF7ppQ/7Yk14z+PuDuT8RjweUSEhj3jPUv1O2Zw+FMWQ3s/ZHcNkyXCWl5YqUq6ZyZzBIeHrdMwwwn9yzKKeoL2nVMXIuZKgJfWHzTc+hOAmrZ6h3WiqHJCKM1lW8kS2i6I6v1hvl8SazEvOlYxUpEerK8YD+IhDYEeyvPuhWgQPtBAJ7EpCi1JYoiirISoJYxTxguWSzm6J2mlHwdx/99Zx0f440uN/wBM+eE92wl9wsAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;preload success&apos; title=&apos;&apos; src=&apos;/static/41b74380599b4313f6e520656313e62a/ca1dc/preload_success.png&apos; srcset=&apos;/static/41b74380599b4313f6e520656313e62a/e7570/preload_success.png 170w,
/static/41b74380599b4313f6e520656313e62a/f46e7/preload_success.png 340w,
/static/41b74380599b4313f6e520656313e62a/ca1dc/preload_success.png 680w,
/static/41b74380599b4313f6e520656313e62a/02d09/preload_success.png 1020w,
/static/41b74380599b4313f6e520656313e62a/9d567/preload_success.png 1360w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;455 + 487 + 658 = &lt;code class=&quot;language-text&quot;&gt;1542&lt;/code&gt; → 99.9 + 40.7 + 232 = &lt;code class=&quot;language-text&quot;&gt;372.2&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;거의 4배 가까이 되는 용량을 줄 일 수 있었습니다. 여기에 추가적으로 &lt;code class=&quot;language-text&quot;&gt;preload&lt;/code&gt;를 통해서 사용자 경험 향상까지 시킬 수 있었습니다.&lt;/p&gt;
&lt;h2&gt;같은 요청 두번 하지 않기&lt;/h2&gt;
&lt;p&gt;짐을 한번 가져왔는데, 그 짐을 다시 가져오는 것 만큼 비효율적인 것은 없습니다. 이는 데이터 통신에도 똑같이 적용됩니다. 한번 데이터(짐)을 가져오고 나면 해당 데이터를 어딘가에 저장해 둘 수 있으면 리소스를 그만큼 줄일 수 있습니다. 그리고 프로그래밍에서는 이것을 캐시라고 합니다.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;캐시&lt;/strong&gt;(cache, &lt;a href=&quot;https://ko.wikipedia.org/wiki/%EB%AC%B8%ED%99%94%EC%96%B4&quot;&gt;문화어&lt;/a&gt;: 캐쉬, 고속완충기, 고속완충기억기)는 &lt;a href=&quot;https://ko.wikipedia.org/wiki/%EC%BB%B4%ED%93%A8%ED%84%B0_%EA%B3%BC%ED%95%99&quot;&gt;컴퓨터 과학&lt;/a&gt;에서 데이터나 값을 미리 복사해 놓는 임시 장소를 가리킨다. 캐시는 캐시의 접근 시간에 비해 원래 데이터를 접근하는 시간이 오래 걸리는 경우나 값을 다시 계산하는 시간을 절약하고 싶은 경우에 사용한다. 캐시에 데이터를 미리 복사해 놓으면 계산이나 접근 시간없이 더 빠른 속도로 데이터에 접근할 수 있다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;저희는 캐시 설정을 할 수 있습니다. 코드 용량을 줄이기 위해 적용했던 s3+cloudFront를 통한 정적 배포에서 CDN 캐시 설정과 http 캐시 설정이 가능합니다.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;HTTP 캐시&lt;/strong&gt;는 &lt;code class=&quot;language-text&quot;&gt;Cache-Control&lt;/code&gt;에 값을 설정해 줌으로써 해당 리소스 파일의 캐시 주기를 설정해 줄 수 있습니다. HTTP 캐시에서는 &lt;code class=&quot;language-text&quot;&gt;max-age&lt;/code&gt;라는 설정 값을 통해 해당 리소스의 유효기간을 정할 수 있습니다. (Expires 역시 동일하지만, max-age가 우선시 됩니다.)만약에 설정한 캐시 만료 전에 같은 요청이 들어온다면, 메모리에 저장되어 있는 기존 값을 보여줌으로써 서버 요청을 최소화 할 수 있습니다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;여기서 &lt;strong&gt;같은 요청&lt;/strong&gt;이란 같은 DNS에서 같은 파일 명을 요청하는 것을 의미합니다. 하지만, 버전을 업데이트 하거나 새롭게 배포하는 경우에 동일한 이름의 파일이 업로드 될 수 있는데, 저희는 배포를 할 때 &lt;code class=&quot;language-text&quot;&gt;index.html&lt;/code&gt;파일을 제외하고 모든 파일명과 확장자 사이에 랜덤한 해시값을 넣음 으로써 서로 다른 파일임을 알려주는 캐시 버스팅을 사용했습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// webpack.config.js&lt;/span&gt;
&lt;span class=&quot;token literal-property property&quot;&gt;output&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token literal-property property&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;__dirname&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;dist&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token literal-property property&quot;&gt;filename&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;[name].[contenthash].bundle.js&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token literal-property property&quot;&gt;chunkFilename&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;[name].[chunkhash].chunk.bundle.js&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token literal-property property&quot;&gt;assetModuleFilename&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;assets/[name][ext]&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;HTTP 캐시 정책은 각자 서비스에 맞춰서 설정하면 됩니다. 피움에서는 이 HTTP 캐시 설정일을 한 달로 설정했습니다. 즉, 한 달 동안은 브라우저에서 메모리에 파일들을 저장해 뒀다가 한 달 뒤에는 다시 CDN으로 부터 정적 파일 정보를 받아오는 것입니다. 모든 파일에 대해서 HTTP 캐시 설정을 했지만 &lt;code class=&quot;language-text&quot;&gt;index.html&lt;/code&gt;파일에 대해서는 캐시 설정을 하지 않았습니다. &lt;/p&gt;
&lt;p&gt;왜냐하면 &lt;code class=&quot;language-text&quot;&gt;index.html&lt;/code&gt;파일에는 해시 값을 추가할 수 없기 때문입니다. 따라서 데이터 요청을 할 때 &lt;code class=&quot;language-text&quot;&gt;index&lt;/code&gt;파일은 매번 S3에서 가져오고, 나머지 파일들은 HTTP 캐시를 통해 최적화를 했습니다. index파일의 경우에 CDN 캐시도 설정할 수 있었지만, 현재 I AM 권한이 없어서 CDN 캐시 자동 무효화를 할 수 없습니다. 따라서 CDN 캐시 설정을 하는 대신에 배포할 때마다 수동으로 무효화하기 vs 매번 S3에서 새로운 요청 하기 둘 중 하나를 선택했어야 했는데, &lt;code class=&quot;language-text&quot;&gt;index&lt;/code&gt;파일의 경우 성능상 문제가 있지 않아서 매번 S3에서 받아오는 형식을 선택했습니다.&lt;/p&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/4c0a0e334e2041637f10407f69648c04/2ed29/before_cache.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 125.88235294117646%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAZCAYAAAAxFw7TAAAACXBIWXMAAAsTAAALEwEAmpwYAAADnUlEQVR42tVVx5LjRgzlZ9i1NQoUqcCcs0gqjuSxXeWb//9Hnh8gcma9Vb75sgcQ3Y38gGYbfZIhjjP4cYUwyhGEMermiLo9YawcNHWNrj+jO3J/uiJOcnh+RN2Uuony/cHHwXmR0Q8n+EGMiE5FwXF9+DQQp1XdoOl6jOc76Ya2G5BmJRKScHH2ss0RMZD4MN7fHzQaMDB6WbW4XK74eD5wv11xGgflRVEhy0lFrTwva9VN0gIhk8iLRknkRpyWODGD43BWZYkehFKGB2cqQ9ZCrheiKBvNTnQdN5hk7icZ9z7B5fbUEv0gwm7v4kClGRMhMRQuGT2ev+P58Scx7jXALJ/JKNMQLUF3nIBldIpJklUKvmBUlK0aljVlbFjT9Ch5FrGKjGV6XkSsj9SJCEUD49thizfHxsLZYenusXC5ZuoLJ+V5Qp7g7RDr+m0fY53n+OVY4NeuxCIXOfXdHVabLVZrC8Z6Y8PkxrR20LVwc8v1RN+tRbbf7WHa1LG4dzy1nX2sTRtGxTK/B35PDAVLAf9AA+lcxFmN4pRls7PTeIie2El3BbuA8ly6XPQ3HPuRG5mrWCkIQzapxXa30/OcY5OkvACJdP/Axu1Vr+sH5eNwQX5usf6jg5HVI29Bj6KqOQ4ZsixXh0VZwbIsjkdOZ6nuZdBt21YKwoiD3jM7F63YM+DbX3R4qit0w8gOy9AW6sSlkmQohpKhyAry4XRWDLdbmwMdaYZBEHDs3jWgmYcwhsrXW/J4fuDx2weFd81qzkYzZ3QxaLsjnW2VEpYvAXaEJaF+w2Q2fz9gHFWxZ9mDkqQvDkqei0PJuqwqzVD0xIE4DKNIoXIch0PeoiBUVpcyw9NFBVKW58uPgR0Lwq8MeW+btmPpBc7XG2/RQR16nqcBpPTrVLK9NtkUppvnpTZCopvmmkYOqqqZmlJQuWSAGsN41s5LIMFZIIjY5cv1rgFtBjKktJFY9MNrdKRc4XXTTCXnKjuyATpKE4Y+qxGHcZzgxj+W+JFzI2XtVdMxgxYNS5dx8Fi2ZGZuNjp/PiEQknOLQTbM3HE9wtToeT9eEFNPzo3laoPF0sRyZSoXkjsp53KV1rr+OjOnOytrIVmLzXq+y/L5kcTRzOf17Gje/1tuf8r/J4fWT+1wasZ/Gay4X66sz4a85F/NMuRR0tcrSl+vF/+D8iSm2fxgJUinFy/hEA9lhi5PlZosQZMmcPm/dPlEuEWFfwDCOgJT6XSM8AAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;before cache&apos; title=&apos;&apos; src=&apos;/static/4c0a0e334e2041637f10407f69648c04/ca1dc/before_cache.png&apos; srcset=&apos;/static/4c0a0e334e2041637f10407f69648c04/e7570/before_cache.png 170w,
/static/4c0a0e334e2041637f10407f69648c04/f46e7/before_cache.png 340w,
/static/4c0a0e334e2041637f10407f69648c04/ca1dc/before_cache.png 680w,
/static/4c0a0e334e2041637f10407f69648c04/02d09/before_cache.png 1020w,
/static/4c0a0e334e2041637f10407f69648c04/2ed29/before_cache.png 1214w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/686e5732e6b7ef2bd0d2833d29395b85/ca756/after_cache.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 121.76470588235296%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAYCAYAAAD6S912AAAACXBIWXMAAAsTAAALEwEAmpwYAAAD3klEQVR42rVVWZbjNgzUQeJN1r5Tuyx5kdvdnU5ukfvfoVJFP/fMJC+f+cADRYIACihQztD06IYr6m6GqbnuRoynM5I4RnDcIYpTlFWDiXsSrSVpXmGoW/TdhLIZUdcd8sLAmUyLIi8RpQZxUiBJcxgGmeYLA51wub7huj5wvtzR9hNtchRlbS/npUGUZIjjjIEz3i3gXNc3NO2AjsaKXDGAvk/zFct5xfl6x0Jn83JDzwCyG6fF2sheQRRY2jocxgXr2wdu93eb1eX2QEvYeVExkyc8ZSQxhKXvl87yyu6/bJS90zUGb49PQlptdn4Q2/QlYZTaqE84OeGv+Pj8AyuDy0kQJYi5L7tvyJephIXN4obcrAklZU0rU9u1DCtlxGzbdsTj/QsNm5fnho3oEdGZmpkzwyhmhl5Z4Fhl8OscuzRE2BoEJkExMsPa2AtV3SA0FXZRgIh6T+3lRGHK515RIggTHFwfzv7gY7s9YL8/UjxsNgf4noc4POK3jYvd3mUZAuziCFuPe5RdGGDja83zwMfm4GK7c7E/eHDUgCQrbUFt3ShFVbOLHSlREPZoi9+KbwWbVLakSW6lqlqkackG1qiazt51+vlOIs88rJGQU0mSWpK2/cgACekjMhtSQ50v6VxczTBMM+ve4XwmnW4Ldn/NCOeeXZ5W0uadFxfybOSk9HRQWQkIdV7ODFbherszqxhhGKJpWkx0GEUx5vOFzifWMEBRj3BObWMvKRM5rOvmF4eTzd6Q5FfCIz2iiAww6PuBZUrI3dneixgoMxOc21iQV3d8/P6Fz68/CW2w9WsJRw7PlxsKQr0/PmBIJe2VZcUBWAk/x42Um4hOGdbdiZBJjXlZbJY1oeiyLhRlCd/3OWYnWwY5TpiRICvDThmyBMM42rVsK9PBWWbW8P6wETs2om4aW6OWWcpIGQyEdFvvdl8ZFkXB+b6S3AUuDKT6yzbJW3Z5HGwE1UfRA2XAmgmevlVDZX2lwyfk0EIdxsmiEDKbIUkdLXT4in7iwcKOqcAyFnzVRfOrC+v9DWmW2aYIhbqbZZrvm3Xqez5SjqqjB1RDLck4w8ejD88LCCG0a50fXA+eH8CV5lkQkj58GHQurYHYu0cEPontHjlWHLuXaHwObmD1D/FxsOLZef1h91xL69s7xk+Hv172vg2kf17/19nLx//lMPyXw5fBPx0KsvuT/l7L3lXtk2eGenpUC+nXM/Ta0/qlt/unbHbH7/WWZ3K827rwDhEcsVsvbsZ/SMOnquFzpn+JXms9T/Zf0jx/SBOnamlrnPjbkMxcd5z5mE9XQr6m4wl/A6qt4RHNYj/5AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;after cache&apos; title=&apos;&apos; src=&apos;/static/686e5732e6b7ef2bd0d2833d29395b85/ca1dc/after_cache.png&apos; srcset=&apos;/static/686e5732e6b7ef2bd0d2833d29395b85/e7570/after_cache.png 170w,
/static/686e5732e6b7ef2bd0d2833d29395b85/f46e7/after_cache.png 340w,
/static/686e5732e6b7ef2bd0d2833d29395b85/ca1dc/after_cache.png 680w,
/static/686e5732e6b7ef2bd0d2833d29395b85/02d09/after_cache.png 1020w,
/static/686e5732e6b7ef2bd0d2833d29395b85/ca756/after_cache.png 1296w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;빠른 3G환경에서 캐시를 사용하지 않았을 때는 로드되는데 까지 3.36초가 걸린 반면에, 캐시를 사용했을 때 로드되는데 까지 0.752초가 걸리는 것을 볼 수 있습니다.&lt;/p&gt;
&lt;h2&gt;이미지 최적화&lt;/h2&gt;
&lt;h2&gt;SVG-in-JS 개선&lt;/h2&gt;</content:encoded></item><item><title><![CDATA[서비스 내에서 발생하는 쿼리를 분석하고 개선하기]]></title><description><![CDATA[…]]></description><link>https://pium-official.github.io/query-analysis/</link><guid isPermaLink="false">https://pium-official.github.io/query-analysis/</guid><pubDate>Thu, 21 Sep 2023 00:00:00 GMT</pubDate><content:encoded>&lt;blockquote&gt;
&lt;p&gt;이 글은 우테코 피움팀 크루 &apos;&lt;a href=&quot;https://github.com/kim0914&quot;&gt;그레이&lt;/a&gt;&apos;가 작성했습니다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;서론&lt;/h2&gt;
&lt;p&gt;피움 서비스의 런칭 페스티벌을 무사히 마쳤습니다.&lt;/p&gt;
&lt;p&gt;런칭 일정에 맞춰 빠르게 개발을 진행하다 보니 꼼꼼하지 못한 부분이 존재했고, 다음 개발에 착수하기 전 부족한 부분을 개선하고 넘어가기로 했습니다.&lt;/p&gt;
&lt;p&gt;먼저 서비스 내에서 발생하는 모든 쿼리를 정리해보았습니다.&lt;/p&gt;
&lt;p&gt;현재 서비스의 모든 기능을 인수 테스트로 작성했기 때문에 인수 테스트를 하나씩 돌려보며 발생하는 쿼리를 추적했습니다.&lt;/p&gt;
&lt;p&gt;JPA를 사용하는 환경에서 스프링 properties 설정 중 아래 옵션을 설정하면 쿼리를 확인할 수 있습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;properties&quot;&gt;&lt;pre class=&quot;language-properties&quot;&gt;&lt;code class=&quot;language-properties&quot;&gt;&lt;span class=&quot;token key attr-name&quot;&gt;spring.jpa.show-sql&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token value attr-value&quot;&gt;true&lt;/span&gt;
&lt;span class=&quot;token key attr-name&quot;&gt;spring.jpa.properties.hibernate.format_sql&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token value attr-value&quot;&gt;true&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/9278616bd57f30e75430b64b89399923/bbbf7/img.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 70.58823529411764%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAABY0lEQVR42p1T2W6DMBDk/x/7RX2t+gFN1CYctgngA3BIuDO1DSFVGrUKK61Ya/F4Zsf2ePwBSgkoIdjtvhBFIYqigIvLBeM4Tmlqu66aEQc9QDcXPAovyxLUdY1hGND3vcsFwETXda7fdb1ZjXgPa7y85ngLatcf73C9tm1RlgWUkobArZsxApUeXN22jTvE9q//XOtrur5JB6h1CSkETqeTY2qDRz546M/wd5vn/AVovp6VI6VEHDMEgY/z+ewg9v4GjAaTrB/s/stFspQCygALw7SqjiCSQhzl84BNc2PIGEUYBNBliW38CSbj9QzTxLg9y7UNlhIIlc5OPsWwMQ4rd//SNFlcnGbor5Hc4Kj1Irs0cm2EnKyboXXZvgxGKXx/bwypHMiGbsFEvI6hvYeCc2RZ6jZPDCPwUqxzOc9z85YjBIahNckxJGaGgq1weWZonc5ztcxQZQfkPHn4zP4C/Aar/0Pc9UXs+QAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img&apos; title=&apos;&apos; src=&apos;/static/9278616bd57f30e75430b64b89399923/ca1dc/img.png&apos; srcset=&apos;/static/9278616bd57f30e75430b64b89399923/e7570/img.png 170w,
/static/9278616bd57f30e75430b64b89399923/f46e7/img.png 340w,
/static/9278616bd57f30e75430b64b89399923/ca1dc/img.png 680w,
/static/9278616bd57f30e75430b64b89399923/02d09/img.png 1020w,
/static/9278616bd57f30e75430b64b89399923/bbbf7/img.png 1280w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;현재 서비스에서 사용하고 있는 API에서 발생하는 쿼리를 위와 같이 정리하였고 개선이 필요한 부분, 개선이 불필요한 부분을 먼저 구분했습니다.&lt;/p&gt;
&lt;p&gt;개선이 필요한 원인들은 아래와 같습니다.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;batch로 진행할 수 있는 작업을 단건 질의 여러 번 실행&lt;/li&gt;
&lt;li&gt;DB 인덱스를 적절히 사용하고 있지 않음&lt;/li&gt;
&lt;li&gt;PK를 이용해 조회/삭제/수정을 할 수 있음에도 PK를 사용하지 않고 다른 컬럼을 이용해 질의&lt;/li&gt;
&lt;li&gt;N+1 발생&lt;/li&gt;
&lt;li&gt;Pagable 사용 시 불필요한 count 쿼리 발생&lt;/li&gt;
&lt;li&gt;애플리케이션 단에서 처리할 수 있는 로직을 DB로 질의&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;생각보다 개선할 수 있는 부분이 많았습니다.&lt;/p&gt;
&lt;p&gt;개발 당시에 꼼꼼하게 코드 리뷰를 했다고 생각했었지만...!! 쿼리를 더 꼼꼼히 확인하지 못했던 점이 아쉬웠습니다.&lt;/p&gt;
&lt;p&gt;위와 같은 문제가 발생한 이유를 하나씩 알아보았습니다.&lt;/p&gt;
&lt;h2&gt;batch로 진행할 수 있는 작업을 단건 질의 여러 번 실행&lt;/h2&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/8d04f58740341c7a065c4c8d9ccc26ae/8aec5/img_1.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 175.29411764705884%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAjCAYAAACU9ioYAAAACXBIWXMAAAsTAAALEwEAmpwYAAACCklEQVR42q1W226jMBTM/3/dSq20iRIId2wD5mYgeZrOcdq0u2/BfbCjWGKYc87MmMM89SiLDHF6RdsauLnHts6712FbJoxjj6SqURDYdgaLG7HyfBegPHi/LXCTRZpEKPIE1/iMrtX+/HWG3G6bg7UNTsd3nP6+IbqcPGhVZh54F+DQt0iuEXKlsPG/nLt5eLn0J+BIwJjMLtEZcXRCXeW7+ugBZzehNIYgGctMOfUU02j9i14GlIfWbYHqLGWjfenCdg+YB5Q+GVMjpWSEmaoLrhyav9PQvQx8EM3VqsYxyX3p9xsZhwhbGCzrgrLt0DRqd+++AWUoy4xMaz9ZaUGQ9cTL0jeZsAxkjzv+YzjBdC3ekgIDPb3t9PCPHs6fsuk80yFAMs+0EWYVe2ipwxCwhw7ZwyxP8X6+MCDa35GNWxxKOmWaBp+FW7gOHWVjfBYG91Aiv6H1RIO2VeGyWVmiMgrHrHhYL3QoX05JlEZFluMQWLKPL/ZQ2w49L6h1GcOtl3MY5zh6XkxBspGt6y1OJZNmDmP3j/WMtT5Yg3soQhaHpGVB+VThDCX/KoZCnDOxWfJ9C7Uet5H6u9QGhoktQwq2nqNsyqaF0VU4oJT8sF7BDyX9C9ajkEveen+iFOM0+vgKls32KRthKmWvAdfAw8scSlIraFWG33rCRpboceY3ohx+ne1ZHyg2g5Z8d25TAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img 1&apos; title=&apos;&apos; src=&apos;/static/8d04f58740341c7a065c4c8d9ccc26ae/ca1dc/img_1.png&apos; srcset=&apos;/static/8d04f58740341c7a065c4c8d9ccc26ae/e7570/img_1.png 170w,
/static/8d04f58740341c7a065c4c8d9ccc26ae/f46e7/img_1.png 340w,
/static/8d04f58740341c7a065c4c8d9ccc26ae/ca1dc/img_1.png 680w,
/static/8d04f58740341c7a065c4c8d9ccc26ae/8aec5/img_1.png 942w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
사용자가 서비스를 탈퇴하면 사용자의 반려 식물을 모두 삭제하고 있습니다. 반려 식물을 삭제하는데 반려 식물 개수만큼 delete 쿼리가 발생한다는 점을 파악했습니다. 또한 반려 식물이 삭제되는 경우 해당 반려 식물의 히스토리까지 함께 삭제하고 있기 때문에 히스토리 개수 만큼 delete 쿼리가 발생한다는 점도 함께 파악했습니다. 히스토리는 서비스 내에서 가장 많이 생성되는 정보이고 생성 주기가 짧은 만큼 많은 데이터가 저장되기 때문에 반드시 개선이 필요한 부분입니다.&lt;/p&gt;
&lt;p&gt;이 문제의 원인은 JPA의 deleteAll 메서드에 있었습니다. JPA의 deleteAll은 iterator 방식으로 동작하며 엔티티를 삭제하기 전 DB에 조회 쿼리를 실행한 후 삭제합니다. 즉, 50개의 데이터를 삭제한다고 했을 때 50개의 조회 쿼리, 50개의 삭제 쿼리가 발생한다는 것입니다. 또한 히스토리도 함께 삭제하고 있기 때문에 훨씬 더 많은 쿼리가 발생하고 있습니다.&lt;/p&gt;
&lt;p&gt;삭제 시 조회가 발생하는 이유는 영속성 컨텍스트와 관련 있다는 생각이 들었습니다. 만약 엔티티가 cascade나 orphanRemoval과 같은 다른 엔티티의 생명 주기와 관련이 되어 있는 경우, 해당 엔티티의 영속화가 필요하기 때문에 조회를 한다고 생각합니다.&lt;/p&gt;
&lt;p&gt;현재 반려 식물 엔티티는 다른 엔티티의 생명 주기와 관련이 없으므로 굳이 영속성 컨텍스트에 로드할 필요가 없습니다. 그러므로 &lt;strong&gt;JPA에서 제공하는 delete를 사용하지 않고 queryDsl의 batch delete를 이용해 한번에 삭제하도록 쿼리를 개선&lt;/strong&gt;했습니다.&lt;/p&gt;
&lt;h2&gt;DB 인덱스를 적절히 사용하고 있을까?&lt;/h2&gt;
&lt;p&gt;서비스 내에서 발생하는 쿼리들을 조사하며 인덱스는 적절히 타고 있는지도 함께 알아보았습니다.&lt;/p&gt;
&lt;p&gt;EXPLAIN 명령어를 이용해 쿼리를 하나씩 실행해 보면 해당 쿼리의 실행 계획을 확인할 수 있습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre class=&quot;language-sql&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;token comment&quot;&gt;--+-----------+-----+----------+----+-------------+----+-------+----+----+--------+-----------+&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;id&lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;select_type&lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;table&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;partitions&lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;possible_keys&lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;key&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;key_len&lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;ref &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;rows&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;filtered&lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;Extra      &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;token comment&quot;&gt;--+-----------+-----+----------+----+-------------+----+-------+----+----+--------+-----------+&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;SIMPLE&lt;/span&gt;     &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;d1_0 &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;null&lt;/span&gt;      &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;ALL&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;null&lt;/span&gt;         &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;null&lt;/span&gt;   &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;297&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;11.11&lt;/span&gt;   &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;Using&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;where&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;token comment&quot;&gt;--+-----------+-----+----------+----+-------------+----+-------+----+----+--------+-----------+&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;위 실행 계획은 &lt;strong&gt;사전 식물 검색 쿼리의 실행 계획&lt;/strong&gt;입니다.&lt;/p&gt;
&lt;p&gt;사전 식물 검색 쿼리는 &lt;code class=&quot;language-text&quot;&gt;like&lt;/code&gt;를 이용해 다음과 같이 작성되고 있고 DB full scan을 하고 있습니다. &lt;/p&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/626afba9f90deb761ff33774c6ad1016/566b8/img_2.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 75.29411764705883%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAAsTAAALEwEAmpwYAAABRklEQVR42p2USXODMAyF+f9/rJdOJ43DHrOTAFnYbLL08Corzb34IHvswd886Uk456FHeb6i7Rp07QHjcMH9pnBbZqtwpnnEqGZUVY4iTziqMkV/PVmBHbP8PBYUmUQc+fDdLVyx4fPjrrHoaR3QPDAPm0OJskiRyIj3eertUn4Dc1IUBi6+N58IfEFqPWg12gOPpPBdQwMy9bOq4RtY5BJR6ML3BLIkJmMyNsYaWP+5nCYR1zEMdmiOlb0pNSkyMLkPcOqO3JNqHih6O6BJ8aXMZYPMuWtrXM6tHfBQ5wyU+5B3UwJzd720q8xh4POhuffi0CNjPAaaENsvvn9S4/+3lo6mD5dFkZqCnX61ToqqyMltiaFfN4KObE74iCnd2IfnClK4QxoJyEwgr/z1baPUhJF+EMZRM25aDbjrEXrpofT68fsFo4F1DlCqAjYAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img 2&apos; title=&apos;&apos; src=&apos;/static/626afba9f90deb761ff33774c6ad1016/ca1dc/img_2.png&apos; srcset=&apos;/static/626afba9f90deb761ff33774c6ad1016/e7570/img_2.png 170w,
/static/626afba9f90deb761ff33774c6ad1016/f46e7/img_2.png 340w,
/static/626afba9f90deb761ff33774c6ad1016/ca1dc/img_2.png 680w,
/static/626afba9f90deb761ff33774c6ad1016/566b8/img_2.png 876w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Full scan을 하기 때문에 데이터가 많아지면 조회 성능이 느려질 수 있다고 판단했습니다. 또한 검색 서비스는 비로그인 사용자도 할 수 있고 서비스의 메인 페이지이기 때문에 개선이 필요하다고 생각했습니다.&lt;/p&gt;
&lt;p&gt;검색 기능에서 적용할 수 있는 인덱스인 FullText 인덱스를 적용한 후 테스트를 진행했습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre class=&quot;language-sql&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;CREATE&lt;/span&gt; FULLTEXT &lt;span class=&quot;token keyword&quot;&gt;INDEX&lt;/span&gt; plant_name &lt;span class=&quot;token keyword&quot;&gt;ON&lt;/span&gt; dictionary_plant&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;WITH&lt;/span&gt; PARSER ngram&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre class=&quot;language-sql&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;token comment&quot;&gt;----------------+----------+----------+------------+-----------+---------+-----------+--------+------+----+----------+-------+-------------+-------+----------+&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;Table&lt;/span&gt;           &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;Non_unique&lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;Key_name  &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;Seq_in_index&lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;Column_name&lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;Collation&lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;Cardinality&lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;Sub_part&lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;Packed&lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;Null&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;Index_type&lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;Comment&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;Index_comment&lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;Visible&lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;Expression&lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;token comment&quot;&gt;----------------+----------+----------+------------+-----------+---------+-----------+--------+------+----+----------+-------+-------------+-------+----------+&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;dictionary_plant&lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;         &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;PRIMARY&lt;/span&gt;   &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;           &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;id         &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;A        &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;317&lt;/span&gt;        &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;null&lt;/span&gt;    &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;null&lt;/span&gt;  &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;    &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;BTREE&lt;/span&gt;     &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;       &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;             &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;YES    &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;null&lt;/span&gt;      &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;dictionary_plant&lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;         &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;plant_name&lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;           &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;name       &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;null&lt;/span&gt;     &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;317&lt;/span&gt;        &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;null&lt;/span&gt;    &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;null&lt;/span&gt;  &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;YES &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;FULLTEXT  &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;       &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;             &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;YES    &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;null&lt;/span&gt;      &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;token comment&quot;&gt;----------------+----------+----------+------------+-----------+---------+-----------+--------+------+----+----------+-------+-------------+-------+----------+&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;인덱스를 적용하고 동일한 쿼리를 실행했습니다. 현재 사전 식물은 약 350개입니다.&lt;/p&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/ab6265f8faff938d0533ee92768c4a2d/bbbf7/img_3.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 4.705882352941177%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAABCAYAAADeko4lAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAVElEQVR42mNwszX77+tk9T8jIfJ/uK/bf3sTnf8edmb/48P8//s4WYPFgtwd/qdEh/yP8HP/7+1o+T82xPd/UmTQ/0CgeIS/+/9kIDshPACo3uo/ANZBJdjd883uAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img 3&apos; title=&apos;&apos; src=&apos;/static/ab6265f8faff938d0533ee92768c4a2d/ca1dc/img_3.png&apos; srcset=&apos;/static/ab6265f8faff938d0533ee92768c4a2d/e7570/img_3.png 170w,
/static/ab6265f8faff938d0533ee92768c4a2d/f46e7/img_3.png 340w,
/static/ab6265f8faff938d0533ee92768c4a2d/ca1dc/img_3.png 680w,
/static/ab6265f8faff938d0533ee92768c4a2d/02d09/img_3.png 1020w,
/static/ab6265f8faff938d0533ee92768c4a2d/bbbf7/img_3.png 1280w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;위가 FULLTEXT &lt;code class=&quot;language-text&quot;&gt;INDEX&lt;/code&gt;로 조회한 결과이고, 아래가 &lt;code class=&quot;language-text&quot;&gt;like&lt;/code&gt; 쿼리로 조회한 결과입니다. &lt;/p&gt;
&lt;p&gt;인덱스를 설정했음에도 불구하고 like 쿼리의 실행 결과와 큰 차이가 나지 않음을 확인했습니다. 데이터 개수가 많지 않기 때문에 큰 차이가 발생하지 않았습니다.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;0.0002s&lt;/code&gt;의 차이는 무의미한 차이라고 판단했고, &lt;strong&gt;사전 식물의 경우 데이터가 아무리 많아도 1000개 이상 생길 수 없다고 판단&lt;/strong&gt;했습니다. &lt;/p&gt;
&lt;p&gt;또한 인덱스를 사용하는 경우 &lt;strong&gt;DB 내에서 인덱스를 위한 별도의 페이지(저장 공간)가 필요하다는 오버헤드도 존재하기 때문에 like 쿼리를 그대로 사용하는 쪽으로 결정&lt;/strong&gt;했습니다.&lt;/p&gt;
&lt;h2&gt;N+1&lt;/h2&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/25ee7b448cec813bb50204c4621135f0/d8a90/img_4.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 168.8235294117647%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAiCAYAAABfqvm9AAAACXBIWXMAAAsTAAALEwEAmpwYAAACOklEQVR42q2W23LaQBBE+f+/S5VJuEtCd4EEknZ1IQWd6QnkySHyKrjWFjwcz0z39LIYhwFVVcIYg//xWtzvd1jToLmWsO0VQ2/Rd0YPn6eecejwkJ8FqZ1tkKQxtn6AtiHU6Om7duJpFPp4CJC/+ObnrUdRpAiPHoo8wbU6oZd/5ARke+NgcRKQ722x3fxAHPnuFY7SXiNzjLIUWRrKidDU1Txgaw38JEESH5/A0g0IUaazLS4ys/Kc4Xo563Mtfx2B0OHnIogXxWKhWi1wG3tV31FlEWXskOcpjsFBVWa1+vlg3VVOkyP2uzXWqw9R+jvOp0zbnwEM/wBZKefZNhd3YJ7FCPydeHGnbZ9krrOMTQgrO/p7re4mc50FZIWH/Qa77UpXkBVOU/oT4O0pyma9xPLjm4DXMJI+zrbpBMrE4S5zW6qyUE+673JbIykK8V+usGnq/g0o7VqpMBUg9zjPIpTiQadNeQUsK6ORmTJU2DltGA69hEMhsI0kNmFD305cuTeiMLFzaXe/W8E7bBGKH017nXgVvDF2IKYOZFO4MZ2t5xjbKPB1BXBjOMdZFVJhpgxNzedartZZQKbNerXUORJI5WftMiEUhIeVRqE/P218EYMgJjY3hm07AYenKN5hozOk2kwf58S+acuhpjXji3PkPKn2v03+Jm3oQWZhFHpaLav8MvCVNrGEA/eZ8zsVyRci7JMKjXwVSfJM53ipfoO4ek6JzTv51ZaRSnu9jzsRyk4+ZBD4C/D7N7JRv2v2AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img 4&apos; title=&apos;&apos; src=&apos;/static/25ee7b448cec813bb50204c4621135f0/ca1dc/img_4.png&apos; srcset=&apos;/static/25ee7b448cec813bb50204c4621135f0/e7570/img_4.png 170w,
/static/25ee7b448cec813bb50204c4621135f0/f46e7/img_4.png 340w,
/static/25ee7b448cec813bb50204c4621135f0/ca1dc/img_4.png 680w,
/static/25ee7b448cec813bb50204c4621135f0/d8a90/img_4.png 920w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;반려 식물을 조회하는 과정에서 사전 식물 정보를 함께 제공해주고 있습니다. 반려 식물이 사전 식물을 Lazy 하게 가지고 있기 때문에 반려 식물을 조회하고 정보를 응답하는 과정에서 사전 식물을 조회하는 추가적인 쿼리가 발생했습니다.&lt;/p&gt;
&lt;p&gt;조회 기능이 다른 기능보다 압도적으로 많이 발생하는 저희 서비스에서는 반드시 해결하고 넘어가야 하는 문제였습니다.
위와 같은 N+1이 발생했던 &lt;code class=&quot;language-text&quot;&gt;히스토리 단건 조회-(기본, 필터링, 페이징)&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;반려 식물 조회&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;리마인더 조회&lt;/code&gt; API에서 사용하는 조회 쿼리를 &lt;strong&gt;fetch join을 이용해 한 번에 조회하여 가져올 수 있도록 변경&lt;/strong&gt;했습니다.&lt;/p&gt;
&lt;h2&gt;PK를 사용하지 않고 다른 컬럼을 이용해 질의&lt;/h2&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/71e4bdedc855b2738ed0889682d1beb0/d2d74/img_6.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 131.1764705882353%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAaCAYAAAC3g3x9AAAACXBIWXMAAAsTAAALEwEAmpwYAAABnklEQVR42qVV2W6EMAzk/7+vx17sQghHOEO4tw9T22pXqvqWPBgFEKOxxzNEbuxRlhrD0OHYF2zrFFTRtjiYtkFW5LB9g5XuufwBtxkHlVZ3nD7fEN/OYNY7PfMC3LcJg7PQhUZZKJgqxzKP/gyPfUZjLVSu0ZhC2g6aIbMZbYehr9E2Fdq6xDJZf8CJ5pVqhbI2ovLXc5P5+QoTycdUSj2g0jvNMcPkBu8ViuRAbDQB3uMLLud3EadrjZc4Asjt6SzB7Xoi0LOAMUtvhgyY60R2sMiZXYWZhPHZxT8Mr5cPZDRHX3b/AOPbCTG1bcjbQQy3lQEfwvBBwtih/VHZ+VnPuhFFmQsz9nGQ9Z4/1tNlIdZryCmT6+mlZzisC1mPWHWdQU2ArPBoW3+G3GKSKVRNjeexSvlG18t6Cx2USmRlmKWvwi+Vl9mh0KmozG4JClhO69YOFLA5uqaSKAvKQwYcJmJIKpsyE5XXkLXh9jj2e0pq3j+2XdhPij5WVYXMUMDSkoco/Gq5G0ektDqO5hcMuNNlIpVFjIBWfwG/Ab3pzXomcuh8AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img 6&apos; title=&apos;&apos; src=&apos;/static/71e4bdedc855b2738ed0889682d1beb0/ca1dc/img_6.png&apos; srcset=&apos;/static/71e4bdedc855b2738ed0889682d1beb0/e7570/img_6.png 170w,
/static/71e4bdedc855b2738ed0889682d1beb0/f46e7/img_6.png 340w,
/static/71e4bdedc855b2738ed0889682d1beb0/ca1dc/img_6.png 680w,
/static/71e4bdedc855b2738ed0889682d1beb0/02d09/img_6.png 1020w,
/static/71e4bdedc855b2738ed0889682d1beb0/d2d74/img_6.png 1152w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/820f2411577d0046763b69bfa418d3a1/bbbf7/img_5.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 38.82352941176471%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA90lEQVR42o1RXW+EMAzj///I3Z3GTf2mFFooL14dDoY06bYHK03qOk7aWVdg/YJhrMhLxTTNKCUj54x1XVFrlfhfdEEFmN7gSw149BYftzs++ydu9we01hjH8RTetu2CPWf92rRLU4LzDiF4DEOA976JpHYeYK2Dc05EU5oap9UcueSFxomCGMeLYEpC3C+iCB2R4GNCHsedwwYUYeOj2SlIgjYGxlhxx848K6VhW6RD3rPOvV7HrHX9PTI7hJeTeDqIIu68P11urx3++Sm+kcWNpRsve2OulBJndEnHWhu5z7m8FyylYJ5nGecA8yt+ahnLsrwV/AYQ/mXD9UuYSAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img 5&apos; title=&apos;&apos; src=&apos;/static/820f2411577d0046763b69bfa418d3a1/ca1dc/img_5.png&apos; srcset=&apos;/static/820f2411577d0046763b69bfa418d3a1/e7570/img_5.png 170w,
/static/820f2411577d0046763b69bfa418d3a1/f46e7/img_5.png 340w,
/static/820f2411577d0046763b69bfa418d3a1/ca1dc/img_5.png 680w,
/static/820f2411577d0046763b69bfa418d3a1/02d09/img_5.png 1020w,
/static/820f2411577d0046763b69bfa418d3a1/bbbf7/img_5.png 1280w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;회원을 삭제 기능에서 회원 ID로 삭제하지 않고 unique 컬럼인 kakaoId로 조회한 후 회원을 삭제하고 있음을 확인했습니다.&lt;/p&gt;
&lt;p&gt;회원 객체가 이미 영속화되어 있는 상황에서 PK가 아닌 unique 컬럼으로 조회 후 삭제 질의를 날렸기 때문에 추가적인 select가 발생했고 &lt;strong&gt;PK를 이용해 삭제하도록 변경&lt;/strong&gt;했습니다. (OSIV가 켜져 있기 때문에 withdraw 메서드가 호출되는 시점에 member는 영속화가 되어 있습니다)&lt;/p&gt;
&lt;h2&gt;Pagable 사용 시 불필요한 count 쿼리 발생&lt;/h2&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/394ef40bb066ff254a206c8f2e6e815e/8d021/img_7.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 133.52941176470588%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAbCAYAAAB836/YAAAACXBIWXMAAAsTAAALEwEAmpwYAAACiklEQVR42rVUS28SURjlN7l269q46Na41eCSRBe6MS5csJSEtCZQkzYFmkKHN8yUxnTRpJvuWNc2hvAQaadQhuF4z9WP3CFhrLVOcubc13e+152JlMtlFItF7O3tIZ/Pg/N/QaReryOdTiMajSIWi4HzUql0d0G+KLC1tYVUKoVaraYjlvXbIiBIVKtVLZTNZtFs2kq4rrnRaCo01PgXM4NlMIiAIMUymQzi8TiSyXVs72zgXfwl1j990AaZnQw2Nzexu7sLx3HQarVweHiISqWi7XiG40CERKFQwMdEAq/eP8PT2COsPX+I7VwK5VIVlrWvIzw4ONCgsG3bmomFIAcEo6Tg+sYG3r55gSePHyD6eg2VehHWvqX3aCAREqxdLpfTe0ybOosIObEsS6X2GQ1Vv3QygWIhr6JpLbzTiLVkZARTZSDEIkIeMMG0HMfGl6MjOErMVmuSlqQpMNfFPjKZTCAYj8dwXRc3Nzd6TMi6Ce4LTHsignt+FoLz+VzDfPr9Pnq9HjqdDgaDAc7OztDtdgNnlm0Cgr7vLzZmsxlOT09xcnKC4+NjtNttXTeOTSHTJiD4X1JmQ+jx8vJS89XVlWYW2/M8PWfkbAz5+vo6XJBdI9OAPJ1ONVNM5nQg57i+UvBvnlX1u7Mg05WIQwXlID2TZS6pydzkUEGp2TKzZiJIZ+Z+aFOk6NIEsu6m6j6Z3Zbuktn1P3aZgmaqHPMaed4Uo+EQnnL6YzTSzvn1rBSkkHgeKQO5j5zzfk4HPbgX5/B5hjX+nUmooFxceiYPVUSMmt/0+NsFRudf4Q2/Y6KikwsemrKZqsmMyOfvSon5My9wwW+VsrC71AyX68qJee5eLnbYz+EngPK1ezdhIggAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img 7&apos; title=&apos;&apos; src=&apos;/static/394ef40bb066ff254a206c8f2e6e815e/ca1dc/img_7.png&apos; srcset=&apos;/static/394ef40bb066ff254a206c8f2e6e815e/e7570/img_7.png 170w,
/static/394ef40bb066ff254a206c8f2e6e815e/f46e7/img_7.png 340w,
/static/394ef40bb066ff254a206c8f2e6e815e/ca1dc/img_7.png 680w,
/static/394ef40bb066ff254a206c8f2e6e815e/8d021/img_7.png 902w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/333ceb673850ac1c3b6a4674837c1c6d/7bff9/img_8.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 107.6470588235294%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAWCAYAAADAQbwGAAAACXBIWXMAAAsTAAALEwEAmpwYAAACMUlEQVR42p1V2Y7bMAzM/39eC2Sby44P2ZIsyfeR7cOUZNZBDyCN8zAJYdjj0QxJ7ypbIk1j5CrDMg2Ypx7T2Mn/O9iNfYOysrjkBZrGy8XP24zbMr5HeCeYYHSO43GPODohSyMEb+T6Mg/bCfkhOfo1QhKfcT59IM+uaGqHllRvseBBqMscp9MPRKTQVaW8oCwyqjXGod1GeCNCRwQRKyw1KfMY+lpu2OqlEI5jD60VHXWPj/03wnfxse/q7aEs9BM6TrpC1zjU5FsdKqxWrDeyj694+SCMVYFLksA7I1iPusyj1CuW/1iwW4vgKyR5Jk1+pnDi6IjL+QBrCknbVUYCYvXPQtrd5h421NAhoCcvfXDw9KCnpFe1DCa25HPw9jmh+EOwRiGJDoguh0dzF/kVPEnc4Iz12M89JIW+aZDqEgUpqKyWo62q6poConDWUB5ggq+Qfg9rx0lOPCnkoaIFwQ1eqhSl0TBNC+UDDMGSFbnzKKlmGLLI1wHKOWgagNWGHaspiMDaAvMy/JHkO1tHto0yBuckR2ctajKdE98ybn+lPKAduG1oCTgrvm2d339Dae+NnagcjsLg1fXzc5YZX298dY1J2wzklaHGjdMUhhQqWl0cDnvbtUG8HMgaxjSy8u756NVdC1ffU+NPQXo9I0suMjUSGL+EepLB9dPGllluW+TUh6bMaHMraXL2sQlWjsqQ9L/ql/ZhFzRUekEcn5CQwjyLZXt7p4Xk1W3zCzeTj1pu9gFrAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img 8&apos; title=&apos;&apos; src=&apos;/static/333ceb673850ac1c3b6a4674837c1c6d/ca1dc/img_8.png&apos; srcset=&apos;/static/333ceb673850ac1c3b6a4674837c1c6d/e7570/img_8.png 170w,
/static/333ceb673850ac1c3b6a4674837c1c6d/f46e7/img_8.png 340w,
/static/333ceb673850ac1c3b6a4674837c1c6d/ca1dc/img_8.png 680w,
/static/333ceb673850ac1c3b6a4674837c1c6d/7bff9/img_8.png 874w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
피움 서비스의 물 주기 기능에서 validation을 진행하고 있습니다. 해당 반려 식물의 물주기 히스토리에서 마지막 물주기 이전, 즉 최신 물주기 히스토리 중 2번째 기록을 이용해 잘못된 요청을 하지 않도록 검증하고 있습니다. 그러므로 두 번째 히스토리를 조회하는 쿼리를 질의하고 있습니다. Pagable 객체를 이용해 이 쿼리를 질의하고 반환 타입을 Pagable로 반환받습니다.&lt;/p&gt;
&lt;p&gt;그렇기 때문에 Pagable 객체에 필요한 총 데이터 수를 가져오는 count 쿼리가 발생합니다.&lt;/p&gt;
&lt;p&gt;페이징이 필요 없는 기능에서 페이징 객체를 반환받고 있으므로 &lt;strong&gt;Pagable 대신 Slice 객체를 반환받도록 변경하여 count 쿼리가 발생하지 않도록 개선&lt;/strong&gt;했습니다.&lt;/p&gt;
&lt;h2&gt;애플리케이션 단에서 처리할 수 있는 로직을 DB로 질의&lt;/h2&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/337b116ca22b4d31585c6062eb202f76/bbbf7/img_9.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 89.99999999999999%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAAAsTAAALEwEAmpwYAAABiUlEQVR42q1US26DQAzlSL1Cz9AT9B5ddtVVpS56jW56n0QiCX+GYYCBmeHVJoIQhSZRqSVLHts8PfzzMBMhFfzdDrppJl9D9uFwwH6/R9u2k7/SNXaHHZI4mUPA6/serCzW9eg6M71Nb6FtB2ssjDn5WRzZnTnGzgDzPIcQAksibY2oKwDCMdYMoLfEi+N4MVFrjThLkJkSYRiC84qiuA1orT37lVHYp00L5Ro46zAvzVXAa0GCQWokgjDAdrtFlmXrAG3voGxDjeqGEvwLw9woJEkC3/cRRdF6hpXTaOpmaAizXM1QEEMeqzA4dloptZ5hRSBpml4M999qWEsUokBOLLmW3KBVgLJVxLAa2LE6564DlmW5mGSIiVCS1k+j1S2klGfH4VdALvISoKXtkGWOtBJ0cTR1WdwHeOnqx93Dx/Mj3p4e0NGpGn13ATLD+YFgdiUx+v58xdf7CxTZzp3AuDF8A+Y3c/ze4wfPWRAEQ4CHl+3NZjN9wN3lLeEYK18f1vHNuWP8B3XwhPq8mvhbAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img 9&apos; title=&apos;&apos; src=&apos;/static/337b116ca22b4d31585c6062eb202f76/ca1dc/img_9.png&apos; srcset=&apos;/static/337b116ca22b4d31585c6062eb202f76/e7570/img_9.png 170w,
/static/337b116ca22b4d31585c6062eb202f76/f46e7/img_9.png 340w,
/static/337b116ca22b4d31585c6062eb202f76/ca1dc/img_9.png 680w,
/static/337b116ca22b4d31585c6062eb202f76/02d09/img_9.png 1020w,
/static/337b116ca22b4d31585c6062eb202f76/bbbf7/img_9.png 1280w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/65b0642debc20ccfcf225dd8fecc7370/600ec/img_10.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 117.05882352941177%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAXCAYAAAALHW+jAAAACXBIWXMAAAsTAAALEwEAmpwYAAACGUlEQVR42qVV2Y7bMBDz/39gC6TbJOtbhy3fR7AAy5nY6TbtooDzMJFsKZSG5Iyjrq0RpzGst1iXEfPUvxTROvewISC3Bj3BXwaUn27okGYJ4vcznCthTQ5ni23MYcoMns9VZWHq6rHuubfIE523TYVlHjbAvoPnxrbxulB4D1sfu23UESBO3uGUw0FPeSnlhT9t3+I9iVEWKULtMPTNaxwuFCZLLjidvuEHQ3gRxaexO3bDummQm0LJ3W/Zd+Ggbchb1VHlgsqZTAENQ8Q5BCg3qb3RaEKlQKL2/EW60/Pz075oGhqc0wyZc/i4zcrdbZ2wcFw/hTyLA1aJP9am+/rmjkgEGUaKQiGy5Mpb0ovBoSGPNY0casvRKK+SQd2E7b3TEHN/5jySE9uegMbAsiIqXyIrCxS2JIDTA+5gYvoaoQ0630MOk3G3mnIopwh3wsdICkLXoGU57qnuKT2nvDzNFXAkcloUSKiyXls38c9fqPhfUQT5to5Iaey303fE15/qx/lgCWql9EOroiTxGdfLmwIerWlV2bEfZmWpikprqvyd6OP9kO3LOarMSpHbOYIebRDaviRdaV/yYmT6Ei+1r8JX/ARYTATa7bFv2OeP8R/v/gIcxwE5G0ISX5S/ir70W4jRhQatdxrcsZP/XjP6eZBRPnb6CRDA0LUo3VZiLKucc1Pd3S/elJD5wEY8MIv9+bHG2P34C1zL4ijlVBMZAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img 10&apos; title=&apos;&apos; src=&apos;/static/65b0642debc20ccfcf225dd8fecc7370/ca1dc/img_10.png&apos; srcset=&apos;/static/65b0642debc20ccfcf225dd8fecc7370/e7570/img_10.png 170w,
/static/65b0642debc20ccfcf225dd8fecc7370/f46e7/img_10.png 340w,
/static/65b0642debc20ccfcf225dd8fecc7370/ca1dc/img_10.png 680w,
/static/65b0642debc20ccfcf225dd8fecc7370/02d09/img_10.png 1020w,
/static/65b0642debc20ccfcf225dd8fecc7370/600ec/img_10.png 1126w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;반려 식물을 생성, 환경 변화, 물 주기 등 반려 식물과 관련된 이벤트가 발생했을 때 히스토리를 저장하고 있고, 한 동작에서 여러 히스토리가 생성되고 있습니다. 히스토리를 저장할 때 어떤 히스토리인지 히스토리 카테고리를 이용해 구분합니다. 이때 해당 카테고리가 DB에 존재하는지 확인하고 저장하기 때문에 카테고리 조회가 발생합니다. 현재 카테고리가 총 6개 존재하고 요구사항으로 카테고리가 추가적으로 생길 가능성이 많고 그에 따라 발생하는 쿼리는 증가할 것입니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token class-name&quot;&gt;HistoryCategory&lt;/span&gt; historyCategory &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; historyCategoryRepository&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;findByHistoryType&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
                historyEvent&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getHistoryType&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;orElseThrow&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;NoSuchElementException&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;일치하는 카테고리가 없습니다&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;그러므로 히스토리를 생성하는 시점에 모든 카테고리를 조회한 후, 애플리케이션 단에서 검증하도록 변경했습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token class-name&quot;&gt;List&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;HistoryCategory&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; categories &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; historyCategoryRepository&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;findAll&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token class-name&quot;&gt;HistoryCategory&lt;/span&gt; historyCategory &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; categories&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;stream&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                    &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;filter&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;it &lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt; it&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getHistoryType&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; historyEvent&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getHistoryType&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                    &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;findAny&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                    &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;orElseThrow&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;NoSuchElementException&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/f64b382df097ec78f4d880c99d6c5df6/bbbf7/img_11.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 91.76470588235294%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAAAsTAAALEwEAmpwYAAAC20lEQVR42pVUy27bMBDM5/av+gU99VAU6DWoU6R5uKmTNLFlW5ZFPShRFPWWPN2lVSUGckgFrEmR6+HszlBnoOfm8we4tx95imHocDgcpvjf54x/vOUXqGhuF94Dwik9xVuZZ33fY7la4/fiHovFHa6vf+LH7DvWzgrz+Q3CMHj3QRPg2lkijkJEUQQhfOz3HuI4smBlWVIbBnTdsRU8n61rfLoxcNNuYjwBcpLWOZqmscmv62rHNd7TWqPtWjQU96LC+apAqBmQDhn7zbm2h77uIZVGmkgwY7tJo/f8gIyY8zFCRdgnIQIVI9Yhilq/OvtFRAu4iluIWEFQqVw2l8cMnV9XkN4W3UBtCfdYChdhJiFzDVUYYtyhGwmcAAqiLlVuGSYUdV1TmTWU+4jwzxWM9KFNCl0QkNHIywK6NEhNhqzM7eEngE9RCy+Q8HZbeJ6H7XYDlSYIFzM4F1+h98/opYND17yU+KadRsCsGlDWDSlaoKBS8vwoUpUK5KGLWifIPQeGlM+SxO4XxkApBUPzsijs+wSoawKsapvY96MVSLFKhTAEWBCgK4g59XPru/AigSCNEVE/k1wh0QppnpHao8rS9FC6sGX2XT9ewQGKQEzCIjVWDEEKCwah3iUEULcNehKMg4WbbMMq76Nk7OHuaGJK8O5m2M3PoaXAJg5I5Q2e/DVEGsGTgY1dLODGvhVoKjkpBpiyhjE5pIxR0e1gw5pwC7V7Qp4GiBR7r0ReFRTGjobeWWUzzidAP+uQZAaZSq0P2TLcQ7ZNvJyjJMAql6joT3XboqL9sqnsAVVb29IPr1Vekm38KIXvuXDd7XhTOojFBTaX35D6DpUZUokCoZKWETNkL/KcQU98uB8ZJmQLScYe7L0kobb3iB4vUcR7lDoiJxTE7MjoXzTEmNnyOAE6cWMZBvSl2e1caLpa7H7v4RaB84C2rmAIiBlp6ll+wrC0awzOX5u/eGxosRaBAu8AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img 11&apos; title=&apos;&apos; src=&apos;/static/f64b382df097ec78f4d880c99d6c5df6/ca1dc/img_11.png&apos; srcset=&apos;/static/f64b382df097ec78f4d880c99d6c5df6/e7570/img_11.png 170w,
/static/f64b382df097ec78f4d880c99d6c5df6/f46e7/img_11.png 340w,
/static/f64b382df097ec78f4d880c99d6c5df6/ca1dc/img_11.png 680w,
/static/f64b382df097ec78f4d880c99d6c5df6/02d09/img_11.png 1020w,
/static/f64b382df097ec78f4d880c99d6c5df6/bbbf7/img_11.png 1280w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;현재 서비스에서 사용하는 쿼리를 정리하고 개선이 필요한 쿼리는 모두 개선을 마쳤습니다.&lt;/p&gt;
&lt;p&gt;또한 각 쿼리에서 사용하는 인덱스 설정을 확인하였고 인덱스 설정이 필요한 쿼리는 실행 계획을 통해 확인했습니다.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[톰캣 스레드 설정하기]]></title><description><![CDATA[이 글은 우테코 피움팀 크루 '주노'가 작성했습니다. 서론 우아한테크코스 레벨4 5차 데모데이 요구사항으로부터 Tomcat Thread의 적절한 설정값에 대해 고민하게 되었다.  현재 피움 서비스는 Tomcat의 Thread…]]></description><link>https://pium-official.github.io/tomcat-thread-config/</link><guid isPermaLink="false">https://pium-official.github.io/tomcat-thread-config/</guid><pubDate>Wed, 20 Sep 2023 00:00:00 GMT</pubDate><content:encoded>&lt;blockquote&gt;
&lt;p&gt;이 글은 우테코 피움팀 크루 &apos;&lt;a href=&quot;https://github.com/Choi-JJunho&quot;&gt;주노&lt;/a&gt;&apos;가 작성했습니다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;서론&lt;/h2&gt;
&lt;p&gt;우아한테크코스 레벨4 5차 데모데이 요구사항으로부터 Tomcat Thread의 적절한 설정값에 대해 고민하게 되었다.&lt;/p&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/6e4fb8f021a9c880dda146a72e343bf8/78f36/b06631fa.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 32.94117647058823%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAyElEQVR42qVRywrCMBDM//+AePEu6MGDB+8i3lRQvFYsta/ENn3Tx+gEWhC9qAvD7G4ysxsiVssJ5tMxFrMR7uoGRtu26LruBYye+/wTxPm0xWG3wXG/RpbGb8JvQ0SRhtYJsqyAlApKKfi+jzAM4XneUGutTU9KiTiOTR4EgamZE2VZQlB0sSzY9hWu6yJN06d5hjzPB2aPl1n352SiKIqhV9c1RJIkZhIn9JtR/POTaeg4jjEj82lN0/xuSDE3qqrKgD/8TzwAHlsfIjrTHxcAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;b06631fa&apos; title=&apos;&apos; src=&apos;/static/6e4fb8f021a9c880dda146a72e343bf8/ca1dc/b06631fa.png&apos; srcset=&apos;/static/6e4fb8f021a9c880dda146a72e343bf8/e7570/b06631fa.png 170w,
/static/6e4fb8f021a9c880dda146a72e343bf8/f46e7/b06631fa.png 340w,
/static/6e4fb8f021a9c880dda146a72e343bf8/ca1dc/b06631fa.png 680w,
/static/6e4fb8f021a9c880dda146a72e343bf8/02d09/b06631fa.png 1020w,
/static/6e4fb8f021a9c880dda146a72e343bf8/9d567/b06631fa.png 1360w,
/static/6e4fb8f021a9c880dda146a72e343bf8/78f36/b06631fa.png 2056w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;현재 피움 서비스는 Tomcat의 Thread 값을 어느정도로 설정해야할까?&lt;/p&gt;
&lt;p&gt;다양한 상황을 고려해보고 적절한 개수로 설정해보자.&lt;/p&gt;
&lt;h2&gt;알아보기&lt;/h2&gt;
&lt;p&gt;요구사항에서 주어진 Tomcat의 설정값이 각각 무엇을 의미하는지 알아보자.&lt;/p&gt;
&lt;h3&gt;server.tomcat.threads.max&lt;/h3&gt;
&lt;p&gt;HTTP 요청을 처리하기 위해 사용할 수 있는 최대 작업 스레드 수를 설정한다.
기본값은 &lt;strong&gt;200&lt;/strong&gt;으로 200개의 스레드를 사용하여 동시에 요청을 처리한다는 의미다.&lt;/p&gt;
&lt;h3&gt;server.tomcat.max-connections&lt;/h3&gt;
&lt;p&gt;Tomcat이 동시에 처리할 수 있는 최대 클라이언트 연결 수를 정의한다.
기본값은 &lt;strong&gt;8192&lt;/strong&gt;이다.&lt;/p&gt;
&lt;h3&gt;server.tomcat.accept-count&lt;/h3&gt;
&lt;p&gt;모든 작업 스레드가 사용 중일 때 Tomcat이 수용 가능한 상태에서 대기 중인 TCP 연결의 최대 수를 나타낸다.
기본값은 &lt;strong&gt;100&lt;/strong&gt;이다.&lt;/p&gt;
&lt;p&gt;각 설정값이 어떤 부분인지 그림으로 표현하면 다음과 같다.&lt;/p&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/b61898383fd8c6dd8ec1744a1abc9132/986a5/e91ada8d.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 50.588235294117645%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB7klEQVR42pWSS2sTURiGp6A/IeJGEAx0EQoiVcS6UBdu1J0Lf4J0oUSUrt1LQYReNHiBqgVTuhGtJW6ESahImhjFxiSTOMkktXM1kwshl6dzRgNG0OIH7+FcvvOc95zvSPwWvV6PQqFANpvFtm1arRbNZnNPNRoNut2uz5BEMxgM/IGu68iyTDwep1gsomkalUrlryqXy75EnqIovgGp3+8jJEJA2u02/xNDM67r+vARh1q1SknJU1OLNGwT15MIQ9+hrORoOiZ1U/fzxcGZz1uoZY2626LtuVMFMJ1Ok0gkyOULPuja3acEri4QnFnmxK37uJbO4mqMA9OLjN98TDD8kE9fsqQ2k0yGAlw8M87pY4d4EHmEZVlI+XyeVCpFrqCQ3pC5cieKNL2GNBMnEI5S3Mpw+8krpOsxxm6sMxZe4+07mdj6GlNBifNH9zF1RCKyMItpOaNX3q7VkN9/YD66zNzKc6Kv34hFvnqHzb145s0tEVmJ0ul0SSU3mDgocTa0n1OHJebvzWLZHlDAhkUplUpecuefRRjmJjc/cvL4BJcvTXLhXIiXq0t83zFGHYoqqaqKZVqYholhGP67mKbom7/mTH9sWzbadpV0KcO3mkYup/x8wz8/tuM4Pkhs2ksCWnd+4NiW/236gwG72r66OJ/izZsAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;e91ada8d&apos; title=&apos;&apos; src=&apos;/static/b61898383fd8c6dd8ec1744a1abc9132/ca1dc/e91ada8d.png&apos; srcset=&apos;/static/b61898383fd8c6dd8ec1744a1abc9132/e7570/e91ada8d.png 170w,
/static/b61898383fd8c6dd8ec1744a1abc9132/f46e7/e91ada8d.png 340w,
/static/b61898383fd8c6dd8ec1744a1abc9132/ca1dc/e91ada8d.png 680w,
/static/b61898383fd8c6dd8ec1744a1abc9132/02d09/e91ada8d.png 1020w,
/static/b61898383fd8c6dd8ec1744a1abc9132/9d567/e91ada8d.png 1360w,
/static/b61898383fd8c6dd8ec1744a1abc9132/986a5/e91ada8d.png 1666w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h2&gt;서비스 분석하기&lt;/h2&gt;
&lt;p&gt;피움 서비스는 트래픽이 몰리는 서비스가 아니다.
사용자의 개인화된 서비스를 제공하고 있기 때문에 다량의 데이터를 동시에 처리할 일이 거의 없다.&lt;/p&gt;
&lt;p&gt;대량의 트래픽, 동시성에 대한 여지가 있는 커뮤니티 기능도 존재하지 않는다.&lt;/p&gt;
&lt;p&gt;하지만 실제로 운영한다면 달라지지 않을까?&lt;/p&gt;
&lt;p&gt;현재 운영중인 유사한 서비스를 분석해보자&lt;/p&gt;
&lt;h3&gt;MAU 분석&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;이어지는 내용은 다음과 같은 용어를 사용합니다.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;MAU(Monthly Active User)&lt;/code&gt;: 30일 동안 앱을 사용하는 순 유저 수&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;DAU(Daily Active User)&lt;/code&gt;: 하루동안 앱을 사용하는 순 유저 수&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;MCU(Max Current User)&lt;/code&gt;: 최대 동시 접속자&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;ACU(Average Current User)&lt;/code&gt;: 평균 접속자&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/20c2817e33af3d12034b23021c5914d8/2a278/e43c9ccc.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 10%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAfUlEQVR42i2N2w6CMBBE+f/fM4ogKLFeegG7pcZGgzm2hod5mNmdOdXFRNrB4eTDIy745xc9JeqjQeVb8SUv6s8jSgt+fuMlISFhXaDpFIdeYa2nKqVNe8X6/LQO3scXu05zusnfT3PJlwzOEB2QmOHroLHCdj9QNwNaT/wAqtKWVkRewnkAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;e43c9ccc&apos; title=&apos;&apos; src=&apos;/static/20c2817e33af3d12034b23021c5914d8/ca1dc/e43c9ccc.png&apos; srcset=&apos;/static/20c2817e33af3d12034b23021c5914d8/e7570/e43c9ccc.png 170w,
/static/20c2817e33af3d12034b23021c5914d8/f46e7/e43c9ccc.png 340w,
/static/20c2817e33af3d12034b23021c5914d8/ca1dc/e43c9ccc.png 680w,
/static/20c2817e33af3d12034b23021c5914d8/02d09/e43c9ccc.png 1020w,
/static/20c2817e33af3d12034b23021c5914d8/9d567/e43c9ccc.png 1360w,
/static/20c2817e33af3d12034b23021c5914d8/2a278/e43c9ccc.png 2430w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://www.similarweb.com/website/groo.pro/#traffic&quot;&gt;유사 서비스 MAU 참고 사이트&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;해당 지표를 확인했을 때 월 평균 방문자수는 약 3만 8천명으로 책정된다.&lt;/p&gt;
&lt;p&gt;분당, 초당 요청 횟수에 대해서는 자세하게 확인할 수 없으니 대략적으로 값을 판단해보자.&lt;/p&gt;
&lt;h4&gt;추정값 계산&lt;/h4&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/dc713e6d40c5b73c5a1a141fde221959/dce07/3c4d6f9c.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 41.1764705882353%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsTAAALEwEAmpwYAAABF0lEQVR42o2R246DMAxE+f+v5FYJaEuhQAmY4p2TLUh9WW0ky449dmacZBiG+XK5bF3XmWJTbHmeW13XdrvdrGkae7/f5u5/2eq/p0yWZbHX6+Xyvq6rE0/T5CGEaPM8+z/O/vFV8nw+rSxLH8fRxdKLovAsy/x6vbpY+v1+98fj4WmaxlgqYg0cfer/Hmg6sJMs37btZEYOUzkazFEA7sBg1L4Gipn1fR9ZwACWh1Tu2mPMMRwMxkqok2/bFsxOjx6rEr1s0AaEP5oB8BB3/HHHjh0jn1iYnZ7IUAV+8fwUYmQgHxbY5/Vo3BlCzKEmlVFyZKjpo5a/aNGhqqqgOHqxDZITVD9zaoyxPiOAByO5xLPyu9hnP+gsaMD7wtrwAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;3c4d6f9c&apos; title=&apos;&apos; src=&apos;/static/dc713e6d40c5b73c5a1a141fde221959/ca1dc/3c4d6f9c.png&apos; srcset=&apos;/static/dc713e6d40c5b73c5a1a141fde221959/e7570/3c4d6f9c.png 170w,
/static/dc713e6d40c5b73c5a1a141fde221959/f46e7/3c4d6f9c.png 340w,
/static/dc713e6d40c5b73c5a1a141fde221959/ca1dc/3c4d6f9c.png 680w,
/static/dc713e6d40c5b73c5a1a141fde221959/02d09/3c4d6f9c.png 1020w,
/static/dc713e6d40c5b73c5a1a141fde221959/9d567/3c4d6f9c.png 1360w,
/static/dc713e6d40c5b73c5a1a141fde221959/dce07/3c4d6f9c.png 2208w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;한달에 3만 8천명 정도의 트래픽이 발생한다고 가정했을 때 단순 계산을 해보면 초당 0.015개의 요청이 발생한다고 생각해볼 수 있다...&lt;/p&gt;
&lt;p&gt;24시간 내내가 아니라 하루 12시간으로 쳐줘도 초당 0.03개의 요청이 발생한다고 유추해볼 수 있다.&lt;/p&gt;
&lt;h2&gt;분석하기&lt;/h2&gt;
&lt;p&gt;기존 서비스의 사용자 추이를 분석해봐도 초기에 생각한 것 처럼 많은 트래픽은 몰리지 않음을 확인할 수 있었다.&lt;/p&gt;
&lt;p&gt;만약 위에서 계산했던 값을 토대로 하루 평균 요청량이 1분 내로 몰린다고 하더라도 초당 21건의 요청이 오는 꼴이다.&lt;/p&gt;
&lt;p&gt;이 값은 현재 Tomcat의 기본 사양으로도 충분한 요청이다.
(maxThreads = 200)&lt;/p&gt;
&lt;p&gt;그래도 실제로 요청이 왔을 때 정상적으로 처리하는지 확인해볼 필요는 있다.&lt;/p&gt;
&lt;h2&gt;Jmeter&lt;/h2&gt;
&lt;p&gt;Apache jmeter를 사용하여 서버가 요청을 처리하는 성능을 알아보자.&lt;/p&gt;
&lt;p&gt;피움 서비스에서 비로그인 상태로 이용할 수 있는 서비스로 식물 검색기능이 있다.&lt;/p&gt;
&lt;p&gt;로그인 이후 수행되는 서비스 중에서 트래픽이 빈번하게 발생할 것으로 우려되는 기능은 없다고 판단했다. (반려 식물 등록, 수정, 삭제, 타임라인 확인, 물주기 등)&lt;/p&gt;
&lt;p&gt;따라서 서비스에서 가장 빈번하게 일어날 것이라고 예상되는 식물 검색기능을 기준으로 처리량을 분석하고자 한다.&lt;/p&gt;
&lt;h3&gt;TPS&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;TPS란 Transaction per Second의 약자로서, 1초당 처리할 수 있는 트랜잭션의 개수를 의미한다.
다시말해 1초에 서비스가 처리할 수 있는 요청의 양의 개수를 의미한다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;현재 가장 직관적으로 판별할 수 있는 값이라고 판단하여 TPS를 성능의 지표로 사용하기로 했다.&lt;/p&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/e86bac89b71c0f8751f3037048097d80/93333/d86c4efb.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 7.0588235294117645%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAABCAYAAADeko4lAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAMklEQVR42mPw8PL57+rh+d/ZzeO/CxC7unv9d/PwAorhx+5AfSDs4Q2kPb3BbE8fv/8Auq0k3vW1d4sAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;d86c4efb&apos; title=&apos;&apos; src=&apos;/static/e86bac89b71c0f8751f3037048097d80/ca1dc/d86c4efb.png&apos; srcset=&apos;/static/e86bac89b71c0f8751f3037048097d80/e7570/d86c4efb.png 170w,
/static/e86bac89b71c0f8751f3037048097d80/f46e7/d86c4efb.png 340w,
/static/e86bac89b71c0f8751f3037048097d80/ca1dc/d86c4efb.png 680w,
/static/e86bac89b71c0f8751f3037048097d80/02d09/d86c4efb.png 1020w,
/static/e86bac89b71c0f8751f3037048097d80/9d567/d86c4efb.png 1360w,
/static/e86bac89b71c0f8751f3037048097d80/93333/d86c4efb.png 2174w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;1건의 요청에 대해 TPS가 2.3/sec라는 결과가 나왔다.&lt;/p&gt;
&lt;p&gt;TPS는 &lt;code class=&quot;language-text&quot;&gt;요청개수 / 처리시간(초)&lt;/code&gt; 로 계산되며 위 경우 요청 개수가 1개이므로 1개의 요청을 처리하는데 약 0.4초가 걸린다고 볼 수 있다.
(원래는 네트워크 상태에 의한 지연도 고려해야하지만 지금은 고려하지않는다)&lt;/p&gt;
&lt;h4&gt;TPS를 기준으로 목표 지표 생각해보기&lt;/h4&gt;
&lt;p&gt;현재 실 서비스의 접속량을 기반으로 다음과 같이 서비스에 요구되는 TPS를 생각해봤다.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;1분당 접속자수: 0.3명&lt;/li&gt;
&lt;li&gt;평균 접속 유지시간: 1분&lt;/li&gt;
&lt;li&gt;(예상) 트래픽이 몰릴 경우 1분에 1명 꼴로 예상&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;TPS = 동시 활성 사용자수 / 평균 응답 시간&lt;/p&gt;
&lt;p&gt;동시 활성 사용자수 = 1&lt;/p&gt;
&lt;p&gt;평균 응답 시간 = 0.4s&lt;/p&gt;
&lt;p&gt;목표 TPS = 4&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/f529b6fee03addcc4cf583726333be51/1263b/86d97246.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAADy0lEQVR42p2Ub0xVdRjHn8O9QLfwcvkzQZ2Xe8853Nt6p75xaq0hS3lhbdadmq1ZyaSp+OcFQ60QUBtgzH8TKSk3EBVNJCMia+bgxkUuIAqRul6krMhqttARnXN+355zriCOcKyz/facnXN+n+f7PL/veYgmuUAkBQJkM5d5T//3QgFF0SQAgCTUcYLIN1OAmRsQgeVmknvjYtr2dgYdLno1et6DTx5JZMHxGPVAwNZfk5JbuCK6kUG/MRAbMwj5L9mGfvl89hfoUuuN75RiBNPm4CLZR1szAcoPrBJwRc0/nheH7EVkrGdQ6ZpYfc/qGG3NfBI1edOAfh/Qq0IPyf/obXK30eYtG25VlfGMsZsRM+s19f7X5clia5akrWd1Ja8/IY5ujhMbMiVsWmIzhoOygWvpuuhl8HWfwE9+oFsdRFBePNqCh+q65Cr0pwNdijb0rQdXj81A9nOEgzlP4sfTs9BXPQODjW5c+SQV35Qnob7IJU7kO7XBZjdYyD2txZv5sOSwL1mElV/RqcIIKcKMXD5+Pj8bdy+kAd/7cGany0qQ8zzhrUWENxdIWPY0oTY/XscPPuhheQCtHj89UJfFDQfaFSEuK0CHwn1SLNhIq8wKfDj/fiK2LJWQt8yGtQzcmmXDuSIX7jSxwrCio9eqrjkCvOzNRE8EaIQigC9LkywlBYFonNjuRPfHqeL3Zre4x+04sM6Bhl0JlnLByXkfYArpVLSxskWnUoO+dFOZYZYbPJiMTUujkP0sYeXcSJk7lttRuy0eHR+liKGLnkhrelhZWIXgigwWRKMeQos7Ad1KH67yyyqHjsN2/NU0S/Tw4Zza4UTBK3YLvsqEL2RvvhiFqs1xaK+cjvuXvBEwJxhzvBVDnhcYquHDWKCQBM4mAjefYe/58XebKnprZ4q691yicGWMWJchYdU8whsLCO+8bEfdu/H446s0TDR3p5qDY08Z2M2PjsQK43QijJPcr1Mu4Ew8R6cYqXSIG2UOUV/ows6AHWtZuXninxUn6I9MF6uX1eREOQ3gAwaWkIE9HM3FCUQRr2K+54hDdraWIoZbvLrZ08bdCbh7yYOJwP0Ui73UgQreVM7AfRJEKemoiNFQ6zRwnFfNNM1oSjGsQ2EP8mGaf9CfbL1PJ0wbK5aRV5RQNYNuYa90G/v41TkncMNvWQU3/QJ9HEPyHbZMpRb0LBm4MDOp4HFjzZx5XLYDhygVuygXDckV7LVmtMsNCCn70eZ9jf/h6eOrm3ROWnNxikPUPMyxSTOlDWTB7eMTMMAcrLb/2vAvwz2ECDyipTIAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;86d97246&apos; title=&apos;&apos; src=&apos;/static/f529b6fee03addcc4cf583726333be51/ca1dc/86d97246.png&apos; srcset=&apos;/static/f529b6fee03addcc4cf583726333be51/e7570/86d97246.png 170w,
/static/f529b6fee03addcc4cf583726333be51/f46e7/86d97246.png 340w,
/static/f529b6fee03addcc4cf583726333be51/ca1dc/86d97246.png 680w,
/static/f529b6fee03addcc4cf583726333be51/1263b/86d97246.png 1000w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
위에서 이야기했다시피 현재 Tomcat의 기본 사양으로 충~분한 요청이다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3&gt;What if..?&lt;/h3&gt;
&lt;p&gt;만약 서비스가 인기가 많아져서 요청이 많이 발생한다고 가정해보자&lt;/p&gt;
&lt;h4&gt;시나리오&lt;/h4&gt;
&lt;p&gt;사용자 유치 목표 100명의 2배인 200명의 충성고객을 유치했다고 가정한다.
해당 고객들은 매일같이 서비스를 열정적으로 이용한다.
&lt;code class=&quot;language-text&quot;&gt;스레드 수: 200&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;검색기능의 접근성이 단순한 점과 트래픽이 몰리는 경우를 상정하여 1초에 최대 200건의 요청이 들어온다고 가정한다.
&lt;code class=&quot;language-text&quot;&gt;Ramp up 시간: 1&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;각 사용자는 10회 반복요청을 보낸다.
&lt;code class=&quot;language-text&quot;&gt;루프 카운트: 10&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/52ae0bfc14dd9ec5a0f861bc21f42cba/07035/8c7c5612.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 83.52941176470588%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAAAsTAAALEwEAmpwYAAACnUlEQVR42q2T3U4TQRTHlzt9BZW7VUO3oR+UEtrd7uz3bGsBUbnBK57AAAGKKMSCqBASo4nxSvSSl+AlNCGppknVRi64MjFF6RzPGbokJLTeOMkvZz7O+e9/ZnaUxt7e5Z/fPjn1r5/Dev2A12oH/LDZQOr8sFHnzXqNNxCaa+K4UfvIjw4bcnwk85q8ibU/vn/x9vf3LynPHqxor15vtDa3lmF7fUO83HkOS0sVWKgsweLqAlSrVdhcX4Pq6iKsP1mGtac7MDs3D/Nzc1CpLMOjh7Pi8UoFtl5sn8xMz9xUrl7XEsN26dgqjkHW5CKlu6CmcpDNF8D2fXB9DobJIKfrkDMMyJkOjOR0JI8YMJrPi1Ed5w2zraqxmHIjHh80LLd1Z+o+lCfvCuaFYPkhOChUHr+NTEBQLIEflsDjRYRjvyjHfhhSX1DfDXg7mUzGlHgqNWg5fmvq3jSMTUwK5nhg2i5YGANMJLHSrXHp1HZ9ieMFct3FaFqOKDAbd2G1Y9gUTdMSDB3yYpmKBCYAJTDbkYXUj6A1guEHTcuW0TBtgWKgF1hbJcF4PDWYN8wWTtCkXCSo0Mct+kFRunP8AN15Zy5t7wxhk2PXa8fkllFQN1irY/ucIG3ZC/DM0L1Xwm3jxV2AcHHNCcudM+whSM44nWOpDMwNwXT4RQiKBTvAM+whSGMSJJd0AfTrdEFQ1Avm6RlqWjLRTZB1LujUsd0NQbHAOrfcy2FENNeF87fcy+E/hC4WjONL0Q3zF/2YesH6gwsnBI5Pon5vZA3Wst9SEK86wWzv2PHoJQQCoSifXi+ivKgGX1t7YCChKaqqXkumM2+S6aEPqaHMO2SXyGRHdrMjo12J8mRNOvM+PTT8tr+//4qCrU/5f63vLyptL4zh89n9AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;8c7c5612&apos; title=&apos;&apos; src=&apos;/static/52ae0bfc14dd9ec5a0f861bc21f42cba/ca1dc/8c7c5612.png&apos; srcset=&apos;/static/52ae0bfc14dd9ec5a0f861bc21f42cba/e7570/8c7c5612.png 170w,
/static/52ae0bfc14dd9ec5a0f861bc21f42cba/f46e7/8c7c5612.png 340w,
/static/52ae0bfc14dd9ec5a0f861bc21f42cba/ca1dc/8c7c5612.png 680w,
/static/52ae0bfc14dd9ec5a0f861bc21f42cba/02d09/8c7c5612.png 1020w,
/static/52ae0bfc14dd9ec5a0f861bc21f42cba/9d567/8c7c5612.png 1360w,
/static/52ae0bfc14dd9ec5a0f861bc21f42cba/07035/8c7c5612.png 2496w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;위 시나리오를 기준으로 요청을 보내본다.&lt;/p&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/3e668ccad01a4ce7d5cbfdac2a2d8cba/b7c46/eba81d9d.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 7.0588235294117645%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAABCAYAAADeko4lAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAOElEQVR42h2KyREAIAwCLU7Nrf1Xg4YHw7Ds8DzY6lhiUE+2WGBuZZr1b9+jEwmLotOM/Xd7URcPxS4lHUZy4y0AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;eba81d9d&apos; title=&apos;&apos; src=&apos;/static/3e668ccad01a4ce7d5cbfdac2a2d8cba/ca1dc/eba81d9d.png&apos; srcset=&apos;/static/3e668ccad01a4ce7d5cbfdac2a2d8cba/e7570/eba81d9d.png 170w,
/static/3e668ccad01a4ce7d5cbfdac2a2d8cba/f46e7/eba81d9d.png 340w,
/static/3e668ccad01a4ce7d5cbfdac2a2d8cba/ca1dc/eba81d9d.png 680w,
/static/3e668ccad01a4ce7d5cbfdac2a2d8cba/02d09/eba81d9d.png 1020w,
/static/3e668ccad01a4ce7d5cbfdac2a2d8cba/9d567/eba81d9d.png 1360w,
/static/3e668ccad01a4ce7d5cbfdac2a2d8cba/b7c46/eba81d9d.png 2162w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;TPS가 231.1/sec라는 결과가 나왔다.&lt;/p&gt;
&lt;p&gt;NIO방식으로 동작하기 때문에 TPS가 200을 넘어가는 것으로 예상된다.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;NIO에 대한 자세한 이야기는 여기에서 다루지는 않겠다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;결론&lt;/h2&gt;
&lt;p&gt;Tomcat의 기본 설정값으로 사용자 트래픽을 충분히 감당할 수 있을 것으로 판단했기 때문에 현재로서는 Tomcat의 스레드 설정을 기본 값으로 유지한다.&lt;/p&gt;
&lt;h2&gt;Reference&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://junuuu.tistory.com/799&quot;&gt;https://junuuu.tistory.com/799&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://hudi.blog/tomcat-tuning-exercise/&quot;&gt;https://hudi.blog/tomcat-tuning-exercise/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[Git submodule을 이용한 민감정보 관리]]></title><description><![CDATA[이 글은 우테코 피움팀 크루 '주노'가 작성했습니다. 서론 현재 피움 프로젝트는 properties, env…]]></description><link>https://pium-official.github.io/submodule-apply/</link><guid isPermaLink="false">https://pium-official.github.io/submodule-apply/</guid><pubDate>Wed, 13 Sep 2023 00:00:00 GMT</pubDate><content:encoded>&lt;blockquote&gt;
&lt;p&gt;이 글은 우테코 피움팀 크루 &apos;&lt;a href=&quot;https://github.com/Choi-JJunho&quot;&gt;주노&lt;/a&gt;&apos;가 작성했습니다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;서론&lt;/h2&gt;
&lt;p&gt;현재 피움 프로젝트는 properties, env 파일과 같은 민감정보 내용을 서버 내부에 저장, 관리하고있다.&lt;/p&gt;
&lt;p&gt;이렇게 파일을 관리했을 때 다음과 같은 문제점이 생각나 팀원들과 discussion에서 의견을 나눠봤다.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;캠퍼스 외부에서 properties / env 파일 관리 불가&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;현재 서버 접속 권한이 캠퍼스 내부 IP로 한정되어있기 때문에 발생한 문제점이다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;properties 설정을 파악하기가 어려움 (vim, cat 명령어로 확인)&lt;/li&gt;
&lt;li&gt;분업화 진행 간 properties / env 파일 변경에 대한 공유가 어려움&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;자세한 내용은 &lt;a href=&quot;https://github.com/woowacourse-teams/2023-pium/discussions/324&quot;&gt;discussion - submodule 도입에 대해&lt;/a&gt; 에서 확인&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/abf6986ec3525e64abcb72e1058a22e6/98b00/59c3159b.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 87.05882352941177%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAAAsTAAALEwEAmpwYAAABeUlEQVR42p2U2W6DMBBF/Vg1hbAGgzEQwpKNkjRVIlWq+v9fdTvjLMpjzMORhW1doTmeEc32gPH8C7XsEcgSUbaEXm3xEaSEfBknTA0iLVvsTz9Yj2f0wzfa3Qnrz7NZ+eLMT16G74tYLdHtT2iJbjhhtRnhJ9oqiHn3FmYV/iJHWvUomw5Z1Ziw+6ENbpQZBAfEaoVUl3BDrkWGeazo0A4/KeDLAsKhD49C53FuDjiQhXCoDfx3vIq8alH3A+Ksgk8bYVpgkddWhp8RRd2T3S8kRQtHNgiyGgkF2tbwYTmTFUa9QUC2F+UWbqzx5kbTLUdSQ+UN8qpCojTVIsUsSKZbZiGRapAWS7PhhHdzmRXGMiE8Vk5vcR7rxxPgFrK1PI9vliOSkfcHhPIa6FE4d4+14fDa+0K1ewyXP1TtjjqlQ0nfPCgmW7728hG744UGwhHbwxk8MKa0nwm8tw3XgEOY53H0GvImRUPwDJRUR56D3H6eEaQmwYH/qh2pStwvzn8AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;59c3159b&apos; title=&apos;&apos; src=&apos;/static/abf6986ec3525e64abcb72e1058a22e6/ca1dc/59c3159b.png&apos; srcset=&apos;/static/abf6986ec3525e64abcb72e1058a22e6/e7570/59c3159b.png 170w,
/static/abf6986ec3525e64abcb72e1058a22e6/f46e7/59c3159b.png 340w,
/static/abf6986ec3525e64abcb72e1058a22e6/ca1dc/59c3159b.png 680w,
/static/abf6986ec3525e64abcb72e1058a22e6/02d09/59c3159b.png 1020w,
/static/abf6986ec3525e64abcb72e1058a22e6/98b00/59c3159b.png 1202w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;팀원들 모두 동의해줬고 이에 프로젝트에 submodule을 도입하는 과정을 정리해보려고한다.&lt;/p&gt;
&lt;h2&gt;submodule이란?&lt;/h2&gt;
&lt;p&gt;서브모듈은 하나의 저장소(레포지토리)에서 다른 저장소를 포함하고 관리할 수 있게 해주는 기능이다.
주로 의존성 관리 혹은 외부 프로젝트 통합에 사용되곤 한다.&lt;/p&gt;
&lt;p&gt;피움에서는 private 레포지토리를 이용해 민감정보를 관리하기 위해 submodule을 적용해보려고한다.&lt;/p&gt;
&lt;h2&gt;시작하기&lt;/h2&gt;
&lt;p&gt;properties, env 파일 등 다양한 민감정보를 가지는 설정파일들을 private 레포지토리에 저장하고 사용해보자.&lt;/p&gt;
&lt;h3&gt;Private Repository 생성&lt;/h3&gt;
&lt;p&gt;민감정보를 관리할 Private Repository를 생성한다.&lt;/p&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/f11399d5c823fe9617abd1a86bf8c5f2/85779/0658737b.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 48.8235294117647%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAABNElEQVR42q1Ty26DMBDk2pAHTz8A84YSAo3UqD300mP//4umaxMQlYoUqT2M1ni9s7OzwkqbM5Kyw8GPsHMYbJf/iqdTCJE19PZsoqp6hFEBkTYI4xJx0UFmLSxOFwElTmEMT2QUEyKeiYQ5O0whrS+mIMqfcfiqsf8swZMKxyAiMRJ7T5ho9dc3dC/vqPtXKhqpWwWW1CYGUWmgz1xpso4UXpAOV/CKvkkVI1KXKxKTToRZM6IdblTQmGJf6jFa89CX+QKtfjoXNCo1E7kZ1SUibcdslyXJD6aq6fLul05u+bnOaauCuFjqFsLx9mFkzw+1H1vLWYMlBVwW/2hu6blnaKJHoYsV2RWQVfZKgPWIki0ceYGjpI178u+EekxVDwhVjd1/EBqFooKT0E/Bctj3LX8Dg6j7D8mgciEAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;0658737b&apos; title=&apos;&apos; src=&apos;/static/f11399d5c823fe9617abd1a86bf8c5f2/ca1dc/0658737b.png&apos; srcset=&apos;/static/f11399d5c823fe9617abd1a86bf8c5f2/e7570/0658737b.png 170w,
/static/f11399d5c823fe9617abd1a86bf8c5f2/f46e7/0658737b.png 340w,
/static/f11399d5c823fe9617abd1a86bf8c5f2/ca1dc/0658737b.png 680w,
/static/f11399d5c823fe9617abd1a86bf8c5f2/02d09/0658737b.png 1020w,
/static/f11399d5c823fe9617abd1a86bf8c5f2/85779/0658737b.png 1239w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h3&gt;submodule 시작하기&lt;/h3&gt;
&lt;p&gt;우선 백엔드 프로젝트를 기준으로 submodule을 적용시켜보자.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;git submodule add {서브모듈 Repo URL}&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/8d8bc921711c1e354a6c5fc4efdc709f/908d1/effc0cc4.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 18.23529411764706%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA4UlEQVR42n2OwU6DQBRFh0LppoVYoKElVYihmYGBMhREY9wYY6L//z/HgejWxc199+XlnSveu2deVc+XaviWmg/zwqe+YpoI+RjRS8XbNNH3PbrrqKqKuq7RWtM0zZLLsiSOY9I0RehKMd16nsaBmzG0Nt9Mh7GA4phx3u2IHId4teLB8zhnGXlRkFmfHxW/8+l0Is9zhFSKqyX/qbxcGMYRYyGtzff26C6KOB4OZPs9QRAQhiHb7XbxnQXOu1lzSzFXb9t2oQ3DgLIAKSVJkuDYVq7rsvF9fCtvvUYI8a9+AFALbBeQt2A5AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;effc0cc4&apos; title=&apos;&apos; src=&apos;/static/8d8bc921711c1e354a6c5fc4efdc709f/ca1dc/effc0cc4.png&apos; srcset=&apos;/static/8d8bc921711c1e354a6c5fc4efdc709f/e7570/effc0cc4.png 170w,
/static/8d8bc921711c1e354a6c5fc4efdc709f/f46e7/effc0cc4.png 340w,
/static/8d8bc921711c1e354a6c5fc4efdc709f/ca1dc/effc0cc4.png 680w,
/static/8d8bc921711c1e354a6c5fc4efdc709f/02d09/effc0cc4.png 1020w,
/static/8d8bc921711c1e354a6c5fc4efdc709f/908d1/effc0cc4.png 1286w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;git submodule add 명령어를 수행하면 루트 경로에 &lt;code class=&quot;language-text&quot;&gt;.gitmodules&lt;/code&gt; 파일이 생성된 것을 확인할 수 있다.&lt;/p&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/157b140f5387884782bfb0da2ca79aaf/84fe6/20ec3a3b.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 25.882352941176467%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAAsTAAALEwEAmpwYAAABDklEQVR42l3ObW+CMBSGYV7kXSUgijBwmSIU5uIWUXHRZNn+/2+61yHZkn240p62z+lRgnzNctMwOXzgNS3T9pNwF+PvbGZvU7I2ZtmGPH4ljF8MjFphFqt4gcam2PKQpjRNQxiGKIqCcmwPdN2ZXV3LC8Hrfs+l6zgdzxzbE8W6YJWtKLclpmneQ/+oqtrr6zzPud2ufbApGyoZvF6ulGWFKAR1URNHMUmckKVZ33Q+n5MmKbWoEZVA1/S/D3RdxzZtnMjBe/aw1hZu7jIyRpjCJHqPcPcu42yMN/HQLA3Ls3CmDv7MJ1gEqIaczpDNNOl3VPdnXCmWfMmWiuHsaVhDKZOW0mJ4Gw37/J77Bv1de3GJvuU1AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;20ec3a3b&apos; title=&apos;&apos; src=&apos;/static/157b140f5387884782bfb0da2ca79aaf/ca1dc/20ec3a3b.png&apos; srcset=&apos;/static/157b140f5387884782bfb0da2ca79aaf/e7570/20ec3a3b.png 170w,
/static/157b140f5387884782bfb0da2ca79aaf/f46e7/20ec3a3b.png 340w,
/static/157b140f5387884782bfb0da2ca79aaf/ca1dc/20ec3a3b.png 680w,
/static/157b140f5387884782bfb0da2ca79aaf/84fe6/20ec3a3b.png 719w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/0deadec1bf2e028d39d68834ad43cfcd/dac1b/a8d5f20f.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 45.88235294117647%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB7UlEQVR42mWSWW/TUBCFr6kUSuIs2FbspN7ipYljZ/WWxIkolKVUgAQSqA/8/79xONcIgcTDyNJ45syZ744Y+7fQ4gxqsIAwXYikgrBjxgJX3hUUT+DaUTBS+R29gK5pMAwDiqJACPF/HKoKqyxFOPNhTyfoqz0Y2ktYho7udRfO1MXzzjVM06KYjsFgAI2ik8kEw+GwFVH+FSzLEuv1BlEUIQhDOK6L3W6Hqq5hWRbOlzN6HLLbbtuakDXz+RxpmsLxvFbkGd1Kx63w4XBAlmUIggC6rrcNq9UKWwqMx2M0TdO6knnbthHHMZYUy/d72EEIMQuhqP2/Dr+y+fNyiXezGfLRCBtVxSMdfNtsUJPVU1G0uQe6e0P3976PB4o+5Tnu2JMGEaqyRnlzg22nA/GJ0z5S4JXjYM3GTb+PL3T8nQ4OdPjzdELW66Fhwx1r7rnJ42KBHxz0lsJ1muF9VTM/wwduKLIkwYI/XDYMKagR9JauC3KcmibOxyPGLCw5ICSzlGIFcby+XJAlSyybMxKGTd6SpZCsJBOf9iUrGZJhTgcmBU+npn3NKL6Fz3VlTn4lw4i9elHDrI7QXO/3o+zJQr6YhK7rBlzPR0KmUlTeW1Hk6PZ4Plz3T7h0mhCTHfFeozmU1Y43bLWP8gvz3vZx9GYHmgAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;a8d5f20f&apos; title=&apos;&apos; src=&apos;/static/0deadec1bf2e028d39d68834ad43cfcd/ca1dc/a8d5f20f.png&apos; srcset=&apos;/static/0deadec1bf2e028d39d68834ad43cfcd/e7570/a8d5f20f.png 170w,
/static/0deadec1bf2e028d39d68834ad43cfcd/f46e7/a8d5f20f.png 340w,
/static/0deadec1bf2e028d39d68834ad43cfcd/ca1dc/a8d5f20f.png 680w,
/static/0deadec1bf2e028d39d68834ad43cfcd/dac1b/a8d5f20f.png 703w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;파일 내용을 살펴보면 submodule이 적용된 path와 submodule을 가져온 url이 표기되어있는 것을 확인할 수 있다.&lt;/p&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/92653ba12b70b8c796e3d652462ac46d/64252/0185252a.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 12.941176470588234%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAsElEQVR42h2OSY6FMAxEEb3tv0JCrED6IKYwBgIJJH3/W702WPJsV1X0Fzyb1pTfL/6+cdbxzJyzb6+6jktqZy3rsmDPk33bWOYZs+/odSV4T1WW/MQxUSyhbVtWWaRpyikPtwA92cuhMYZpmt59CIGu77muGy2gm7gaBsxxoEXU7+dDJEae52RZRpIkzMKslKIoCg45XERVVVVvfsA7UdyLN03zEtV1zTiODAL8EPwDv1JbQfvBgr8AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;0185252a&apos; title=&apos;&apos; src=&apos;/static/92653ba12b70b8c796e3d652462ac46d/ca1dc/0185252a.png&apos; srcset=&apos;/static/92653ba12b70b8c796e3d652462ac46d/e7570/0185252a.png 170w,
/static/92653ba12b70b8c796e3d652462ac46d/f46e7/0185252a.png 340w,
/static/92653ba12b70b8c796e3d652462ac46d/ca1dc/0185252a.png 680w,
/static/92653ba12b70b8c796e3d652462ac46d/64252/0185252a.png 696w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;추가로 branch 정보를 넣으면 해당 branch를 기준으로 submodule 정보를 가져온다.
&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/b9852ec713a3bc20c3bfb9d8e1b57ac1/64252/0ebe1978.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 17.64705882352941%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAvElEQVR42k1PyQ6EIBRzOXsw8YrRgxpxRVxw+//P6tA3mWRIgL732lKC930xzzOKosC+77jvG9d1ye2OA1pr6Z/nib7vpWc83y6L6LZtE77Kc4RhiIBH13UizLIMzjkh0YRE505oP1/XVR4Zx1E4rI0xGIZBuNZaJEmCwC80TYOyLKGUwsEEnkghExAzPfHiU7Vti7quJQRxVVWCaTxN09cw93FZ0DBNUzzPIyLOoiiSr3D/MPu/3n8dxzE+HgNx4w2FeSgAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;0ebe1978&apos; title=&apos;&apos; src=&apos;/static/b9852ec713a3bc20c3bfb9d8e1b57ac1/ca1dc/0ebe1978.png&apos; srcset=&apos;/static/b9852ec713a3bc20c3bfb9d8e1b57ac1/e7570/0ebe1978.png 170w,
/static/b9852ec713a3bc20c3bfb9d8e1b57ac1/f46e7/0ebe1978.png 340w,
/static/b9852ec713a3bc20c3bfb9d8e1b57ac1/ca1dc/0ebe1978.png 680w,
/static/b9852ec713a3bc20c3bfb9d8e1b57ac1/64252/0ebe1978.png 696w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;.gitsubmodule 파일과 config 폴더가 생성되고 git stage에 올라가있는 상태가 되어있을것이다.&lt;/p&gt;
&lt;p&gt;commit 후 push를 해보자.&lt;/p&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/6d613b09a512ee3c07dd96833da40fe8/1b198/2e9366b0.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 15.294117647058824%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAlElEQVR42n2MQQuCMABGJ2kkBNPNHDoUD82M0mgzuuX//1Uvu1eHB+/wvU8k2hCvbKRmW3ckTU9cHkibBDVospNkf0yR3Y5M7dCFpqoqpJQYY1BKYa2lbVuKokCce8dlGHj4O+E2cR16niHgJ4+tGvJMU5eWxrbkuUII8R/nHGGe8evJa1kYx2n1eY3zr0EURT/5bN52vElLM7tdZAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;2e9366b0&apos; title=&apos;&apos; src=&apos;/static/6d613b09a512ee3c07dd96833da40fe8/ca1dc/2e9366b0.png&apos; srcset=&apos;/static/6d613b09a512ee3c07dd96833da40fe8/e7570/2e9366b0.png 170w,
/static/6d613b09a512ee3c07dd96833da40fe8/f46e7/2e9366b0.png 340w,
/static/6d613b09a512ee3c07dd96833da40fe8/ca1dc/2e9366b0.png 680w,
/static/6d613b09a512ee3c07dd96833da40fe8/02d09/2e9366b0.png 1020w,
/static/6d613b09a512ee3c07dd96833da40fe8/1b198/2e9366b0.png 1120w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;다음과 같이 서브모듈 폴더가 추가된 것을 볼 수 있다.&lt;/p&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/e4a9b501a511b28865efddfbad79ccd4/c2026/8a331998.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 68.82352941176471%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAACbElEQVR42l2TW3faMBCE3TY5gVi+X2QZ342xgRDSJnno//9h01lB3J4+7BGS0Oy3s2snzCoU9YgwLeHHBZKiwdYN8e1hi4cnhe+Pro2HJw8blWDrpXjc+PjB/eM2sLFxY/5HQZctnCzfwYs1VFTgOcgQZTuotIKbVPDzFm5cQvF3VvYIUt4xqcdQkYaXGLsPCCPvt34Gpz9c0E4vyEkZFy0CEofVgrA+wjMT/GKA0h10M5K+hkuh5yi/reFtFdFqOKJoJjhlN6Mez8irm2CkGzTDjGG+QLczsvqAiHRe3iHQpGQFNml+C3mT7QYrtusXOKJs2gM2fmozSmheSpKYlHFzQtKckXYX5MOVfk+sZo+0HGwkpufao1+u6Oc3EvYzOtL49OGrhIy0sg+SEiGJbHAfkUgeR7rlfXUnrdeQc8ew5KwaKJatvmTVHhlpxEM31Ou5PBJrQl3bhB6b5MbG3okVUrol3DHkULFrLg0v2gmmO6xdlBDRiCMlXkkYaWK9QHESFN/IfyWZY2jk9PqJdNfT4JqZSutpTxvEdPc/QU2htJ7hFaMdna+EVpDeOlJGf3pHbNq/HlJ8WF45Cost7UtQSs1pT0JLVN5DSVX/CNqSZUyO109mHtYuJ2WH/ekN8+WDTejus6btiBSkl5BJCHczz429k8RaCMW3w+Udl/ffKOnbll9LQlqha/Yna/bznUQsEAqhlDUoD6ugx4lITAdHUOvxhP35J6rxaAWFann9wPTyyz6WKoRSyIXOsGkRZ1Ol9VqyEBaNEHIjguPxyu+1szRSmnReiIVSVhEM7nMowr4ZVzHrYWpsH/4ApKVmMZQIYhEAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;8a331998&apos; title=&apos;&apos; src=&apos;/static/e4a9b501a511b28865efddfbad79ccd4/ca1dc/8a331998.png&apos; srcset=&apos;/static/e4a9b501a511b28865efddfbad79ccd4/e7570/8a331998.png 170w,
/static/e4a9b501a511b28865efddfbad79ccd4/f46e7/8a331998.png 340w,
/static/e4a9b501a511b28865efddfbad79ccd4/ca1dc/8a331998.png 680w,
/static/e4a9b501a511b28865efddfbad79ccd4/02d09/8a331998.png 1020w,
/static/e4a9b501a511b28865efddfbad79ccd4/c2026/8a331998.png 1251w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h3&gt;submodule 적용하기&lt;/h3&gt;
&lt;p&gt;내 컴퓨터에서의 submodule 적용은 완료했다.&lt;/p&gt;
&lt;p&gt;다른 개발자들이 submodule을 어떻게 적용해야할지 가이드를 제공하자.&lt;/p&gt;
&lt;p&gt;우선 git clone부터 시작해보자.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;&lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; clone &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;Project&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/62fdf44aba3b27719946c73448871433/a91f8/632999b1.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 24.11764705882353%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA9UlEQVR42n2QuW6EQBBEASEISBYwIA5xmxvMISHEBgTYiP//ofJ2b2jJQauPmXpTPcJHPeDx2UKrZgTTiKYuECcJfN9HGIZwHAfJqw+CAGmaoixLxHEMz/NQFAWyLOOwbRuCIECYhx5lnmFsG3x1HcZxZCEBCURQXdchiiIkSXqL/ov9+WTI98+Ffd9xHAemaeL6ui6c54n7vtE0DdZ1hSzLHASnrCgKVFXlmoFVVbETst+9HLZty+K+73m9PM95To/QnbquMQwDoijic9d1eQvTNN/AZVn4MmUSk7N5ntnptm08IxCtrWkaDMPg/6Lesqw/K/8CzJ6HOaqaY84AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;632999b1&apos; title=&apos;&apos; src=&apos;/static/62fdf44aba3b27719946c73448871433/ca1dc/632999b1.png&apos; srcset=&apos;/static/62fdf44aba3b27719946c73448871433/e7570/632999b1.png 170w,
/static/62fdf44aba3b27719946c73448871433/f46e7/632999b1.png 340w,
/static/62fdf44aba3b27719946c73448871433/ca1dc/632999b1.png 680w,
/static/62fdf44aba3b27719946c73448871433/a91f8/632999b1.png 960w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;submodule을 초기화하고 update한다.
&lt;strong&gt;해당 작업은 처음 1번만 수행하면 된다.&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;&lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; submodule init

&lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; submodule update&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/e69ecffd799a2343fcc220ddaaa40b00/f963c/3a3b7bf7.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 8.235294117647058%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAfUlEQVR42j2NQQqDMAAEPagnQRJixYoERUhSU41J+v+nTYulPcxlZ2GK4RAMQdG/JHfbE47AGU+stXRdh1IKIcQXKRmXhds40jQNbdteXn7236d45gc+bbho2MJGSokYIzlnnHOs64r3nn3fMcYwaY2e5ytWliV1XVNV1Z835Mg1Y3WJbskAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;3a3b7bf7&apos; title=&apos;&apos; src=&apos;/static/e69ecffd799a2343fcc220ddaaa40b00/ca1dc/3a3b7bf7.png&apos; srcset=&apos;/static/e69ecffd799a2343fcc220ddaaa40b00/e7570/3a3b7bf7.png 170w,
/static/e69ecffd799a2343fcc220ddaaa40b00/f46e7/3a3b7bf7.png 340w,
/static/e69ecffd799a2343fcc220ddaaa40b00/ca1dc/3a3b7bf7.png 680w,
/static/e69ecffd799a2343fcc220ddaaa40b00/02d09/3a3b7bf7.png 1020w,
/static/e69ecffd799a2343fcc220ddaaa40b00/9d567/3a3b7bf7.png 1360w,
/static/e69ecffd799a2343fcc220ddaaa40b00/f963c/3a3b7bf7.png 1853w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h3&gt;submodule 업데이트 반영하기&lt;/h3&gt;
&lt;p&gt;프로젝트를 진행하는 과정에서 submodule 프로젝트에 수정사항이 생길 수 있다. 이를 반영하기 위해서는 다음과 같은 작업을 수행하면 된다.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;아래와 같이 새로운 커밋(변경사항)이 발생했다고 가정해보자.
&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/22e54044b8dd27156745243c5d5e398a/912c7/8fe95451.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 14.117647058823529%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAfklEQVR42o3OSw6CMACE4a59ELDQltI2QInaaHwsZMVG73+n38YLyOLbTDKTESZMaB8plWdTKraVXk9qdnVLlbulchS1RbyWN+k+o/NwUXe/cBVp2VvHIfTE9GA43TB+QszLhzE98+AR259puohsh/9M5keafCTEKy5eUG7iC9k3Tag4JjrwAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;8fe95451&apos; title=&apos;&apos; src=&apos;/static/22e54044b8dd27156745243c5d5e398a/ca1dc/8fe95451.png&apos; srcset=&apos;/static/22e54044b8dd27156745243c5d5e398a/e7570/8fe95451.png 170w,
/static/22e54044b8dd27156745243c5d5e398a/f46e7/8fe95451.png 340w,
/static/22e54044b8dd27156745243c5d5e398a/ca1dc/8fe95451.png 680w,
/static/22e54044b8dd27156745243c5d5e398a/02d09/8fe95451.png 1020w,
/static/22e54044b8dd27156745243c5d5e398a/912c7/8fe95451.png 1228w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;&lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; submodule update &lt;span class=&quot;token parameter variable&quot;&gt;--remote&lt;/span&gt; &lt;span class=&quot;token parameter variable&quot;&gt;--merge&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;## .gitmodules 파일에 정의되어 있는 브랜치의 최신 버전으로 업데이트 (혹은 default 브랜치)&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; submodule update &lt;span class=&quot;token parameter variable&quot;&gt;--remote&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;## 로컬에서 작업 중인 부분과 원격에 작업된 부분이 다른 경우 머지까지 진행&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; submodule update &lt;span class=&quot;token parameter variable&quot;&gt;--remote&lt;/span&gt; &lt;span class=&quot;token parameter variable&quot;&gt;--merge&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/ebf8210523413a4e64199b8ae2067903/2f0ac/34d677ff.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 30.58823529411765%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsTAAALEwEAmpwYAAABHklEQVR42o2Ra0+DQBBFofShUN4JFFhardZAKWVp1VTF9v//quNCo980fjjZnZ3snTsz2mpTkGwl9/LIcicQZcKyzoiKkLlv4bkefuDjOA62beN5Hq7rYpommqahj0bM1H1mWUOsnT87DrKheztx7i40dcP76QO5b9lVO+I4JggCwjBE1/Xrp7+oqopdXQ9IKanVua22NKrI4XBgvV6TZRlJkjCZTK6ulPCv4kVRINuWoix53GyIF4sh0bcYRdGPyL85vb5w6TrlZKXackiViGM5zC2bwAu5vTExRmPG4yuGYTCdTgf6Yt/0cZ/TxFPJcluTquWI/TPr9siqFmpBGQ/HO0SdkOQhC+W8n6PrOgghyPN8GEVPmqbDm+/7fAFOxpQsLr5ipwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;34d677ff&apos; title=&apos;&apos; src=&apos;/static/ebf8210523413a4e64199b8ae2067903/ca1dc/34d677ff.png&apos; srcset=&apos;/static/ebf8210523413a4e64199b8ae2067903/e7570/34d677ff.png 170w,
/static/ebf8210523413a4e64199b8ae2067903/f46e7/34d677ff.png 340w,
/static/ebf8210523413a4e64199b8ae2067903/ca1dc/34d677ff.png 680w,
/static/ebf8210523413a4e64199b8ae2067903/02d09/34d677ff.png 1020w,
/static/ebf8210523413a4e64199b8ae2067903/2f0ac/34d677ff.png 1323w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;submodule이 update된 정보에 대해 기존 프로젝트에도 반영을 해줘야한다.&lt;/p&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/046bbdd980b8835f6a8880fd4a8ac4ef/1e052/dc253c7e.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 27.058823529411764%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAAsTAAALEwEAmpwYAAABJElEQVR42jWQ61KDQAxGl3K1FadQylIQKFB7c7DQq211Rsf3f6bjguOPs8mXTbLZiKhaIl/WhPMKuVgRv+6Q9ZGsvVI0K8o2ZZQMEa5ADwXGTDHVMC2BO3bxxh5SSmzbRgiB2L3VnI8HFmVJu3vjfNizqkqWivfThSR6xh252JaDbTpYpt3zMBzhOA6GYfw1+ieOY07nM6/bLbfLhfvtRtM0bDcbkiRWdq1i156Tevjz486+2XF9v/Dz/UXbtuR5TlVV+L6P0DStO5gaA2aKJ13ncaDxbOlIXSNQTEyDyNAJ1X3iWISmTqD0RBNkSUJRFNR1TZqmiCAIyOdzMiXyLKObWIZTShWLwpCZDInUjlJVKJXurO/5vV+onG5/nuf1X++G+wXdzYFGX2DB9wAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;dc253c7e&apos; title=&apos;&apos; src=&apos;/static/046bbdd980b8835f6a8880fd4a8ac4ef/ca1dc/dc253c7e.png&apos; srcset=&apos;/static/046bbdd980b8835f6a8880fd4a8ac4ef/e7570/dc253c7e.png 170w,
/static/046bbdd980b8835f6a8880fd4a8ac4ef/f46e7/dc253c7e.png 340w,
/static/046bbdd980b8835f6a8880fd4a8ac4ef/ca1dc/dc253c7e.png 680w,
/static/046bbdd980b8835f6a8880fd4a8ac4ef/1e052/dc253c7e.png 872w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;&lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;add&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;file&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; commit &lt;span class=&quot;token parameter variable&quot;&gt;-m&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;build: 서브모듈 최신사항 반영&quot;&lt;/span&gt;

&lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; push&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/069f8d65893cf382d002ea19a6a4d400/b00dd/0a7b7407.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 32.94117647058823%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsTAAALEwEAmpwYAAABUElEQVR42nWR2W6jQBBFcQwmgz3ewWBsJ8MSFtPs2J5opOQx//9DJ9CZh0RKHq5UJVWfqntbmQQZ2uMTRvOC3r3xK39gWWsYYsKsVVm+3mPFOo+ew+Vy43g8MpvNWK/XrFYrXNfFsix2u52slVDkZE1HXLWk3TNpWxKVQa8QcT3jF39we1gQBHiex2azYTqdslgsmM/nbLdbCTcMA13XUR6yEi+vsNMCW3ScRMRv956JqaI7Kqpzhzofs1wsJWQADpBBQ+04DrZtf8AUBeXWtfx7/kueptzahrqoSKKULBGMx+OPof8ajUZf+m9VlhV10xDFMV3XkYmM8zkl6RdYlonnexwOB2nrM/izvgDT/mEzAKOIqqooiqIP/0IYhnLB9XolSRL5AYNF0zTRNO3nC4fhAVaWJXF/ZZ7nshdCUNc1vu+z3+9lVoNOp5PM7Cf77/lEs1DESh73AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;0a7b7407&apos; title=&apos;&apos; src=&apos;/static/069f8d65893cf382d002ea19a6a4d400/ca1dc/0a7b7407.png&apos; srcset=&apos;/static/069f8d65893cf382d002ea19a6a4d400/e7570/0a7b7407.png 170w,
/static/069f8d65893cf382d002ea19a6a4d400/f46e7/0a7b7407.png 340w,
/static/069f8d65893cf382d002ea19a6a4d400/ca1dc/0a7b7407.png 680w,
/static/069f8d65893cf382d002ea19a6a4d400/02d09/0a7b7407.png 1020w,
/static/069f8d65893cf382d002ea19a6a4d400/b00dd/0a7b7407.png 1227w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h2&gt;정리&lt;/h2&gt;
&lt;p&gt;민감정보를 관리하기위해 submodule 도입방법을 정리해봤다.
생각보다 간단했다 👍&lt;/p&gt;
&lt;h2&gt;Reference&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://tecoble.techcourse.co.kr/post/2021-07-31-git-submodule/&quot;&gt;https://tecoble.techcourse.co.kr/post/2021-07-31-git-submodule/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Reference&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://medium.com/dream-youngs/lets-encrypt-dns-%EB%A1%9C-%EB%93%B1%EB%A1%9D%ED%95%98%EA%B8%B0-fdc3efda36af&quot;&gt;https://medium.com/dream-youngs/lets-encrypt-dns-%EB%A1%9C-%EB%93%B1%EB%A1%9D%ED%95%98%EA%B8%B0-fdc3efda36af&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://techblog.woowahan.com/6217/&quot;&gt;https://techblog.woowahan.com/6217/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[Spring Data Jpa를 활용한 검색 기능 개발하기]]></title><description><![CDATA[이 글은 우테코 피움팀 크루 '하마드'가 작성했습니다. 개요 피움 서비스 개발을 진행하면서, JPA Method Naming…]]></description><link>https://pium-official.github.io/search_in_spring_data_jpa/</link><guid isPermaLink="false">https://pium-official.github.io/search_in_spring_data_jpa/</guid><pubDate>Thu, 31 Aug 2023 00:00:00 GMT</pubDate><content:encoded>&lt;blockquote&gt;
&lt;p&gt;이 글은 우테코 피움팀 크루 &apos;&lt;a href=&quot;https://github.com/Choi-JJunho&quot;&gt;하마드&lt;/a&gt;&apos;가 작성했습니다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;개요&lt;/h2&gt;
&lt;hr&gt;
&lt;p&gt;피움 서비스 개발을 진행하면서, JPA Method Naming 기능을 활용하여 &lt;code class=&quot;language-text&quot;&gt;%Like%&lt;/code&gt; 쿼리를 생성해 검색 기능을 개발한 과정을 기록한다.&lt;/p&gt;
&lt;h2&gt;과정&lt;/h2&gt;
&lt;hr&gt;
&lt;p&gt;먼저 개발하려는 기능은 다음과 같다&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;식물사전 데이터베이스에 포함된 식물의 이름을 기준으로, 해당 검색어를 포함한 식물의 목록을 조회해 온다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;따라서 나는 다음과 같은 쿼리를 생성하고자 했다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre class=&quot;language-sql&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt;
        dictionary_plant
    &lt;span class=&quot;token keyword&quot;&gt;where&lt;/span&gt;
        dictionary_plant&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;name &lt;span class=&quot;token operator&quot;&gt;like&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;%검색어%&apos;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;현재 dictionary_plant의 entity는 다음과 같다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token annotation punctuation&quot;&gt;@Entity&lt;/span&gt;
&lt;span class=&quot;token annotation punctuation&quot;&gt;@Getter&lt;/span&gt;
&lt;span class=&quot;token annotation punctuation&quot;&gt;@Table&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;name &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;dictionary_plant&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token annotation punctuation&quot;&gt;@NoArgsConstructor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;access &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;AccessLevel&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;PROTECTED&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;DictionaryPlant&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;BaseEntity&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

    &lt;span class=&quot;token annotation punctuation&quot;&gt;@Id&lt;/span&gt;
    &lt;span class=&quot;token annotation punctuation&quot;&gt;@GeneratedValue&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;strategy &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;GenerationType&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;IDENTITY&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Long&lt;/span&gt; id&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token annotation punctuation&quot;&gt;@Column&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;name &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; name&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token annotation punctuation&quot;&gt;@Column&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;name &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;image_url&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; imageUrl&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token annotation punctuation&quot;&gt;@Column&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;name &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;family_name&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; familyName&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token annotation punctuation&quot;&gt;@Column&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;name &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;smell&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; smell&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token annotation punctuation&quot;&gt;@Column&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;name &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;poison&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; poison&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token annotation punctuation&quot;&gt;@Column&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;name &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;manage_level&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; manageLevel&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token annotation punctuation&quot;&gt;@Column&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;name &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;grow_speed&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; growSpeed&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token annotation punctuation&quot;&gt;@Column&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;name &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;require_temp&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; requireTemp&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token annotation punctuation&quot;&gt;@Column&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;name &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;minimum_temp&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; minimumTemp&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token annotation punctuation&quot;&gt;@Column&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;name &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;require_humidity&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; requireHumidity&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token annotation punctuation&quot;&gt;@Column&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;name &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;posting_place&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; postingPlace&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token annotation punctuation&quot;&gt;@Column&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;name &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;special_manage_info&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; specialManageInfo&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token annotation punctuation&quot;&gt;@Embedded&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;WaterCycle&lt;/span&gt; waterCycle&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;Like 기능을 하는 Repository 메소드 생성&lt;/h3&gt;
&lt;p&gt;spring data jpa는 메소드 네이밍만으로 Like 쿼리를 생성할 수 있는 기능을 제공한다.&lt;/p&gt;
&lt;p&gt;자세한 내용은 &lt;a href=&quot;https://www.baeldung.com/spring-jpa-like-queries&quot;&gt;이곳&lt;/a&gt; 을 참고하자.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;Like&lt;/code&gt; 쿼리는 총 네 가지의 네이밍으로 생성할 수 있다.
예를 들어
&lt;code class=&quot;language-text&quot;&gt;SELECT * FROM movie WHERE title LIKE &apos;%in%&apos;;&lt;/code&gt; 라는 쿼리를 생성하려 한다면,&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token class-name&quot;&gt;List&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Movie&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;findByTitleContaining&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; title&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token class-name&quot;&gt;List&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Movie&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;findByTitleContains&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; title&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token class-name&quot;&gt;List&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Movie&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;findByTitleIsContaining&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; title&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;위와 같이 &lt;code class=&quot;language-text&quot;&gt;Containing&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;Contains&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;IsContaining&lt;/code&gt; 이라는 네이밍을 활용해 생성할 수 있다. 세 가지 네이밍이 동작한 결과는 완전히 같다.&lt;/p&gt;
&lt;p&gt;스프링은 또한 메소드에&lt;code class=&quot;language-text&quot;&gt;Like&lt;/code&gt; 키워드를 활용해 적용하도록 할 수도 있는데,이 경우 와일드카드 키워드(%)를 문자열에 포함시켜야 한다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token class-name&quot;&gt;List&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Movie&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;findByTitleLike&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; title&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;위와 같이 메소드를 작성한다면&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;results &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; movieRepository&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;findByTitleLike&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;%in%&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;위처럼 % 를 포함한 문자열을 파라미터로 넣어야 한다는 뜻이다.&lt;/p&gt;
&lt;p&gt;본인의 경우 Contains 키워드가 가장 가독성이 높다고 판단하여 이를 적용하였다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;DictionaryPlantRepository.java&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;interface&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;DictionaryPlantRepository&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;JpaRepository&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;DictionaryPlant&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Long&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

    &lt;span class=&quot;token class-name&quot;&gt;List&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;DictionaryPlant&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;findDictionaryPlantsByNameContains&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; name&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;따라서 위와 같이 이름에 파라미터로 들어온 검색값(name)이 포함된 사전식물을 검색하는 메소드를 만들었다.&lt;/p&gt;
&lt;h2&gt;결과&lt;/h2&gt;
&lt;hr&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/9597aaf61bebbeef16667d26f29237ad/97d01/jpa1.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 63.52941176470588%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAwklEQVR42q2TSQ7DIAxFOU6BTCRkHu9/KZeHmkWlSpUCiy+MJR42H6txHGVdV7HWitZajDExfioFZBgGWZZF+r6XqqqSoIrD3nvZ912u65K2bfMAj+OQ8zyl67p8QFqv6zofcJ7nGBdFkQ7cti0Kc7IA7wpxummax9AvlxFVsk+qkKqokA+O07T91BhFawBvpTqtyrIUxo//d4tpsQB/yPyR4r2maYpQVoxBLuRfYWo0ci7GJpjFhf7TjQt59pwlJvcG24OPDn6KjBoAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;jpa1&apos; title=&apos;&apos; src=&apos;/static/9597aaf61bebbeef16667d26f29237ad/ca1dc/jpa1.png&apos; srcset=&apos;/static/9597aaf61bebbeef16667d26f29237ad/e7570/jpa1.png 170w,
/static/9597aaf61bebbeef16667d26f29237ad/f46e7/jpa1.png 340w,
/static/9597aaf61bebbeef16667d26f29237ad/ca1dc/jpa1.png 680w,
/static/9597aaf61bebbeef16667d26f29237ad/02d09/jpa1.png 1020w,
/static/9597aaf61bebbeef16667d26f29237ad/9d567/jpa1.png 1360w,
/static/9597aaf61bebbeef16667d26f29237ad/97d01/jpa1.png 1814w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
테스트를 진행시켜보니 원하는 검색어가 포함된 Like 쿼리 (여기서는 &quot;%스투%&quot;)가 날아가는 모습을 볼 수 있다.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[AWS S3로 정적 이미지 배포하기]]></title><description><![CDATA[…]]></description><link>https://pium-official.github.io/aws-s3-apply/</link><guid isPermaLink="false">https://pium-official.github.io/aws-s3-apply/</guid><pubDate>Wed, 30 Aug 2023 00:00:00 GMT</pubDate><content:encoded>&lt;blockquote&gt;
&lt;p&gt;이 글은 우테코 피움팀 크루 &apos;&lt;a href=&quot;https://github.com/Choi-JJunho&quot;&gt;주노&lt;/a&gt;&apos;가 작성했습니다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;서론&lt;/h2&gt;
&lt;p&gt;&lt;figure class=&apos;gatsby-resp-image-figure&apos; style=&apos;margin-bottom: 16px;&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 580px; &apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/11e62ef3633ccafe9b50401cc688edd8/12f38/img.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 216.47058823529412%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAArCAYAAAB4pah1AAAACXBIWXMAAAsTAAALEwEAmpwYAAAGe0lEQVR42u2WaVDU5x3H13R83Zm+S9t3fZEXLdIDlmth12V3WWrcarCNTZpOMtMZWhNTEeoBBQREblFkWq6CHBEhCVeAKEXkhnAsh1iCtTUSrZFLORfYhU+f/8NRVNqxM77Mznzn+e//+Dy/63l+j8pgMPAipfoa+OKARqPxxQJ1Oh1arVaOG9Lr9XL8v4CKZcpHISEhFBYW0t3dTW1tLRUVFYSGhlJfX09AQIB8x9fX9/mBhw4d4uzZs5SUlJCZmUl6erqcpKioaNMDs9m8CVW+224CCfTx8SEiIoKCggJycnJITU0lIyOD+Ph4goKCiI6O5tKlSyQlJckJFE+UZ1sneAZ48uRJLly4IGEJCQlSsbGxHDlyhHOp5yjKKyDqj5GkJqWQnJJMYGDg/7YwLi5OWqhYcuzYMdLS0sjOySb5TAK737bgFLOPH8cewOWoBZOPnt2++u1jaDKZ8PLykoDS0lLyC/I5fTqG3NxcysrL+Li4FGNgAM7nfsEPM95AHXUAs86An9kPP781KYxnyka/W8yq0+Pp4S2ldvHAW6PDXe2B1kuUk4cWrdoHjVqDWq3elKurK56enk8CjQYjrjo1P/J5hYB3NByN/CWx6UG8+d4eUrLPEJ4SzIm4d4k5f4S03ASu1l2lqamVhoZG2ts7yc7OEVWglZlXGYwGfPW+mF7z5+UffAufgO+SePEdjqX9ioyS81hHW8m/epasqjAaBkoYn3mA8ltdXWVlZUVe9/X1yTxIoNFoQqPxJPjkUfa99XO+4/RNTiS9SV5ZFrfu3OHTrg/5U9lx8q8kc3/8viDB0pKd5WUHNtuSBFp7BVC7Dlxz2cSBX3sTHHkYF39nIoW7y+Ldj+qKyawIp+9WI1Mzj4VFqzgcK8I6ARXApWW7YiuF5cV4aTQyOQLoK8hmTsUdJyT6N7z69h7yqrJ4PD1DwsVQbn85IK1Q3LPbV1C8nJ6dE5NVk1f+IVXdhfw2JhC9TtSkcbMOvSmvrCXtYjxOuleoul5OUlEsLf3XJWxBuGZbtGMTriqWKcCBz4cZHPmctuG/UlSRjUFv/E9he3t709zcwehXo3zP49u8/gcLn7RXSJhtaZlFAbItLkvJazHB+MSkGO3M2Sa51nRFlpy0UKEqSyg3L5/Oz6xEJJ4i/XIGj2fmxccO7A6HdHXZ7ljX2vX8vE0kBu7eH6KqslgwjBt16IufyQ/La3sJCjlOT88IczN2YcGsdNGxsirj5nCsCvh6HFeVOC5gHbzBteI/k3cmBK2wcDPLioV7LD8lMjqW1nYrY2PTTE7OM7+wjOAwN7fAwsKiBCuWj41NMvK3AfL/ksLl5KPkJ4WiEWHbBBoEcK+wMOp0HO2d/Tx8KIATczx4MCGyPS/GMZEYm4zpyD/+Sd9AH7MTozweu4t9dpyO5nq52z8B9LfsIexUDC2tVgGYYmpqgb7+m1j7Brlx4yYT4xPi3iNau7roHRjcLKVnVsoa0IDpVX/CIqNpaunl3r1JAZil/bMemts7aGhsoKWuiq72Rgns6O5hRcbTsbZSrNYngUoMLfstxJxJpLHFyhejYzx6ZKO+qY2q2iu0dXYxdHOYgRtDNHe0c72lRS6/RVFGyq+np/cpC4V8dBp+d/j3lH58FWv/beoaOij75ArVddeEld30CtcbmlqoFU2rQQD/6+aw0XA03l4YTWbee1/s1um5ZOUU8kHxR+QVFlPzab1QHSWlZeQWFJIn+srw8IjUnTt3KSureCopQsrO6+/vL2SWo2WvRTYh5SVl0W/IqOipe9s2eiWOW5vO1nb5PPr69PUCgU9n7ImMrgfbZPR9Lkmgcghyc3N7RkrP9fLyFNuSCbWbGTd3M+4eYtxG7uvaLXZt1cGDB0lJSZFnmcTERHkgUsbk5CSCQ07wxuteXIjfRVKUM9GhzsRF7CIhcpccFcWL69NhzsSIZ/t/pkMVHh5OeXk5NTU1VFdXU1lZKdXYeI1Ll2v5INOJtkoVXTXfgMmXmBjayb3enTwc3MlXQv/q38nKly/Bwx0EH3ZBFRUVRWtrq1RbW5voLc3iVNAkltUQ1TWtFGR9n1udKm537xDdSsXCqIrpv+9g+vYObF+omBHjypQKZlUEv++y5rJy0NxwdavLIYrLBz05H+9EYtQu4fKGm05ScRFrY0yYeCa0f59uLSnKgWc7eXp6yKT8RO2Pq5s/avc1Kdeb/7fcV5Lyb7/c6h8NqlFFAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img.png&apos; title=&apos;&apos; src=&apos;/static/11e62ef3633ccafe9b50401cc688edd8/12f38/img.png&apos; srcset=&apos;/static/11e62ef3633ccafe9b50401cc688edd8/e7570/img.png 170w,
/static/11e62ef3633ccafe9b50401cc688edd8/f46e7/img.png 340w,
/static/11e62ef3633ccafe9b50401cc688edd8/12f38/img.png 580w&apos; sizes=&apos;(max-width: 580px) 100vw, 580px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&apos;gatsby-resp-image-figcaption&apos;&gt;img.png&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;피움 팀에서 비로그인 시 로그인을 수행하라는 페이지와 함께 이미지를 띄우려고 한다.
이 때 코드를 배포하지 않고도 이미지를 변경할 수 있는 방법이 없을까 생각했다.&lt;/p&gt;
&lt;p&gt;현재 이미지를 프론트엔드의 assets에 넣어서 배포를 하게 된다면 이미지가 변경하나에도 배포가 이뤄져야한다는 번거로움이 존재한다.&lt;/p&gt;
&lt;p&gt;CDN을 이용하여 이미지를 배포하고 해당 파일을 관리할 수 있다면 재배포하는 번거로움은 줄어들 것이다.&lt;/p&gt;
&lt;p&gt;다시말해 &lt;code class=&quot;language-text&quot;&gt;https://이미지경로.이미지이름.png&lt;/code&gt;라는 경로는 동일하나 해당 서버에 있는 자원을 변경하면 이미지가 변경될 수 있다.&lt;/p&gt;
&lt;p&gt;이러한 효과를 내기 위해 AWS의 S3를 이용해볼 수 있다.&lt;/p&gt;
&lt;h2&gt;AWS S3란?&lt;/h2&gt;
&lt;p&gt;아마존 웹 서비스에서 제공하고있는 객체 스토리지 서비스(Simple Storage Service)다.
쉽게 말해 클라우드 환경에 저장소를 제공하는 서비스를 의미한다.&lt;/p&gt;
&lt;p&gt;&lt;figure class=&apos;gatsby-resp-image-figure&apos; style=&apos;margin-bottom: 16px;&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; &apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/bb11b58ed347ed1de2335315627357ad/c7953/img_1.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 29.411764705882355%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsTAAALEwEAmpwYAAABNElEQVR42oWQvUvDYBDG8+c4OKuj4CzobkeFDipEEAxEsjgILi1ONg4tfgQHQcGKsYgVRyFSoiVt6RCDVmukbRKbpEkekzdtB0U9OO54jvvd+z4U/oogIMXutNCR7gDP+zH7bL7BLElDmXIcB6ZpwrIsUge9G+pROPo7igsJ3E6NQ91Yh++6ISuGGZUyHpfmcRHOqjtpwPdB8TwPhmHAcRxJlmVB0zREUSRL7WcN9SyPp+IV6rldBLYNp3/sJX8CeWIUZ2MjKExPxsDoNd/TMAzY3S5Z6n3okNeWUUvMor29haDnhns+mbXke6grSTzMzaCc2oyBv9sXf0vVNPDpFDKLSRzlsmjqOtG9vp/SzTX2mNXhkX+BiqJg/1DA6WUBB4KA10aD6AOAUq3hOH8ON/Q2An4BlzCsT7N7AuEAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img_1.png&apos; title=&apos;&apos; src=&apos;/static/bb11b58ed347ed1de2335315627357ad/ca1dc/img_1.png&apos; srcset=&apos;/static/bb11b58ed347ed1de2335315627357ad/e7570/img_1.png 170w,
/static/bb11b58ed347ed1de2335315627357ad/f46e7/img_1.png 340w,
/static/bb11b58ed347ed1de2335315627357ad/ca1dc/img_1.png 680w,
/static/bb11b58ed347ed1de2335315627357ad/02d09/img_1.png 1020w,
/static/bb11b58ed347ed1de2335315627357ad/9d567/img_1.png 1360w,
/static/bb11b58ed347ed1de2335315627357ad/c7953/img_1.png 1896w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&apos;gatsby-resp-image-figcaption&apos;&gt;img_1.png&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;h2&gt;시작하기&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;a href=&quot;https://techblog.woowahan.com/6217/&quot;&gt;사례별로 알아본 안전한 S3 사용 가이드&lt;/a&gt;를 참고하여 작성된 글입니다.
개인 AWS 계정으로 실습을 진행하는점 참고 부탁드립니다~&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;지금부터 AWS S3를 이용해 정적 웹 호스팅을 수행해보자.&lt;/p&gt;
&lt;h3&gt;웹 호스팅 준비하기&lt;/h3&gt;
&lt;p&gt;&lt;figure class=&apos;gatsby-resp-image-figure&apos; style=&apos;margin-bottom: 16px;&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; &apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/7965e319a230b1e5fa383531378aaf42/e42f2/img_2.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 64.70588235294117%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB4klEQVR42pWSPU/bQBjH+Rb9AA3tCv0CFFViDRETVJVYKjbUhQXaDmyolcIAGSitWkBiZayoqCoFhsDSOH6JHSexHSdu/JIQXhIlsfPn7kxbBCgiJ/1l32P79/x8d0OR0TEsLn/AxtddrH/aRmJzh2U18eVBia9/xtrGFpYIIzL6HENPno0jI2TRbF7CsR3UajW4rouHjiAI2DUjyqAsBuR4CTwvIHl4hGTyEAc/f8H3fXRput1b8a8TztvtNgOmCYMBh6khod/sNsi415BOzhoNlEomKhULf6pV5HIqHMeFrhukXoKm6SgUiqTmwPO8sG6aUNU8AwpZBcN/DQVJQblcRprLQBQlyIpC7jkIgoisrIAjddogdXwCmcxzqorfaY49S6VOEJClEeXcfyBPDBkwHX5oGCVmUtQ02LYN3TBQr9eZVaFYhGmWmbGm6/cb8sSw7rnIShKsSgWtVou91Ov1Bl/D25tCETcxFNov9DTc3RRi2Dv+hvO992juf8Tljzia31dwsfcW/qkVNqHN+gHJWf5nyMt5dDan4L57isbqBM4SUTTiL1BbeATfEq9VgwF/uXOKjiUhsBX41TCBpwF+Z7A1fDwyhonYK8Rm5zE5++ZOojNziE6/7pvYyznGoKwrYLlmRt8vlkYAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img_2.png&apos; title=&apos;&apos; src=&apos;/static/7965e319a230b1e5fa383531378aaf42/ca1dc/img_2.png&apos; srcset=&apos;/static/7965e319a230b1e5fa383531378aaf42/e7570/img_2.png 170w,
/static/7965e319a230b1e5fa383531378aaf42/f46e7/img_2.png 340w,
/static/7965e319a230b1e5fa383531378aaf42/ca1dc/img_2.png 680w,
/static/7965e319a230b1e5fa383531378aaf42/e42f2/img_2.png 734w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&apos;gatsby-resp-image-figcaption&apos;&gt;img_2.png&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;버킷 생성부터 시작해보자.&lt;/p&gt;
&lt;h4&gt;버킷 생성&lt;/h4&gt;
&lt;p&gt;&lt;figure class=&apos;gatsby-resp-image-figure&apos; style=&apos;margin-bottom: 16px;&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; &apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/1de1e4d113d89fddd9fe762167c678d2/796eb/img_3.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 61.1764705882353%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAABWUlEQVR42p2TaW/CMAyG+///G/uwITZ2CAo96N0kTdv0emeHgkACwWbpaY7Wr+04dbJSYpcKxIVEUiiEhwju3kMpJKRSEDPySZxDHGP9/YPVxxqb3R6F4BcSqqqgZyriacEgDPG2XGKxeMHrcoWvzQ6u61KWPj79FO9eiu0hh5QS4gkcVk2SBHmeo671MRupoDhipSEIHuu6fgj7OuwYBAEiKr3rOvR9f8Uw0z9gGAY0TQNHkzKXwxFONk0TP2fOuxfryX5zCZuhhKxgkqbUVYGmbSlKayOd5m17XPNYNwayNlCEpPllOLbuJFiUJcpSkJM5CpIz71eazobE7Fg3VixWBpk2EE1/X5AzDILQNoeFsyyDMeZc/lVpxEjn1XUGuJthUcD3A3iejyiKicge8jiONxmGIzcFuaQsL7ClS833qNLadu0/ZgUVCfCh85/Rze3nkTv2Vzi5X4AbogZCKYY7AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img_3.png&apos; title=&apos;&apos; src=&apos;/static/1de1e4d113d89fddd9fe762167c678d2/ca1dc/img_3.png&apos; srcset=&apos;/static/1de1e4d113d89fddd9fe762167c678d2/e7570/img_3.png 170w,
/static/1de1e4d113d89fddd9fe762167c678d2/f46e7/img_3.png 340w,
/static/1de1e4d113d89fddd9fe762167c678d2/ca1dc/img_3.png 680w,
/static/1de1e4d113d89fddd9fe762167c678d2/02d09/img_3.png 1020w,
/static/1de1e4d113d89fddd9fe762167c678d2/9d567/img_3.png 1360w,
/static/1de1e4d113d89fddd9fe762167c678d2/796eb/img_3.png 1514w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&apos;gatsby-resp-image-figcaption&apos;&gt;img_3.png&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;우선 S3 서비스에 들어가서 버킷을 생성한다.&lt;/p&gt;
&lt;p&gt;&lt;figure class=&apos;gatsby-resp-image-figure&apos; style=&apos;margin-bottom: 16px;&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; &apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/1e4db0d1c40eadbb749f43f6697a26ef/134d7/img_4.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 85.88235294117648%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAAAsTAAALEwEAmpwYAAACd0lEQVR42qVU2XLbMBDT/39bX5o4V+NbshQ71k2RumwUoGQ3D830oZ7BYLkWyT2wDE6nE15f37Bcb/GZ17C2QdMQ1sI2lrb1tvfRttYRFsZMa/m1ts55O0izDKvVGsfTJ4qyQlkUKIiyKD3fkOfiEnVdI+c6zXLPGVn+oixRVTUCY1vktoNxHQrjYNoB7XiFGy532H7E0A9wrvUZDMOAy+WCcRRGvxbatkOQNR1ejxUWyx1+PL3jZRsjPFc45A0+KoektOQWAzfGyQd+va98dCWzUVRCycgcU255YVC3PVI74IMbk6LBIasRpRWOPCx3o/9PUCSGNdJBZVV5VsqC7LZt0XWM0BiD0/nM2hj8709ZBNVc5CzPvWP8gq7vJ/DmO38H/u8YZVCyBnEcI4oirCmd6HBASDthvfp/HNLO6PsJkk+gdH8+LPDw+OT58ekZC+Jx8czDY9+IMIqxDyPyAdtd6DmOEx9ERHuz3Xmfsg0y6nC/j7AjokOCzW7vN233IcW+wWqzxXK1wfty7dey1/S9bSI8rGM8UxXH48nrWE0Lysaxa4bCnaSg9k8aG+98g9beRwzUYEeNduTr9To1hVoMzpVFmBz9tOwY1ec55U3W3yY0bho3+XSZMZb1Gv7aZV0aqDMqfsH8hZwaO6Upzow41YgJs51JyPzm1v2eEQmyh3liAgmyHyhadqjWoCuK2RYbOz0UivbmG27l8Kn/KYc/UPOpGSwYWcERKucoM02BJkJrjRe50YtCaOP3KfNAhayUcjZlSmviTPP6pRS6tOJkCV5/ehC8JqcS3FNW2EpHH4pd2/nC32t1s+eNX9HPL8+Fndbo/QZ/FhsOPSVMbQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img_4.png&apos; title=&apos;&apos; src=&apos;/static/1e4db0d1c40eadbb749f43f6697a26ef/ca1dc/img_4.png&apos; srcset=&apos;/static/1e4db0d1c40eadbb749f43f6697a26ef/e7570/img_4.png 170w,
/static/1e4db0d1c40eadbb749f43f6697a26ef/f46e7/img_4.png 340w,
/static/1e4db0d1c40eadbb749f43f6697a26ef/ca1dc/img_4.png 680w,
/static/1e4db0d1c40eadbb749f43f6697a26ef/02d09/img_4.png 1020w,
/static/1e4db0d1c40eadbb749f43f6697a26ef/9d567/img_4.png 1360w,
/static/1e4db0d1c40eadbb749f43f6697a26ef/134d7/img_4.png 1628w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&apos;gatsby-resp-image-figcaption&apos;&gt;img_4.png&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;ACL 비활성화됨&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;모든 퍼블릭 엑세스 차단&lt;/code&gt; 옵션을 선택해준다.&lt;/p&gt;
&lt;p&gt;&lt;figure class=&apos;gatsby-resp-image-figure&apos; style=&apos;margin-bottom: 16px;&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; &apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/ba21278e5747a763d1e72fd65d407199/d31ed/img_5.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 100.58823529411765%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAACOUlEQVR42q2UfZOiMAzG+/0/3e7O7o3rqYAvCLiKrRTaAj6XBPQc/9Cdu+3MbxIKtGmSp2q7zfD+8QvT6W8Yc0LTNKjrWizjHFnnrs/XefrGjd9axlqZV1leYDZfIE6WSJZrLKIYq/XmSrJciY2TwW42KZI0x0ecY7IsUOxLHI9HHA4lqspCtSFQFA6BbN/36LruG/QIwpn+OeN8HuD/1ao44uXtHUZr8OAX/zNU7Ty2WS6r8+jI9nd0N/RPUNpoOfuRItx9fUmCa072DU1TD8VpxgI8QHGiuShz4vXtDUWxg9aGEq0FzRvpCut9hULX8JTr8AAVQnttE56wtaV2uLSJG3ABpvYwjUf7pGCKdzzRkU9Vhcpa8bly/1wUjrDYUe5sjZ8YynlPR/LwBPdjc8+dQp6h8jzHy8srPmcxDsaKhLjqFaegsqP83LdRln7MSX5f+wNKrqweKElOjKcTtG1LhNE+RukTLVgUKE+NTHClLvbiX9RzkdjDHGZlhYiEn2UFKSYjO5CmKTgdabrFiTb1dBze4HlR6MNFFGG+iDD5nGLBN0+cCHO5hRLMZnN8TKaI6Dba7vawbuhHjj7c0FP0ivXHOWN1sCqMqejZSF9qY+SO1DSXk0q2pcXmYLEzjfQsF81Q9Iwlv2upsQ+llgV4Ye+DSEtgnwoijLLqOJIQpEAckaceDvTehQ5l08mVplin0ToT+Q09eZGbo7nmry/t48fLwl03ZL8mv6zbcUEKf76IJR8/oZQ/vxUQbo0aEHsAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img_5.png&apos; title=&apos;&apos; src=&apos;/static/ba21278e5747a763d1e72fd65d407199/ca1dc/img_5.png&apos; srcset=&apos;/static/ba21278e5747a763d1e72fd65d407199/e7570/img_5.png 170w,
/static/ba21278e5747a763d1e72fd65d407199/f46e7/img_5.png 340w,
/static/ba21278e5747a763d1e72fd65d407199/ca1dc/img_5.png 680w,
/static/ba21278e5747a763d1e72fd65d407199/02d09/img_5.png 1020w,
/static/ba21278e5747a763d1e72fd65d407199/9d567/img_5.png 1360w,
/static/ba21278e5747a763d1e72fd65d407199/d31ed/img_5.png 1434w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&apos;gatsby-resp-image-figcaption&apos;&gt;img_5.png&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;기본 암호화는 &lt;code class=&quot;language-text&quot;&gt;Amazon S3 관리형 키(SSE-S3)를 사용한 서버 측 암호화&lt;/code&gt;를 선택하고 버킷을 생성한다.&lt;/p&gt;
&lt;p&gt;&lt;figure class=&apos;gatsby-resp-image-figure&apos; style=&apos;margin-bottom: 16px;&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; &apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/82802cdae238d3e7a8ce49912300d7f7/a4f78/img_6.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 26.47058823529412%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA1UlEQVR42n2QS24EMQhEff+DzDlyidnOZpJR+ucvNra7pQrYUjYTZVHCIHiUMbsL+F42xJgQiRATIYh8yqBSkP9R0ZgzQowyW5BygbHW4vPrNYsKlehCxBZIBhjM71JQ0SjKAnHewy5PRLfC7MeBw3mQupMtNjF677jOjtban1KIOqy1giXvvYHuN4THBwxRhhWgbmuto7YJ0gVtNHec5zneLJDeZn5d1wTyNFBrGTMm0bzZ75cqg+Quy7pC3TvnpFaHo3XbRm24kwUxJey79vhx+8yMH7tegYDkqFQOAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img_6.png&apos; title=&apos;&apos; src=&apos;/static/82802cdae238d3e7a8ce49912300d7f7/ca1dc/img_6.png&apos; srcset=&apos;/static/82802cdae238d3e7a8ce49912300d7f7/e7570/img_6.png 170w,
/static/82802cdae238d3e7a8ce49912300d7f7/f46e7/img_6.png 340w,
/static/82802cdae238d3e7a8ce49912300d7f7/ca1dc/img_6.png 680w,
/static/82802cdae238d3e7a8ce49912300d7f7/02d09/img_6.png 1020w,
/static/82802cdae238d3e7a8ce49912300d7f7/9d567/img_6.png 1360w,
/static/82802cdae238d3e7a8ce49912300d7f7/a4f78/img_6.png 2644w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&apos;gatsby-resp-image-figcaption&apos;&gt;img_6.png&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;위와같이 버킷이 생성된 모습을 확인할 수 있다.&lt;/p&gt;
&lt;p&gt;&lt;figure class=&apos;gatsby-resp-image-figure&apos; style=&apos;margin-bottom: 16px;&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; &apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/8a1fd27e8ba3dfc2d540d39808d8d36b/0a739/img_7.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 38.82352941176471%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsTAAALEwEAmpwYAAABCUlEQVR42p1Ry07EMAzs//8OX4C4cOICRz5gpd00zcNJ82gHT7a7cGGRqDRK7RmP7WQ6GQtjLZz3CDEoInwI/8Z0Ol+GmXUOdlkwH+ZOyYHx76+napx3d87fND8wmdliodBdi4xd4H1AlIio00aRASH6BqkNUQvJhSh3nuB2ajhDUlKBwMUEEzKsjyMe63MybWAuBufXJywfL5BchpnxGblUtNZQa0XKGRPXZGEpRRPrSOZ1HTFB46QNhebvz4ifb6h9P/iKVbVZa3iOO+QqdO/soiKSjNmVEElDvG0b2r5jPfLfvG6iRv3QTvjjqyo8mxmt9yOz/6otOsjE9R6B98uHu13FI/BhvgBTeGsmrMYrLAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img_7.png&apos; title=&apos;&apos; src=&apos;/static/8a1fd27e8ba3dfc2d540d39808d8d36b/ca1dc/img_7.png&apos; srcset=&apos;/static/8a1fd27e8ba3dfc2d540d39808d8d36b/e7570/img_7.png 170w,
/static/8a1fd27e8ba3dfc2d540d39808d8d36b/f46e7/img_7.png 340w,
/static/8a1fd27e8ba3dfc2d540d39808d8d36b/ca1dc/img_7.png 680w,
/static/8a1fd27e8ba3dfc2d540d39808d8d36b/02d09/img_7.png 1020w,
/static/8a1fd27e8ba3dfc2d540d39808d8d36b/9d567/img_7.png 1360w,
/static/8a1fd27e8ba3dfc2d540d39808d8d36b/0a739/img_7.png 2638w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&apos;gatsby-resp-image-figcaption&apos;&gt;img_7.png&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;버킷 탭에 들어가서 이미지를 하나 업로드하자.&lt;/p&gt;
&lt;p&gt;&lt;figure class=&apos;gatsby-resp-image-figure&apos; style=&apos;margin-bottom: 16px;&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; &apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/edb64682ac47bf9ae9c16d1d2508938f/d3b48/img_8.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 102.35294117647058%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAACU0lEQVR42qVU7W7bMAz0u+1hB+z3XmQBMqBdliyZI8e24m9ZtvNx49F14LbL2mIGDpRo6kQdKQVRVmJvS9isQHzMEVmxSQp7PKJuGpRVhaquFRzP53NM/uDh8RHL5RK2rOHaFo1zivn4OZo7fjcSbne/8bDaYL0Lsdsb7I1BdDioNdFko5uf4DxOEgXHE5hlsNtHWKwNlhuDdRghtSlSOe50bNoktc+QWqv+g5KKjRNBPBL6fsDlcsFZcLlekeUFzCFGLAsZGMn4KPruzUEWW4QmQihJ8F/rO1kDWXtVWzuPwImTZMPphH4Y0PU9fNdrsGu9Yhq33j/5qG97+zehahyCNE2x+LbAavXzlj4zdCLySTYZZJM5+qGXTTs5Xo1YYhsh4ZqyrLQrAp5bdVLNMjleJsfO0Uumr8he+Kb5ZJWw0V6rVbsxqzGY2TFwwpxkTkR4kaLruidC6Ss6mPL5fFaiTjTMZQNPfcXHxeyzWvqMBWQM/3FOQsbQapUrYaXYofQgS+9lJwZTG/p1LiAhezYRzakhN6VU7EstJIvCxqZmDGpZuWbM9h6YETea5i/X6JGLokBZ5ODH1P8FHld79s6cNQjYO2nlcbrivz9KFPD8Ni+R2KNoMYyFue1+/TghK8jqsA+1OevxyWIRWIwPExZlqWJyMa+Ua90N2iry773QKhsp+/rXVl+RSK4QrbaDtFAir8rfHtPXaPQe0wZ80zbbHYy+gZG+LqG8ffQz+/cRymtdlWoDOrgwl/aZwGtIPavmDSIhiTOx378g+fwJ7sdX/AGLwAI1O4ZB1wAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img_8.png&apos; title=&apos;&apos; src=&apos;/static/edb64682ac47bf9ae9c16d1d2508938f/ca1dc/img_8.png&apos; srcset=&apos;/static/edb64682ac47bf9ae9c16d1d2508938f/e7570/img_8.png 170w,
/static/edb64682ac47bf9ae9c16d1d2508938f/f46e7/img_8.png 340w,
/static/edb64682ac47bf9ae9c16d1d2508938f/ca1dc/img_8.png 680w,
/static/edb64682ac47bf9ae9c16d1d2508938f/02d09/img_8.png 1020w,
/static/edb64682ac47bf9ae9c16d1d2508938f/d3b48/img_8.png 1340w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&apos;gatsby-resp-image-figcaption&apos;&gt;img_8.png&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;favicon.png 파일을 업로드했다.&lt;/p&gt;
&lt;p&gt;&lt;figure class=&apos;gatsby-resp-image-figure&apos; style=&apos;margin-bottom: 16px;&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; &apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/90dcc8887adb5c3d23f59d6995a01a27/90a52/img_9.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 46.470588235294116%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAABOElEQVR42oWRzW+CQBDF+f8Te62Hem+8tE3bkz1REmLEozYRJSmgYpFvVj7X110shCJpX/LLhNnhzeysYOwsfBomLNuB6/nwfB9hFP2J43qwj6yeRcd14Xkejg6PPoT94Qu6aWLHYsCKgzD8F79NEDQ5HgWbOccxwflMUZYlKKUN/Pt0Ov2CcAip4tUZywvb7Q7L5Qc0TYOqqg2r1Qq6rrNG54qiKNBWnW+T5zkEdb3GZPIGSZIgyzIURcFsNsN0OsVisagKuTYbDaL4zs7nbIAlIrae2rgWbyrEbMw0TZFleXXNruqcKIoY3AwwGt1heDuEYRj9hmEYIUmSal/dHdZwKfM57sdjPL+84uHxCXvrcGnYNYziuHeyrgr+SNzgh6SgIFl5bUjI5YVa+V7xq1FaNvT9wA2/ARgEr3kwbgVcAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img_9.png&apos; title=&apos;&apos; src=&apos;/static/90dcc8887adb5c3d23f59d6995a01a27/ca1dc/img_9.png&apos; srcset=&apos;/static/90dcc8887adb5c3d23f59d6995a01a27/e7570/img_9.png 170w,
/static/90dcc8887adb5c3d23f59d6995a01a27/f46e7/img_9.png 340w,
/static/90dcc8887adb5c3d23f59d6995a01a27/ca1dc/img_9.png 680w,
/static/90dcc8887adb5c3d23f59d6995a01a27/02d09/img_9.png 1020w,
/static/90dcc8887adb5c3d23f59d6995a01a27/9d567/img_9.png 1360w,
/static/90dcc8887adb5c3d23f59d6995a01a27/90a52/img_9.png 2300w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&apos;gatsby-resp-image-figcaption&apos;&gt;img_9.png&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;이 상태로 객체 URL에 접근해보면&lt;/p&gt;
&lt;p&gt;&lt;figure class=&apos;gatsby-resp-image-figure&apos; style=&apos;margin-bottom: 16px;&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; &apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/8a7d1b1bce3b66ef10385ef2459aac88/dc8ac/img_10.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 21.176470588235293%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA0klEQVR42k2P2W7CMBBF8wWJsfGCgEBMZJI4iYNUlQeEaBFL//+HbseOKvXh6C4zGstZPwwIIcB3Hdq2Rd978rOONJtoNo4h7UzTlPDepxwZaCcSqO/oRma2e2yPPVzTpMK6BquyApcKCy5QFIwokOd5InrG5u4PxghSzhfx4A7284aP6zd+3m88ni9cvu4Yzhc04wnu2MJaC+cc6rpGVVUpR5/0cMC63EFtSoilRCbNCmq9gRCcXogIyOWMVorQ0FrDGJNUxe5fjkj6jZASXAj8ApaFbj74pzU9AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img_10.png&apos; title=&apos;&apos; src=&apos;/static/8a7d1b1bce3b66ef10385ef2459aac88/ca1dc/img_10.png&apos; srcset=&apos;/static/8a7d1b1bce3b66ef10385ef2459aac88/e7570/img_10.png 170w,
/static/8a7d1b1bce3b66ef10385ef2459aac88/f46e7/img_10.png 340w,
/static/8a7d1b1bce3b66ef10385ef2459aac88/ca1dc/img_10.png 680w,
/static/8a7d1b1bce3b66ef10385ef2459aac88/02d09/img_10.png 1020w,
/static/8a7d1b1bce3b66ef10385ef2459aac88/9d567/img_10.png 1360w,
/static/8a7d1b1bce3b66ef10385ef2459aac88/dc8ac/img_10.png 1572w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&apos;gatsby-resp-image-figcaption&apos;&gt;img_10.png&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;다음과 같이 Access Denied가 뜬다.
버킷을 생성할 때 Public으로 생성하지 않았기 때문이다.&lt;/p&gt;
&lt;h3&gt;비공개인 버킷에 접근하기&lt;/h3&gt;
&lt;p&gt;버킷을 Private으로 만들었기 때문에 사용자가 자원에 직접적으로 접근하지 못한다.&lt;/p&gt;
&lt;p&gt;&lt;figure class=&apos;gatsby-resp-image-figure&apos; style=&apos;margin-bottom: 16px;&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 510px; &apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/1b8c960a1e11fb03c434db293eb80e9c/1b7d6/img_32.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 78.82352941176471%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAAAsTAAALEwEAmpwYAAACE0lEQVR42qVUS24TQRDNMVizZMlZWKNcAIkF66y4ABwApLDgAFkhMIQFlkIiCxE5/o0doTF2wkzP1/Ppme5+VHd7zDiKYgElP0+r3fXqvaoe7+FmKGmgZG0hhHliF3Qexd42m8S1O4O3nNOBij4ZoFGX9Cy2oAxyA7PHV1qNJZRK0ZKiLiB4Di4kUi4QVBJhrbCitVS4OzgVlsISqg0hKZEVBGUn5GAw7uNyeIoVrWttnc7p4vowFwWyKkZepzZXKyXbhnDqJwiLisi4sSJoLz5/j+9P72P+7B7i7iFk018KQQ763leMWA+9q2Mi1W2hXLVWeHB0hqNvMyqbIg58+CuOqP8J3ruXYJ9fw+28wnj2A7Opg8l4gosBKfeHyOoEp8sOWPmLCKnnjeW3J0P0F0zXNgq1jvjiGOODh2DPHyD4cohrFiEIGMIwJET4mczIlQc3dlCSfdOuRmEaR8hz2hScUKGmHmrbl+cncHsfUOkerqeiWl+OOwKLPTuUdg830QyFEnJegaUZvISaX5RmUGZ4a0hKdkYOfM+3hfSUG0J9wFYpjMLWLW/k3BqP9/fR+dixN7hI/1ybTWgyGoy9vPkdoD6TotFZF8ydGleqTLWym28KTJVd0NPUb1U3KjHJK7NWt796u6PdgEeDGi8Wwppb//DPhEuu8MSp8Oaq3tr/a8J2sMUcWRJvlfovQtH8B7TiN42i1sJNzRGLAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img_32.png&apos; title=&apos;&apos; src=&apos;/static/1b8c960a1e11fb03c434db293eb80e9c/1b7d6/img_32.png&apos; srcset=&apos;/static/1b8c960a1e11fb03c434db293eb80e9c/e7570/img_32.png 170w,
/static/1b8c960a1e11fb03c434db293eb80e9c/f46e7/img_32.png 340w,
/static/1b8c960a1e11fb03c434db293eb80e9c/1b7d6/img_32.png 510w&apos; sizes=&apos;(max-width: 510px) 100vw, 510px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&apos;gatsby-resp-image-figcaption&apos;&gt;img_32.png&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;출처: &lt;a href=&quot;https://techblog.woowahan.com/6217/&quot;&gt;https://techblog.woowahan.com/6217/&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;사용자가 CloudFront를 우회하여 접근할 수 있도록 구성해보자.&lt;/p&gt;
&lt;h4&gt;CloudFront 설정&lt;/h4&gt;
&lt;p&gt;&lt;figure class=&apos;gatsby-resp-image-figure&apos; style=&apos;margin-bottom: 16px;&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; &apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/003f4885f639be32b446934c851247da/3d705/img_34.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 76.47058823529412%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAAsTAAALEwEAmpwYAAABTklEQVR42qWT226DMBBE+f+vS9PLSx+qJqIBDDi+m+t0l9BKpESpgqXBxiyHYRaSY6nwfpLIaoVjXiHLCyitoY15SMnL6xt2+2fsnvY4K/Uw6BdY1TXyPEdV1XDOwXlPs7+sf87/KUv1iZQSRSHAo21bdF23EO/d0nVt0zRImCqEgCG7wzDMhSS+iQp4DxhXNY5LdX1PDrXFR5rj8yTwJSTyWkOcLQppprUOLWzTL2Tm+Xr0DDQuoKjotUvK0Mfp2QMd+lkdnawpdsNU+wcYAgGLAofDEVmWIU1T1NQo3vcU9KSwlPMOIYZ1hyFEGMrxrDRKahBnygHzxXtaBUYKPlIDGBpo3dCaA7431mouDmMzgSy9Wjc/eeCu3ewt5pzH2w4d5cUOtbXwMW4HNpQZO2Qwu90MZAg7ZCCDN2XoCaLoLxFVRd9iCWks2g1d/gY9jZSTsG/1jAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img_1.png&apos; title=&apos;&apos; src=&apos;/static/003f4885f639be32b446934c851247da/ca1dc/img_34.png&apos; srcset=&apos;/static/003f4885f639be32b446934c851247da/e7570/img_34.png 170w,
/static/003f4885f639be32b446934c851247da/f46e7/img_34.png 340w,
/static/003f4885f639be32b446934c851247da/ca1dc/img_34.png 680w,
/static/003f4885f639be32b446934c851247da/02d09/img_34.png 1020w,
/static/003f4885f639be32b446934c851247da/9d567/img_34.png 1360w,
/static/003f4885f639be32b446934c851247da/3d705/img_34.png 1470w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&apos;gatsby-resp-image-figcaption&apos;&gt;img_1.png&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;CloudFront 배포 생성에서 원본 도메인을 위에서 생성한 S3로 선택한다.&lt;/p&gt;
&lt;p&gt;&lt;figure class=&apos;gatsby-resp-image-figure&apos; style=&apos;margin-bottom: 16px;&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; &apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/4b093e4f06cb1755fa98c6224d252fba/f28c3/img_35.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 94.11764705882352%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAYAAACQjC21AAAACXBIWXMAAAsTAAALEwEAmpwYAAACIklEQVR42pVU2W7bMBDU/39WC/SpfUqbOk1rJ7Gpg6RuSpSoY7pLpkcS27ENDEhY0nBmd5ZRXhSIkwTjOGKaZ0xuwjRNcLSOzmFZV1zzi8qqxn4vkCQpRBxDCIH9QeDxaY80zYh8xrIsLzDTwV3XHyes6wZFWSHXGrqo0PYDqR1gh4FUOqyk8C0C6VFCtiziBJmUkHmJsjF0eoe6ab0KVnSc9Hgpoq7vUdW1V8Qv/bHEeG31te3jCvMCDalpTQdrhxcPTyk7q9AQkZQKWZZRE1IopWkvoXROtXR/VV+sUFEzUopNYSwGIgiRcR7n6ndSoaUaaiLth9FbHmg9dfpFOczqHgeRkG2Jp/0BB8ogq+P8zaTwasKWovHj/id+bXfY3N1ju3ugyDQeXF+emOUK4ohf5rz11pJlC44Rg61zlHj/Xgn+r2bE9rirmroqlULfW1K0wk1hpn2TnmebD+H1VHN4H/EHKRGKOKVaxkhofjOKUWuMB9s2NDmstG3N84EhOuyIv1cq99PGTj1hnuf+YchXUBUi8y93wVgA/x+ehWlil3xbcWl8DaUuUNCtww1i1C2r41paUhjW9cJrLOKTbK9p/FKUZYyiEKT4QPIViTFYl9ZjmZt3UBMMIoC6XG3wuPuCze0nfL35gG83H/Gw/Qwtv0NltyjzO8xOYJ3jMxBYXEaEfLe5CoPVHuPA9aTV5jBtRkjRGUnvlFim6gxKzFOD32sAyzBjV4RLAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img_2.png&apos; title=&apos;&apos; src=&apos;/static/4b093e4f06cb1755fa98c6224d252fba/ca1dc/img_35.png&apos; srcset=&apos;/static/4b093e4f06cb1755fa98c6224d252fba/e7570/img_35.png 170w,
/static/4b093e4f06cb1755fa98c6224d252fba/f46e7/img_35.png 340w,
/static/4b093e4f06cb1755fa98c6224d252fba/ca1dc/img_35.png 680w,
/static/4b093e4f06cb1755fa98c6224d252fba/02d09/img_35.png 1020w,
/static/4b093e4f06cb1755fa98c6224d252fba/9d567/img_35.png 1360w,
/static/4b093e4f06cb1755fa98c6224d252fba/f28c3/img_35.png 1424w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&apos;gatsby-resp-image-figcaption&apos;&gt;img_2.png&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;이후 원본액세스 제어 설정을 선택하고 &lt;code class=&quot;language-text&quot;&gt;제어 설정 생성&lt;/code&gt; 탭을 선택한다.&lt;/p&gt;
&lt;p&gt;&lt;figure class=&apos;gatsby-resp-image-figure&apos; style=&apos;margin-bottom: 16px;&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; &apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/e3d28f4bb4103901d6e0b37cd11eac25/83e8e/img_36.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 97.6470588235294%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB9klEQVR42p1UW27bMBDk7XKZnqW3CNAeITdo/tz0rwgQPSwprkVRL8p60dNdUlRcp4FjE1jzYWm4MzsrUVU1pCyQ5zkKpdD3A8ZxvDoOhwNarSGCMMRm8xM/Hh/x9PQLWneYpukGwN4BzsbgeDyuMc/zzcHvC6bbNA14mDPwNXD84Bz/7HmIqq7xEoSkocREtzBdNy/r01jPXYz+bH5bi5Y0Y7CcMi2pQHxBWVV2LQtl91IqSFVCldX6X0F7P3PUxNJSVmWJih76s9/bmYnMs1mCtDHmTSdaG3/G62X2z1jKiqySpinieIsojilTael5TS8GZWVOLhBN0yJJM6TZK+JtYkE9hb7vLY3PAK9VbtoWnOUwDOsf4zjhQGDTQuOaIVrKJHgJrH6ajFlTEdj1tw6RKY04yZAkCQKyTxBGyIg+t2S9+PMqwLzpke322JJ2URRjSzpygRi0JTmuBuQf1u91t0NIgBGBcXHYTtybznv1RT3XTuGPQUlVHYbxfU+f2MK/cDFD7uUkSW2WbGrvLQ/M63cmPgt+pqf3beux+AXRY89xtrpz3zW37qx9jHHA5zGvlxtyhia7DRAdfcdcDzdgk3PvcnCFa9rz2UdmPmXhBRGf1eZ/gxmMEwH+vod8+ALEDw7wVkzdaQwMuPmK/fc74Pkb/gKwCBmgYuJDLwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img_3.png&apos; title=&apos;&apos; src=&apos;/static/e3d28f4bb4103901d6e0b37cd11eac25/ca1dc/img_36.png&apos; srcset=&apos;/static/e3d28f4bb4103901d6e0b37cd11eac25/e7570/img_36.png 170w,
/static/e3d28f4bb4103901d6e0b37cd11eac25/f46e7/img_36.png 340w,
/static/e3d28f4bb4103901d6e0b37cd11eac25/ca1dc/img_36.png 680w,
/static/e3d28f4bb4103901d6e0b37cd11eac25/02d09/img_36.png 1020w,
/static/e3d28f4bb4103901d6e0b37cd11eac25/83e8e/img_36.png 1084w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&apos;gatsby-resp-image-figcaption&apos;&gt;img_3.png&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;위와같이 제어 설정을 구성한다.&lt;/p&gt;
&lt;p&gt;&lt;figure class=&apos;gatsby-resp-image-figure&apos; style=&apos;margin-bottom: 16px;&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; &apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/9f81c0f29961e6885420d0c233db7d43/0f849/img_37.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 50.588235294117645%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAn0lEQVR42q3RwQ6DIBAEUP7/D62HVo2Kkoogi2FFp+K5h6Y4yVxfdrJCKYWieKAsSxARtm0DM/9dkZB5NjDWXViMMavCGIOmbUF84I4I5gCt9TV35Yj9dBP9S7+C6q3R9RKLXWB9QMw8VAzGYz6xlOPIny30pOEc3QeSc5BSQg4DQgj54GQJz6pGdbbre3jvM8FlxatuMI7jNT19Owf8ABeUFHbvbg6aAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img_4.png&apos; title=&apos;&apos; src=&apos;/static/9f81c0f29961e6885420d0c233db7d43/ca1dc/img_37.png&apos; srcset=&apos;/static/9f81c0f29961e6885420d0c233db7d43/e7570/img_37.png 170w,
/static/9f81c0f29961e6885420d0c233db7d43/f46e7/img_37.png 340w,
/static/9f81c0f29961e6885420d0c233db7d43/ca1dc/img_37.png 680w,
/static/9f81c0f29961e6885420d0c233db7d43/02d09/img_37.png 1020w,
/static/9f81c0f29961e6885420d0c233db7d43/9d567/img_37.png 1360w,
/static/9f81c0f29961e6885420d0c233db7d43/0f849/img_37.png 1426w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&apos;gatsby-resp-image-figcaption&apos;&gt;img_4.png&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;기본 캐시 동작은 &lt;code class=&quot;language-text&quot;&gt;Redirect HTTP to HTTPS&lt;/code&gt; 를 선택하고 새 배포를 생성한다.
(WAF 설정은 적용하지 않았다)&lt;/p&gt;
&lt;h4&gt;버킷 정책 업데이트&lt;/h4&gt;
&lt;p&gt;&lt;figure class=&apos;gatsby-resp-image-figure&apos; style=&apos;margin-bottom: 16px;&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; &apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/82a5f25e469bdccb84f9bec08324a9d3/c6049/img_38.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 30%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsTAAALEwEAmpwYAAABD0lEQVR42mXOTVKDMAAFYG5ju3KhC2/hcZxxYVHvUR2qzogyXqJ36KLTcUSlDDTEkPATAjxDQG3r4svLz5sk1rV7BPvhGGezESbuCLY7Nvnj4lEbcvI0wpU33nOAS+8Q58+nsL0TWKl/C7Kagr/dIPOnkGsHVTgzysBB8en0+dHvg97vuUNLXTRsrvMFlh8yLFYBFst3LF8DJKnsMQnKK3wJ9Ytypc861eBvTSgHYQWsaBNjHYbYkBhRHIEkxEhoApYycJHuEIL/2+ukXNN9K6EUhCRQShl1XaNpGpOllJCDsix35lVVmc62vNA/FCID592rwpTbtoUeTIFzgTzPkWUZxKBbF/pCpc+77rbuoW9c66oPq/B/TgAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img_5.png&apos; title=&apos;&apos; src=&apos;/static/82a5f25e469bdccb84f9bec08324a9d3/ca1dc/img_38.png&apos; srcset=&apos;/static/82a5f25e469bdccb84f9bec08324a9d3/e7570/img_38.png 170w,
/static/82a5f25e469bdccb84f9bec08324a9d3/f46e7/img_38.png 340w,
/static/82a5f25e469bdccb84f9bec08324a9d3/ca1dc/img_38.png 680w,
/static/82a5f25e469bdccb84f9bec08324a9d3/02d09/img_38.png 1020w,
/static/82a5f25e469bdccb84f9bec08324a9d3/9d567/img_38.png 1360w,
/static/82a5f25e469bdccb84f9bec08324a9d3/c6049/img_38.png 2798w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&apos;gatsby-resp-image-figcaption&apos;&gt;img_5.png&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;CloudFront를 생성하면 위처럼 S3 버킷 정책을 업데이트하도록 나온다.
&lt;code class=&quot;language-text&quot;&gt;정책 복사&lt;/code&gt; 를 투르고 &lt;code class=&quot;language-text&quot;&gt;정책을 업데이트하려면 S3 버킷 권한으로 이동합니다.&lt;/code&gt; 를 누른다.&lt;/p&gt;
&lt;p&gt;&lt;figure class=&apos;gatsby-resp-image-figure&apos; style=&apos;margin-bottom: 16px;&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; &apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/980aa37c423c66181d0e01da88cdb683/6e199/img_39.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 62.94117647058823%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAABbklEQVR42qWS626EIBCFff8XbLdp0u66cW8ogiCgwOkMrpv6o0m3NfnCjAwHOEPViA5CSvRKYTAGehj+RXW+XCGVJhR6rSD7voj/WbDtOtw6iVYuQoJyFjXWlhM/S3UTAvM8I8aIROSUkJh7/lt43RQCqqEc1WCOiYh/JpKgZ8H9oUZd1zgej1BaQ5vFi4E2YVZvvueP0Wxr2KYi+FE3eN83EKJFR37y2LZdidnj9f9Ke6/p6HUwXMt1lgU5CNOElDMywf6tY4nv+eptzunHmsBXrk817bp0lRuT78JPgeXj5lZ8dPZO8cNmH8iXDbQRo80IO45wzm3xHvZygm1Fma/4/j5M8D5QQSgFjuOSO4wjCY4OvQ1kTSyn2EC38uIK38uly7uzxstHjbfD6cGOGrQ7nPHadPiUHs0w4yQtztKg9wkq5C0zoCMweL6ydmgVtd76grIOyhAcjxOGEGGnBMsj4eYMT4u3ZJqbMfoJX5Zd7W3LXbtuAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img_6.png&apos; title=&apos;&apos; src=&apos;/static/980aa37c423c66181d0e01da88cdb683/ca1dc/img_39.png&apos; srcset=&apos;/static/980aa37c423c66181d0e01da88cdb683/e7570/img_39.png 170w,
/static/980aa37c423c66181d0e01da88cdb683/f46e7/img_39.png 340w,
/static/980aa37c423c66181d0e01da88cdb683/ca1dc/img_39.png 680w,
/static/980aa37c423c66181d0e01da88cdb683/02d09/img_39.png 1020w,
/static/980aa37c423c66181d0e01da88cdb683/9d567/img_39.png 1360w,
/static/980aa37c423c66181d0e01da88cdb683/6e199/img_39.png 2282w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&apos;gatsby-resp-image-figcaption&apos;&gt;img_6.png&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;버킷 - 퀀합 탭에서 버킷 정책 편집으로 들어간다.&lt;/p&gt;
&lt;p&gt;&lt;figure class=&apos;gatsby-resp-image-figure&apos; style=&apos;margin-bottom: 16px;&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; &apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/397365ed55e57e83a277aa67168a0258/2bae1/img_40.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 59.411764705882355%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAABZ0lEQVR42qVS2W6DMBDk/78sUfIW9ak5lKoNhDPGJ5en3iVE5JIqFTGyDbvj2dmNvs85jj8x4izHOaCsKkilUEv5Z4i6vu2j4/ELn9st0qKENobJXkEoDakNx8whAwkLuMZF1eWCupZwzkGFJK0JBoYSaNXjWikH27QY+h79FV3XsSr6P64akZSKNxTw36dtW0SnOGGF3nsm9YMH6A3nYRhm8PxtAp27bhRB5xlhjCwrkFc14vyMQpS4SAFtDZqmeQtrLdvypJBqVyrUb2zodIm0zJi0FBX7Osec0AVQRURCxN4PIyGPiaxDQhPGRiCtckir0PXdk0fUBDcRhgtsAI1MHiZkuijKiwJCCD58nUqc0gKbjw0WiwXW6zVWqxVjuVwiTVNWNaklb588LCZCKiv44sJoJEmC3W6Hw+Fww36/5zhKmtRMhHcekmQaTgpor3gMnJc89/ElIU27dfbe8IdmvGrKO8JfaKCiEJoCjOgAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img_7.png&apos; title=&apos;&apos; src=&apos;/static/397365ed55e57e83a277aa67168a0258/ca1dc/img_40.png&apos; srcset=&apos;/static/397365ed55e57e83a277aa67168a0258/e7570/img_40.png 170w,
/static/397365ed55e57e83a277aa67168a0258/f46e7/img_40.png 340w,
/static/397365ed55e57e83a277aa67168a0258/ca1dc/img_40.png 680w,
/static/397365ed55e57e83a277aa67168a0258/02d09/img_40.png 1020w,
/static/397365ed55e57e83a277aa67168a0258/9d567/img_40.png 1360w,
/static/397365ed55e57e83a277aa67168a0258/2bae1/img_40.png 2308w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&apos;gatsby-resp-image-figcaption&apos;&gt;img_7.png&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;복사한 내용을 버킷 정책에 붙여넣고 변경사항을 저장한다.&lt;/p&gt;
&lt;h4&gt;접속하기&lt;/h4&gt;
&lt;p&gt;&lt;figure class=&apos;gatsby-resp-image-figure&apos; style=&apos;margin-bottom: 16px;&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; &apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/439bb0f44a37301b455f15d253db1c40/6eb37/img_41.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 54.11764705882353%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABP0lEQVR42o1SAW6DMAzM/1/YdRvbulYbFEoCgQRC8HwuQRWq1lo6mThn+2yi9l8n2mUHes0+aPeyp988J9t11LQttdaKfwbaNAL1+X2i9ywT7N/e6YcLnsuS8nMp/lLXZJrmIWqtBargRHTw3lPv3KqqZVjbUcdq+76XO/EL3M0ZHACTqaI4U1lWFEKgcRwpxonmOFOcJomFMdAwDCsQg+97J3x8TxNyopwVFJVVRQ3LhqLIFzAkHo5HaWaZY4wRTlJaXS7Cb1srhWAj5yizjJuAURLSaH7wVyycpHbNYw7GhTiFToElQxkA+QmOyeh+GwOk4CbusQYurK67COvFPM8iH945L7GtQTkKbA1chWeR5wXVtZZdpYL/2XU1/n5BrQ1pfj/YVfohjywuf/RuwY7ly56YJM/kGSzr2cax2z/89FfsBFnawwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img_8.png&apos; title=&apos;&apos; src=&apos;/static/439bb0f44a37301b455f15d253db1c40/ca1dc/img_41.png&apos; srcset=&apos;/static/439bb0f44a37301b455f15d253db1c40/e7570/img_41.png 170w,
/static/439bb0f44a37301b455f15d253db1c40/f46e7/img_41.png 340w,
/static/439bb0f44a37301b455f15d253db1c40/ca1dc/img_41.png 680w,
/static/439bb0f44a37301b455f15d253db1c40/02d09/img_41.png 1020w,
/static/439bb0f44a37301b455f15d253db1c40/9d567/img_41.png 1360w,
/static/439bb0f44a37301b455f15d253db1c40/6eb37/img_41.png 2288w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&apos;gatsby-resp-image-figcaption&apos;&gt;img_8.png&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;이제 CloudFront 탭에 다시 들어가서 배포 도메인 이름을 확인한다.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;배포도메인/{S3경로파일명}&lt;/code&gt;로 호출했을 때 파일이 정상적으로 호출되는지 확인해본다.&lt;/p&gt;
&lt;p&gt;&lt;figure class=&apos;gatsby-resp-image-figure&apos; style=&apos;margin-bottom: 16px;&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; &apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/5aa94eaf3d08f5e01fb7112e9d39fe7f/825a4/img_42.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 67.05882352941177%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAAC+klEQVR42p2Ta0iTURjHB1nuvqnEcupKm9OWVoLJsjWmBAV9t+i7RJlaYBcrfCNBElOjFCKjApnzUmkbuqhpDZu+XsIugpZv2bwUWLSLhtrr4d/ZWPUhqOjDn/Och/P/nXOe5xyBQCBYvTkp6XCqfmP5tsysMkO2kTGZcxmjycxkZhkYvT6N0elSGV2qnkkNx1qtjkmiUqvjGXW8piw2Nq5co0k8SlmrqKRrs7MMk+ZcE7KNZrLLlANzzm5k7zQhc7sB6VsyoEvRI0mbgg2JWqRsSkdahgEZW7fBuCsHWQYj2btnH127Y4bCogRisXjdOnXcu7g4DVQq1XJ0dAxfXVnNu11uvrOzi+9yOHhHl4PvorHdbg/l3L0sf7X2Mh8fn8AnaNYvJ2uTQeMpCoyhEqgkEolHIpVAKpUSkVCEK9Z6zC19RuCLD8uBRSz6vyLg9+Pb/BIWvQuYXwrg5p3biIiIAPUSkVgUHGdDQBqo5HK5R6lUQqaQkWhpFI5eK8H+Z0W48bIJvRP9OMVWoKD/HOpe3sLDscc49uICChtKECVRQq5QkKBXoVD8AspkMg9NgIIJLQGarVZ0zz5F6dBFHHQXoc7TiOaJ+zjUVxqaO2d6cbe1DSKRKAgiYe/vQIVcEQJam6zAPMH54RpUjNbjzavXGBkcATs2jPxnp+GeHYK9zYZIYeTfgPKfQJ/PhyN9Z9HisePT7BxO5heiu/MBTryuRMtbGzopcM2/Ai1NllAzakcacGj4DOZWvJhuZdH8qBEHhoox8vEVOlrv/fGEk+EkT4HEYrGQgNdHxifHyfGBcpL3tIAUj1eQvMFCcv15I1nwBgitM6E1DML4sHf6ty5TETpHR3s7CFnBvNcPr98L1wcW7e8dGJ0bw4IvALKyApvNRpsiDnnCXf7w4x3G0BM6g9em73CC7spdqqriBliW63E6OdcTF8e6+rhBF8v1PXFzPT1Oju3v52qqqzmhUMjJpdI31DtF9ZiylILw/1NT6aiS/1O6MGPVd/aPyhhfUbQUAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img_9.png&apos; title=&apos;&apos; src=&apos;/static/5aa94eaf3d08f5e01fb7112e9d39fe7f/ca1dc/img_42.png&apos; srcset=&apos;/static/5aa94eaf3d08f5e01fb7112e9d39fe7f/e7570/img_42.png 170w,
/static/5aa94eaf3d08f5e01fb7112e9d39fe7f/f46e7/img_42.png 340w,
/static/5aa94eaf3d08f5e01fb7112e9d39fe7f/ca1dc/img_42.png 680w,
/static/5aa94eaf3d08f5e01fb7112e9d39fe7f/02d09/img_42.png 1020w,
/static/5aa94eaf3d08f5e01fb7112e9d39fe7f/9d567/img_42.png 1360w,
/static/5aa94eaf3d08f5e01fb7112e9d39fe7f/825a4/img_42.png 1972w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&apos;gatsby-resp-image-figcaption&apos;&gt;img_9.png&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;h4&gt;대체 도메인 설정하기&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;해당 과정을 수행하기 위해서는 도메인을 구입이 선행되어야합니다.
도메인 구입은 &lt;a href=&quot;https://pium-official.github.io/pium-deploy-step/&quot;&gt;피움의 배포과정&lt;/a&gt;을 참고해주세요&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;매번 &lt;code class=&quot;language-text&quot;&gt;배포도메인/{S3경로파일명}&lt;/code&gt;으로 접속하기에는 도메인의 길이도 너무 길고 복잡하다.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;image.pium.life/{S3경로파일명}&lt;/code&gt;로 접속하도록 구성해보자.&lt;/p&gt;
&lt;h4&gt;인증서 발급&lt;/h4&gt;
&lt;p&gt;우선 인증서를 발급받아야한다.&lt;/p&gt;
&lt;p&gt;특정 웹서버에 인증서를 붙이는것이 아니므로 image.pium.life에 대해 SSL 인증서만 발급받아보자.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;certbot으로 SSL 인증서 발급&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;certbot에 대한 내용은 &lt;a href=&quot;https://pium-official.github.io/apply-https/&quot;&gt;피움 팀블로그 - 내 서버에 HTTPS 설정하기&lt;/a&gt;를 참고&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;맥북에서 image.pium.life에 대한 SSL 인증서를 발급받아보자.
certbot을 받아준다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# certbot 설치&lt;/span&gt;
brew &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; certbot

&lt;span class=&quot;token comment&quot;&gt;# dns challenge 방식의 인증을 수행한다&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; certbot certonly &lt;span class=&quot;token parameter variable&quot;&gt;--manual&lt;/span&gt; --preferred-challenges dns &lt;span class=&quot;token parameter variable&quot;&gt;-d&lt;/span&gt; image.pium.life&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;figure class=&apos;gatsby-resp-image-figure&apos; style=&apos;margin-bottom: 16px;&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; &apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/912770a5f06bfd23701c27fb55ae5c2a/18650/img_43.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 68.23529411764706%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAABwElEQVR42p2Tx24CQRBEh5yTlrDktCxBIIIEiP//sLJfW20hi5MPpZ7QsWomRHGk9XqtOB6q3++r1+tpMBio2WxqMpmY5Xw4HNoddjabmeVuuVxqPp9rPB5bXHg+n3o8HlqtVuZEcBzHGo1GmkynFowzQR7IXbFYVD6fVzabVSaTMYQQFA6Hg9I0VbpNdTqdtNvtDMfjUdfr1exms7GCJKej6XchCjNBrVb7SeSIokitVssqttttG6vRaFgXJOh0OqrX6+bsnQA6y+VyZh3WJc7lctmSVGtVVStVVSoVQ6lUMuBI8N8E72dYKAiv18tGvd/vut1uOp/PulwuglsAJXQK4YgHPaxdDCZgDwXW4WKxEGPDB2MCOGPvQpAEC3f4U2C73arb7apQKNiEgE4Dl1Smiivn8JF8HD/7tPZ9IAmg0q/0/4TFJ0liIwDG8r2P6IAz7qCEsaHFffycxsJ+vzdnxsaJPe+QdbJJ7By+/C3CJwkQD8HgmrdKEeMQJbkkESoTjCNrEvvjRnlgvoe9vQzOPTGd8oaDK8u3IykV+Xp0gwOWMzogiDVdoypCYHmrrnTgbxJEkr8qf8InZd8f+Bdvj12elohowgAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img_10.png&apos; title=&apos;&apos; src=&apos;/static/912770a5f06bfd23701c27fb55ae5c2a/ca1dc/img_43.png&apos; srcset=&apos;/static/912770a5f06bfd23701c27fb55ae5c2a/e7570/img_43.png 170w,
/static/912770a5f06bfd23701c27fb55ae5c2a/f46e7/img_43.png 340w,
/static/912770a5f06bfd23701c27fb55ae5c2a/ca1dc/img_43.png 680w,
/static/912770a5f06bfd23701c27fb55ae5c2a/02d09/img_43.png 1020w,
/static/912770a5f06bfd23701c27fb55ae5c2a/9d567/img_43.png 1360w,
/static/912770a5f06bfd23701c27fb55ae5c2a/18650/img_43.png 1474w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&apos;gatsby-resp-image-figcaption&apos;&gt;img_10.png&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;서비스에 대한 동의를 진행한다.&lt;/p&gt;
&lt;p&gt;&lt;figure class=&apos;gatsby-resp-image-figure&apos; style=&apos;margin-bottom: 16px;&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; &apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/6bd61950cfd0158510df341a05972b46/c8380/img_11.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 59.411764705882355%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAABrUlEQVR42pVT23KCQAxFcRErKHLdVaQFRS5S623q/3/ZabJTHXnojH04k2QTTrKbg3E8HtE0Ddq2Rdd1CMMQ8/kcQRAgiiL4vo/JZALDMF6DbduwxmOMhIAgO3UcjMna9gQO+ZwfjUYYDAYPDIfDnt8jXEmJVEmoOIJKYo049CEpjuNYI0kSCCI1TVNDiL7fI/xaSXxmK43De4puvcQ+VdgvE7iWoMktWJb1+pU/ZAK5WOCDpiyWChlN5jtvsOkq5qskz+hSiZamqmSMmqaqVYI88JD7HjZ09Y1PC7L/MWEjI024I7tLIpRxiG0coF0pfcaNEtfBkN6LlyVoefwE7Ju/Z73FfJ1OKLYldnWNhmRT7/ca212FTVmirCpUJKvr5YK7xG63G87nMyrKHQ4HLa0HIR9wUU3Jmkg5vtDHTPB9veKTmrA+T9SYwXmuY90yKTdRSmndTqdTGJwsigJ5nmtwIZ9xUZqmyLJM+ywdruN4QUvk3Hq91tbzPK1Xfg6DA9d1CY62s9lM/yk8/rOY7yJ+FvUdvaVwZ0WSuf9q3JVH50Lu+BBwT9jiT2H/AK27Ha4XHSbWAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img_11.png&apos; title=&apos;&apos; src=&apos;/static/6bd61950cfd0158510df341a05972b46/ca1dc/img_11.png&apos; srcset=&apos;/static/6bd61950cfd0158510df341a05972b46/e7570/img_11.png 170w,
/static/6bd61950cfd0158510df341a05972b46/f46e7/img_11.png 340w,
/static/6bd61950cfd0158510df341a05972b46/ca1dc/img_11.png 680w,
/static/6bd61950cfd0158510df341a05972b46/02d09/img_11.png 1020w,
/static/6bd61950cfd0158510df341a05972b46/9d567/img_11.png 1360w,
/static/6bd61950cfd0158510df341a05972b46/c8380/img_11.png 1698w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&apos;gatsby-resp-image-figcaption&apos;&gt;img_11.png&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;여기서 해당 도메인의 소유자인지 검증하기위해 DNS 서비스에 위 값을 등록해야한다.
&lt;strong&gt;(아직 엔터를 누르면 안된다!!!)&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure class=&apos;gatsby-resp-image-figure&apos; style=&apos;margin-bottom: 16px;&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; &apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/76764c8c0f8ca45c3a916832f5878141/8b940/img_12.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 14.705882352941178%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAf0lEQVR42p2OUQrDIBAFc/9LJoSChVabqFUTd52mFi/QheHNx+OxU2tKrRVjDN57cs6s68qyLFhrcc6x7zspJY7jQFU7MUZCCD+/0l8dVWGabeERzz5USkFEeg4fA8Nba53vE3KRTmW2mdtWsO/KZELllZV/r0jjHoVnUrasfABvJ+oaPxkBBQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img_12.png&apos; title=&apos;&apos; src=&apos;/static/76764c8c0f8ca45c3a916832f5878141/ca1dc/img_12.png&apos; srcset=&apos;/static/76764c8c0f8ca45c3a916832f5878141/e7570/img_12.png 170w,
/static/76764c8c0f8ca45c3a916832f5878141/f46e7/img_12.png 340w,
/static/76764c8c0f8ca45c3a916832f5878141/ca1dc/img_12.png 680w,
/static/76764c8c0f8ca45c3a916832f5878141/02d09/img_12.png 1020w,
/static/76764c8c0f8ca45c3a916832f5878141/9d567/img_12.png 1360w,
/static/76764c8c0f8ca45c3a916832f5878141/8b940/img_12.png 1704w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&apos;gatsby-resp-image-figcaption&apos;&gt;img_12.png&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;위처럼 DNS 관리 툴에서 TXT 레코드 정보를 추가해준다.
이후 해당 도메인이 정상적으로 배포되었는지 확인하기 위해 &lt;code class=&quot;language-text&quot;&gt;Admin Toolbox: https://...&lt;/code&gt;에 쓰여있는 링크로 접속한다.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;a href=&quot;https://toolbox.googleapps.com/apps/dig/#TXT/_acme-challenge.image.pium.life&quot;&gt;https://toolbox.googleapps.com/apps/dig/#TXT/_acme-challenge.image.pium.life&lt;/a&gt;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;figure class=&apos;gatsby-resp-image-figure&apos; style=&apos;margin-bottom: 16px;&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; &apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/fd5b5626f302d11338d69ad8c1fa14df/df801/img_13.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 25.294117647058822%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAvElEQVR42qWPQQrCMBBFeyd1od5AFK+l6K7auqxewpO4EdxLF9I0SdMkTb8zhSpuRHDgk/zJ5M1MNEm3mGcJlqcDFscUs2yPKeWGuzVGP2oQr8CccbJBFNoWzns8igJCCIiyhKnrLue8g3XfxXUhBHgSsyJQNE0DrRQUwZSUqI15yTLc2o+zF3tZVbjkd1gCc3RAT4anK3k6gmituzvnJDWo6FMvflPcnGTI57TZ+XaFdvYN5JG50NEK/8YTyLBoAgJ968EAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img_13.png&apos; title=&apos;&apos; src=&apos;/static/fd5b5626f302d11338d69ad8c1fa14df/ca1dc/img_13.png&apos; srcset=&apos;/static/fd5b5626f302d11338d69ad8c1fa14df/e7570/img_13.png 170w,
/static/fd5b5626f302d11338d69ad8c1fa14df/f46e7/img_13.png 340w,
/static/fd5b5626f302d11338d69ad8c1fa14df/ca1dc/img_13.png 680w,
/static/fd5b5626f302d11338d69ad8c1fa14df/02d09/img_13.png 1020w,
/static/fd5b5626f302d11338d69ad8c1fa14df/9d567/img_13.png 1360w,
/static/fd5b5626f302d11338d69ad8c1fa14df/df801/img_13.png 2838w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&apos;gatsby-resp-image-figcaption&apos;&gt;img_13.png&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;도메인이 아직 배포되지 않았다면 &lt;code class=&quot;language-text&quot;&gt;Record not found!&lt;/code&gt;가 뜬다.&lt;/p&gt;
&lt;p&gt;&lt;figure class=&apos;gatsby-resp-image-figure&apos; style=&apos;margin-bottom: 16px;&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; &apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/340b37491ee75e7adf11a0518edff8b6/0e78a/img_14.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 46.470588235294116%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA8ElEQVR42qWRMW/CMBCF82thYaFCFX+oSKgtqILCyIy6dqzEgISQUHDiOAlJHL/ec0vKSBpLn2yffe+efcHD8gXj9RyPqzlG768YLp7Rn03Qa8WTZ/A2ReCcQ5amyJIEuTEoLhd0GYG1FkprnM5nIUQYR1AmkTlGqGNEUoQoKdis5Zx7YsTMx2GPz9PxR5AOy7L0LlMhzzKkkqRFMI4iH/ex39m/hnfljhFsnmOz+8JWRL3grV2H7sML0mUXbF3DuvpPsJYAqarq386Y3wjyD4uigFIKbNK1AKGDVoJMoDOKauk24Wcn0kHCQjy/Bwp+A2uyq+Cp4rf7AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img_14.png&apos; title=&apos;&apos; src=&apos;/static/340b37491ee75e7adf11a0518edff8b6/ca1dc/img_14.png&apos; srcset=&apos;/static/340b37491ee75e7adf11a0518edff8b6/e7570/img_14.png 170w,
/static/340b37491ee75e7adf11a0518edff8b6/f46e7/img_14.png 340w,
/static/340b37491ee75e7adf11a0518edff8b6/ca1dc/img_14.png 680w,
/static/340b37491ee75e7adf11a0518edff8b6/02d09/img_14.png 1020w,
/static/340b37491ee75e7adf11a0518edff8b6/9d567/img_14.png 1360w,
/static/340b37491ee75e7adf11a0518edff8b6/0e78a/img_14.png 2624w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&apos;gatsby-resp-image-figcaption&apos;&gt;img_14.png&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;잠시 기다리면 이렇게 도메인 조회가 된다.&lt;/p&gt;
&lt;p&gt;&lt;figure class=&apos;gatsby-resp-image-figure&apos; style=&apos;margin-bottom: 16px;&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; &apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/0b1c528463f027339e7a3a4aa2cd9cb5/92aea/img_15.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 58.82352941176471%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAABXklEQVR42o2S2bKCQAxEEXBHRXFFLEpFKQX3//+26MmtsUAeLg9dySzp6UnaejwekqapnM9nOZ1OEgSBjEYjmU6nMplMPgik0+mIZVn10O12tcB1XY2DwUDa7bb0+33p9XrCOWdctm1bGo1GBSXCxWIhq9VKFZmISvZns5ksl0vdo7DZbCq54ziaE13XKRNCEkWRmBiGoQJSilqt1ldhLaDC931VAul8PtcvV75SF0UiA4YCxuOxDIfDfxWWHkfhOlxrv0z/TO/oI3tmaKaHtKGYlwhvt5skSaK2AVmWKbDSfr9XK7F+Pp+S57lcr1d5vV5CHWeXy0WdUSJMj0clMBcoAHiUNUT3+11Bzl0i59TTJjyrfuVwt9vJdrtVoPL4eYCJx3GsEfD9w+GgOS3ZbDZf0Gf8ShssJoxk4HmeTpxoTFs0829u1hVjMwAkk6MA6Zj2z7ju18wmFvNfB7wB4TkapgCnEbQAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img_15.png&apos; title=&apos;&apos; src=&apos;/static/0b1c528463f027339e7a3a4aa2cd9cb5/ca1dc/img_15.png&apos; srcset=&apos;/static/0b1c528463f027339e7a3a4aa2cd9cb5/e7570/img_15.png 170w,
/static/0b1c528463f027339e7a3a4aa2cd9cb5/f46e7/img_15.png 340w,
/static/0b1c528463f027339e7a3a4aa2cd9cb5/ca1dc/img_15.png 680w,
/static/0b1c528463f027339e7a3a4aa2cd9cb5/02d09/img_15.png 1020w,
/static/0b1c528463f027339e7a3a4aa2cd9cb5/9d567/img_15.png 1360w,
/static/0b1c528463f027339e7a3a4aa2cd9cb5/92aea/img_15.png 1720w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&apos;gatsby-resp-image-figcaption&apos;&gt;img_15.png&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;배포 확인 후 다시 이 화면으로 넘어와서 엔터를 누르면 된다.&lt;/p&gt;
&lt;p&gt;&lt;figure class=&apos;gatsby-resp-image-figure&apos; style=&apos;margin-bottom: 16px;&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; &apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/0b1c528463f027339e7a3a4aa2cd9cb5/92aea/img_16.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 58.82352941176471%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAABXklEQVR42o2S2bKCQAxEEXBHRXFFLEpFKQX3//+26MmtsUAeLg9dySzp6UnaejwekqapnM9nOZ1OEgSBjEYjmU6nMplMPgik0+mIZVn10O12tcB1XY2DwUDa7bb0+33p9XrCOWdctm1bGo1GBSXCxWIhq9VKFZmISvZns5ksl0vdo7DZbCq54ziaE13XKRNCEkWRmBiGoQJSilqt1ldhLaDC931VAul8PtcvV75SF0UiA4YCxuOxDIfDfxWWHkfhOlxrv0z/TO/oI3tmaKaHtKGYlwhvt5skSaK2AVmWKbDSfr9XK7F+Pp+S57lcr1d5vV5CHWeXy0WdUSJMj0clMBcoAHiUNUT3+11Bzl0i59TTJjyrfuVwt9vJdrtVoPL4eYCJx3GsEfD9w+GgOS3ZbDZf0Gf8ShssJoxk4HmeTpxoTFs0829u1hVjMwAkk6MA6Zj2z7ju18wmFvNfB7wB4TkapgCnEbQAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img_16.png&apos; title=&apos;&apos; src=&apos;/static/0b1c528463f027339e7a3a4aa2cd9cb5/ca1dc/img_16.png&apos; srcset=&apos;/static/0b1c528463f027339e7a3a4aa2cd9cb5/e7570/img_16.png 170w,
/static/0b1c528463f027339e7a3a4aa2cd9cb5/f46e7/img_16.png 340w,
/static/0b1c528463f027339e7a3a4aa2cd9cb5/ca1dc/img_16.png 680w,
/static/0b1c528463f027339e7a3a4aa2cd9cb5/02d09/img_16.png 1020w,
/static/0b1c528463f027339e7a3a4aa2cd9cb5/9d567/img_16.png 1360w,
/static/0b1c528463f027339e7a3a4aa2cd9cb5/92aea/img_16.png 1720w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&apos;gatsby-resp-image-figcaption&apos;&gt;img_16.png&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure class=&apos;gatsby-resp-image-figure&apos; style=&apos;margin-bottom: 16px;&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; &apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/6b3933be9020ab1b0737fb7e1272c669/41afc/img_18.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 30%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA5UlEQVR42pVR2aqDUAzUKi4IivuCC+4LrUr1of7/h01J6D3Qhz7chyEnIZmZ5Eh932NdV5RlCdd1EccxwjDkt6qqkCTpf1iWBXmew7ZtGIYB0zSh6zpDUZSvZlmWf0L0zfPMruq6RlVV6LoORVFwbNsWlmV9D/yAIG6ahh3S6vSmSPk0TUz4+JxDud3ESdI05bMEQSCiEKXBvu8wDAOTUaSBx/2OcRyZ+DgOFiGybdvwul64rgv7vuN4HjjPkzd0HAcSEZAT3/fZged5vCYpU43UsyzjZk3TuPbnMooiRpIknNMfvAFCopKYtz5ewgAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img_18.png&apos; title=&apos;&apos; src=&apos;/static/6b3933be9020ab1b0737fb7e1272c669/ca1dc/img_18.png&apos; srcset=&apos;/static/6b3933be9020ab1b0737fb7e1272c669/e7570/img_18.png 170w,
/static/6b3933be9020ab1b0737fb7e1272c669/f46e7/img_18.png 340w,
/static/6b3933be9020ab1b0737fb7e1272c669/ca1dc/img_18.png 680w,
/static/6b3933be9020ab1b0737fb7e1272c669/02d09/img_18.png 1020w,
/static/6b3933be9020ab1b0737fb7e1272c669/9d567/img_18.png 1360w,
/static/6b3933be9020ab1b0737fb7e1272c669/41afc/img_18.png 1908w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&apos;gatsby-resp-image-figcaption&apos;&gt;img_18.png&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;/etc/letsencrypt/live/image.pium.life&lt;/code&gt; 경로에 SSL 인증서가 발급되었다.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;인증서 발급이 완료되었으므로 DNS 서비스에 등록했던 TXT 레코드는 삭제해도된다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4&gt;AWS에 인증서 넣기&lt;/h4&gt;
&lt;p&gt;이제 이 인증서를 AWS로 가져가보자.&lt;/p&gt;
&lt;p&gt;&lt;figure class=&apos;gatsby-resp-image-figure&apos; style=&apos;margin-bottom: 16px;&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; &apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/cb6075e13d6cd26210b8c4dd084593d8/024a7/img_19.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 30%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsTAAALEwEAmpwYAAABBUlEQVR42n2Q2U6DQBSGeQ7rUhZFEEY6AyXsawki2DSKiTf2/Z/i9zB6Wbz4cpKTOf8yiskTOPsCD7sIdxbHleFic89w/cfGYL87QmMxtOeCyFdRVJZBdWKobgLNK6DS0goPEMUEvzqCpS94DFrYYQd9V/4rJgVNL4MXdzD2PSXIsCVY3CMo38DzUeKlAwRNU9RknMp3F1kE7aAGH87Q81km3bqZFHCiHrdOSga5NFmm5pXQebXK0lCxqV58OMENWxhU6YaO032Hqf+C+/oNMRDjGX79QfWPcOJpFUM0VNmvIageS+iv/IYSprBIUFTvEO0MX/IJv5nhFSfY0YgnOr6EwWv8ABwnwpeT06dWAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img_19.png&apos; title=&apos;&apos; src=&apos;/static/cb6075e13d6cd26210b8c4dd084593d8/ca1dc/img_19.png&apos; srcset=&apos;/static/cb6075e13d6cd26210b8c4dd084593d8/e7570/img_19.png 170w,
/static/cb6075e13d6cd26210b8c4dd084593d8/f46e7/img_19.png 340w,
/static/cb6075e13d6cd26210b8c4dd084593d8/ca1dc/img_19.png 680w,
/static/cb6075e13d6cd26210b8c4dd084593d8/02d09/img_19.png 1020w,
/static/cb6075e13d6cd26210b8c4dd084593d8/9d567/img_19.png 1360w,
/static/cb6075e13d6cd26210b8c4dd084593d8/024a7/img_19.png 1682w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&apos;gatsby-resp-image-figcaption&apos;&gt;img_19.png&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;AWS의 Certificate Manager 서비스를 이용한다.&lt;/p&gt;
&lt;p&gt;&lt;figure class=&apos;gatsby-resp-image-figure&apos; style=&apos;margin-bottom: 16px;&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 542px; &apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/85347280da78da5b039efec32be0af0e/47f85/img_20.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 101.17647058823529%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAACu0lEQVR42p1UWU8TURTuOxFN1AdjjARcAI0gFa11AQGlYAtWy2oMidEnX33134gUTTQKFA0xgm9KWEWgxZaytKXt0A7QdjrtTD/PvQhqg9hyki/n3Jm533z3LFdzTm/A7ZbHqL7TgVPaKpworYC2woSrtRYUX7yJkiv1KCyvQeGFKhSV6nC27DIKis7jDPmikkvILyzl6y1oissr0dZ+HxaLBSdL9DhcoIWp9RGePH2GsutGNFCsrTThWLEOefmnodNfw5GjeSjT6XGc1jk5B5C7/xD25R7k0NQ0tMNsNsPYeBfVFDPU3euAsfkhqoxtuGFs5c9umR/A0NgMQ0Mz6s2tPK41NaGusYU/M5BnsSYSjSIiyUgqKlRVhZxIbCOZTEJRFO6T5KW4jGhM+guRaAxxObH9TgOyjfV1jI6N4cvXYbhc85h3u+FeWMD4xASGh0fg8XphtzsQpZ/vZMJqCJFf7zih0+nC884uvH7zlpN+GhzCwMBH9Nn60dPTh/7+D7BaX2J52cM3sZOkUinumf1wuSEIod+EDsccOruseEebbbb3fPPg0Ge86OomWGHtfoXeXhs/+v+ME8ZlGcFgEF6fDz7fCsbHJ+iPAlfk9wcgiiL3W4rSjandJmSLP7HTR+nf7AZN+oad1tkYJxTFNUxOzWBm1gF/QKB4GgHy6UozJlSoByVJ4klneZLi8YwK8E/CNepDVmnWe0FhFbP2OV6IPSuM01SsBMMQxHVsUOf7AiFSmdgk3ItCyBFgdZ6SuYSURMrCi0iFlqCIXqSURFZKN6scC0P1fIPqd0DdEKAEnFBX7ES6SAlOZK+QDf5aJIZILM4HXKYiMbChj1GxWMHYvGYikhOGwyJGaTocc066GBaoKA5MfZ/G4tIywUOXgw8jY5MZ5VOTyTFYKyWTShY55DfHbiOVeQ5/AnXBilvaDF5uAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img_20.png&apos; title=&apos;&apos; src=&apos;/static/85347280da78da5b039efec32be0af0e/47f85/img_20.png&apos; srcset=&apos;/static/85347280da78da5b039efec32be0af0e/e7570/img_20.png 170w,
/static/85347280da78da5b039efec32be0af0e/f46e7/img_20.png 340w,
/static/85347280da78da5b039efec32be0af0e/47f85/img_20.png 542w&apos; sizes=&apos;(max-width: 542px) 100vw, 542px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&apos;gatsby-resp-image-figcaption&apos;&gt;img_20.png&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;CloudFront의 SSL 인증서 적용 과정에서 미국 동부(버지니아 북부) 리전의 인증서를 요구하기 때문에 리전을 버지니아-북부로 설정해두고 작업을 진행해야한다!&lt;/p&gt;
&lt;p&gt;&lt;figure class=&apos;gatsby-resp-image-figure&apos; style=&apos;margin-bottom: 16px;&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; &apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/6e80a8f8d7f28fec422c396811cdfff4/fcbeb/img_21.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 18.823529411764707%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAk0lEQVR42nVP2Q6DMAzr///mKKMH0Eti9PLSokp9wZIVx4qchH2WBZuQ4OsKtWuqX0ilkHNGSukh6Tg0MU5+Ss9cKQUNjPMVkgKV0tD7QWEaQipY5+C8p+rhQ4CxFta63g/tSB+n6WxerRVs0wbi9MildmOwbXzTc39dP9x3hDG2f8V0iOCGzEQnT4EN84I3jrmBP6HhN4eZv6JPAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img_21.png&apos; title=&apos;&apos; src=&apos;/static/6e80a8f8d7f28fec422c396811cdfff4/ca1dc/img_21.png&apos; srcset=&apos;/static/6e80a8f8d7f28fec422c396811cdfff4/e7570/img_21.png 170w,
/static/6e80a8f8d7f28fec422c396811cdfff4/f46e7/img_21.png 340w,
/static/6e80a8f8d7f28fec422c396811cdfff4/ca1dc/img_21.png 680w,
/static/6e80a8f8d7f28fec422c396811cdfff4/02d09/img_21.png 1020w,
/static/6e80a8f8d7f28fec422c396811cdfff4/fcbeb/img_21.png 1206w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&apos;gatsby-resp-image-figcaption&apos;&gt;img_21.png&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure class=&apos;gatsby-resp-image-figure&apos; style=&apos;margin-bottom: 16px;&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; &apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/1964c196ed3ebab64f66ea01eb37e0b2/42d3e/img_22.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 24.11764705882353%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA8UlEQVR42n1PyUoDURB8vyxxizEyQeJGXBDEj8lfeNSLeBCcw0zm7dtM2d25ig+Kfk1XV1Wr2ckSB0cLzI4XOCTMzxucNdc4bW7/xHy1rxfrB6zunnF5dY/XzQuebh6xXG+g2p1BHIE6jpimCf+9UitG4lWqzjnknJAqkL+2yP0HSAbKWYMUAlJKQooxCkIMCCEKpCeOc16qtQ6WuJ6gjYf9fsOu/UQqI5RxAW1vxLXrelkopYg4V+ssJckixqb819pI0kg971S6zJMpz1RnI95/6GwhanK3IuS93y/7ASF5Sck9g2ccgA2GQcvpkYKw4C+rT2mXs21O0QAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img_22.png&apos; title=&apos;&apos; src=&apos;/static/1964c196ed3ebab64f66ea01eb37e0b2/ca1dc/img_22.png&apos; srcset=&apos;/static/1964c196ed3ebab64f66ea01eb37e0b2/e7570/img_22.png 170w,
/static/1964c196ed3ebab64f66ea01eb37e0b2/f46e7/img_22.png 340w,
/static/1964c196ed3ebab64f66ea01eb37e0b2/ca1dc/img_22.png 680w,
/static/1964c196ed3ebab64f66ea01eb37e0b2/02d09/img_22.png 1020w,
/static/1964c196ed3ebab64f66ea01eb37e0b2/9d567/img_22.png 1360w,
/static/1964c196ed3ebab64f66ea01eb37e0b2/42d3e/img_22.png 2314w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&apos;gatsby-resp-image-figcaption&apos;&gt;img_22.png&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;인증서 가져오기를 수행한다.&lt;/p&gt;
&lt;p&gt;&lt;figure class=&apos;gatsby-resp-image-figure&apos; style=&apos;margin-bottom: 16px;&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; &apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/d967dc2ecf6b61cdee11430814526fef/886f6/img_23.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 56.470588235294116%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABNklEQVR42pWS2W6DMBRE+f+n/kg/pO+VSio1G0toIRhsVgczvdfCqRWBlFo68qLr8YztIM5yHJJvxD9XFKJGUUkkaYr94Yj0ckGcJIjiGKKqUEtpkUptEkRRhNPphDzPoRqFtm1xyTJ8hCHC3Se+9kcSTGxx23WWhmrWUE2D4CoEFTd24p90jmKcz5F13fe9XWOXUiporVfhuqAoS5RLHCfGp5WlwDhq3G4awzhi1Dy+YZomGGNW4ZqAxRgnxsIcy4k4BmKiTfM83zHL3DU+MGCRx7gsWNc1FI233DDsdlXQxzns6D4Y647c9sNge+O5NEv/lOBIm4eBhOge/Yj/dmgj06NUFJljl7IhZ/ruzm/zsw456rQ4MAQXOnjN4b86C+sthyzKDn3qh/kfFXJB3+z9FeLtBb8GUVMdtX9PKQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img_23.png&apos; title=&apos;&apos; src=&apos;/static/d967dc2ecf6b61cdee11430814526fef/ca1dc/img_23.png&apos; srcset=&apos;/static/d967dc2ecf6b61cdee11430814526fef/e7570/img_23.png 170w,
/static/d967dc2ecf6b61cdee11430814526fef/f46e7/img_23.png 340w,
/static/d967dc2ecf6b61cdee11430814526fef/ca1dc/img_23.png 680w,
/static/d967dc2ecf6b61cdee11430814526fef/02d09/img_23.png 1020w,
/static/d967dc2ecf6b61cdee11430814526fef/9d567/img_23.png 1360w,
/static/d967dc2ecf6b61cdee11430814526fef/886f6/img_23.png 2136w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&apos;gatsby-resp-image-figcaption&apos;&gt;img_23.png&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;인증서 세부 정보를 입력하는 칸이 나오는데 각각 해당하는 정보를 적어주면 된다.&lt;/p&gt;
&lt;p&gt;&lt;figure class=&apos;gatsby-resp-image-figure&apos; style=&apos;margin-bottom: 16px;&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; &apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/ab6dad62ee3f049a88bb7912336cb997/26cba/img_24.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 21.764705882352942%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAlUlEQVR42pWQOw6EMBBDg4CIJi2IIoRkgfzIUlHk/gczmukXaQtLlotnz4h93zFNE4ZhQNu26LoOfd9DSsleCPGfUkpY1xXOOYQQ4L0HleSc4T4OSik0TcNwEvlX4HmeIOi2bSilIMYIay0oJ+h93xjHkaW15itegcdx8KplWXiZMQbzPINyKrmuL3sqqbVyOb3nF/ABwWxfv73rWpkAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img_24.png&apos; title=&apos;&apos; src=&apos;/static/ab6dad62ee3f049a88bb7912336cb997/ca1dc/img_24.png&apos; srcset=&apos;/static/ab6dad62ee3f049a88bb7912336cb997/e7570/img_24.png 170w,
/static/ab6dad62ee3f049a88bb7912336cb997/f46e7/img_24.png 340w,
/static/ab6dad62ee3f049a88bb7912336cb997/ca1dc/img_24.png 680w,
/static/ab6dad62ee3f049a88bb7912336cb997/02d09/img_24.png 1020w,
/static/ab6dad62ee3f049a88bb7912336cb997/9d567/img_24.png 1360w,
/static/ab6dad62ee3f049a88bb7912336cb997/26cba/img_24.png 1782w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&apos;gatsby-resp-image-figcaption&apos;&gt;img_24.png&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;sudo cat cert.pem
sudo cat privkey.pem
sudo cat fullchain.pem&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;figure class=&apos;gatsby-resp-image-figure&apos; style=&apos;margin-bottom: 16px;&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; &apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/1a63cc5407f3c14dadbd3a01eddf62ab/f6c2e/img_25.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 36.47058823529412%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsTAAALEwEAmpwYAAAA/UlEQVR42qWSsU7CUBSGb++1pUBcjIQXMCQMjo6MPhKGGF6AwYU3gbAQF8WAXMDBCSRRGgdMpLSFtli06e/NdYCpEjjJl3Nyzvn/4eQQ1/PgeT4+ZyYs24Fl2QjDEPsGWbougiCA8TJCt3WPfvsBT502nntc9j6Myb9M316xnJt/hq6/gr9wcHmeR4oQZBIqTlQmORV1RtdiyaaTSApdtVzaGK4cGxe5MxAxoJTKvCuMMZkrpeK2oYNCPicHuljQFAU6VZA+YkgxGsuxpkrdzfXV9g2/MB5w3NVraDXqEn7bxJA/Ytzn8Qx6GHU7MN+NjeF6/Y1D40d8RhRF+AWaEYpfNb9u4wAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img_25.png&apos; title=&apos;&apos; src=&apos;/static/1a63cc5407f3c14dadbd3a01eddf62ab/ca1dc/img_25.png&apos; srcset=&apos;/static/1a63cc5407f3c14dadbd3a01eddf62ab/e7570/img_25.png 170w,
/static/1a63cc5407f3c14dadbd3a01eddf62ab/f46e7/img_25.png 340w,
/static/1a63cc5407f3c14dadbd3a01eddf62ab/ca1dc/img_25.png 680w,
/static/1a63cc5407f3c14dadbd3a01eddf62ab/02d09/img_25.png 1020w,
/static/1a63cc5407f3c14dadbd3a01eddf62ab/f6c2e/img_25.png 1264w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&apos;gatsby-resp-image-figcaption&apos;&gt;img_25.png&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;-----BEGIN CERTIFICATE-----&lt;/code&gt;부터
&lt;code class=&quot;language-text&quot;&gt;-----END CERTIFICATE-----&lt;/code&gt;까지
다 복사해서 넣어줘야한다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;figure class=&apos;gatsby-resp-image-figure&apos; style=&apos;margin-bottom: 16px;&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; &apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/06b1b828065c307d8f6069a6f5e355fb/f8041/img_26.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 50.588235294117645%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAABEklEQVR42pVS2XKDMBDj//+vGZ6KA4RwOLYBcwdU77ZQkqZJ6xmNhz20WhkvzBSCVCMuDKQuIU2FKI7xHgickgTnNEVVW4f6KWr7eXuZVEikhipLWBdo2hZhFOHt4OPg+wiE4MKyqn4F5S9KQWntCC+GFdT7afRtLRdbd3ddt6HvewzDcBMjrPVeGJ+QnNNtEsE2DRfN84z1LMvCN5EZt804Tlt8zXVumJflOfKiuPGDyMUxBOWIYBzHjbhxw4Q4svL7Q+o9UkNy92St85EaafXqa+3vpsEJkGzRQ8L71yJCUkXrzvPyo6ltOx62t+MlISW0KVn53qNX5ymhcYRk/iMl/yakf7GQkr27ThM/yl9AfR8RlgakSzUGpAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img_26.png&apos; title=&apos;&apos; src=&apos;/static/06b1b828065c307d8f6069a6f5e355fb/ca1dc/img_26.png&apos; srcset=&apos;/static/06b1b828065c307d8f6069a6f5e355fb/e7570/img_26.png 170w,
/static/06b1b828065c307d8f6069a6f5e355fb/f46e7/img_26.png 340w,
/static/06b1b828065c307d8f6069a6f5e355fb/ca1dc/img_26.png 680w,
/static/06b1b828065c307d8f6069a6f5e355fb/02d09/img_26.png 1020w,
/static/06b1b828065c307d8f6069a6f5e355fb/9d567/img_26.png 1360w,
/static/06b1b828065c307d8f6069a6f5e355fb/f8041/img_26.png 2156w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&apos;gatsby-resp-image-figcaption&apos;&gt;img_26.png&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;등록을 누르면 다음과 같이 인증서를 가져올 수 있다.&lt;/p&gt;
&lt;p&gt;&lt;figure class=&apos;gatsby-resp-image-figure&apos; style=&apos;margin-bottom: 16px;&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; &apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/9f0448fe028b9a63b3f022d7e7f468b5/f8041/img_27.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 29.411764705882355%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsTAAALEwEAmpwYAAABAUlEQVR42mVRy27EMAjM/6s/tudee6i0UtN287IxfuA4s+AmeykSGsB4GOzh/jPj83vCuHgsm4NzDsz8z0MI51mA9x7zsmJzm7qH2xbQ/Yawjhim6YFlnnG0hloFre0Qqery8lorcs4gCj3nwHg8pk7sfACtv/C3N9DXO4ZcpDdHVVE0djqRY0IuBYFjR45/mFLSmvWVTppS7rHzBJYG4oxBpGB2rCuTqmuvC3XfO4GhDewqT1Kr9T5TrzERQYqKyAnDoSuOJPiYEo4D53sxzOyyGUtAFEbbWyc2syFmJuJ6CvPB1iFdjRRZCUjJbHrU2M4MQ9SPSbHnV+3CeD6D5YZPKPzQeJ5N32QAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img_27.png&apos; title=&apos;&apos; src=&apos;/static/9f0448fe028b9a63b3f022d7e7f468b5/ca1dc/img_27.png&apos; srcset=&apos;/static/9f0448fe028b9a63b3f022d7e7f468b5/e7570/img_27.png 170w,
/static/9f0448fe028b9a63b3f022d7e7f468b5/f46e7/img_27.png 340w,
/static/9f0448fe028b9a63b3f022d7e7f468b5/ca1dc/img_27.png 680w,
/static/9f0448fe028b9a63b3f022d7e7f468b5/02d09/img_27.png 1020w,
/static/9f0448fe028b9a63b3f022d7e7f468b5/9d567/img_27.png 1360w,
/static/9f0448fe028b9a63b3f022d7e7f468b5/f8041/img_27.png 2156w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&apos;gatsby-resp-image-figcaption&apos;&gt;img_27.png&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;h4&gt;CloudFront 별칭 설정&lt;/h4&gt;
&lt;p&gt;&lt;figure class=&apos;gatsby-resp-image-figure&apos; style=&apos;margin-bottom: 16px;&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; &apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/024effcf9142b8a5e486bbef6b6d9ec1/8cd37/img_28.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 10.588235294117647%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAaUlEQVR42lWMywrDMAwE8/8f2Fug9FAIxJXjOLbr1zQWFBKBhGZ32cntnu3c9M0c3tN7J8aIMQYRwVqr3FojhECtVTMpJfUGO3+wfkQ7ptdWeCyRZS8a/M8oGHzV7r9ecus8JTObzNsVfjNjm/B0ndpNAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img_28.png&apos; title=&apos;&apos; src=&apos;/static/024effcf9142b8a5e486bbef6b6d9ec1/ca1dc/img_28.png&apos; srcset=&apos;/static/024effcf9142b8a5e486bbef6b6d9ec1/e7570/img_28.png 170w,
/static/024effcf9142b8a5e486bbef6b6d9ec1/f46e7/img_28.png 340w,
/static/024effcf9142b8a5e486bbef6b6d9ec1/ca1dc/img_28.png 680w,
/static/024effcf9142b8a5e486bbef6b6d9ec1/02d09/img_28.png 1020w,
/static/024effcf9142b8a5e486bbef6b6d9ec1/9d567/img_28.png 1360w,
/static/024effcf9142b8a5e486bbef6b6d9ec1/8cd37/img_28.png 1714w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&apos;gatsby-resp-image-figcaption&apos;&gt;img_28.png&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;DNS 호스팅 사이트에 가서 CNAME 레코드를 추가해준다.
호스트는 image이고 값은 CloudFront의 배포 주소를 넣어준다.&lt;/p&gt;
&lt;p&gt;&lt;figure class=&apos;gatsby-resp-image-figure&apos; style=&apos;margin-bottom: 16px;&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; &apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/7d5ce5ea66d5ea67062b1100352100bd/8fe6b/img_29.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 55.88235294117647%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABOUlEQVR42o1Si27CMAzM///fEGMT29BogbZp00fSB/SWM8vWsk5g6RTbOTvnJOojOmK72+N994nX7Rvi4wl1XaOqK0FZPQZTliiMgVptd3haP2OzecFqvUYUH5CkGU5JiiTLoPNcyPeQFwZa51BxqqFNCde2sM55VbUn/J7MuLF2jqaBncS1jxvbyKoyryJNU5zPZ/R9L+s4jrhcLuKHPDEMg4B+6wUEnxzy6St25XiUTTUk0QZP2keR30vkZO6XHlRkG+tFZKK08lN0Xf9To0hyrYNzf3Edz8p1CL7zVNd13SzP5nxMlWktUm/HJFgYRpqCiogQs44H8F6VtQ7dpIiNaVxJClcwtaDy1livjH/hw+EoT877YPKeXdW4/xoa/4cKkbukZsk4IrlhmlnD6cjhWzyEBT6VfwG3JFe4lR2dKAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img_29.png&apos; title=&apos;&apos; src=&apos;/static/7d5ce5ea66d5ea67062b1100352100bd/ca1dc/img_29.png&apos; srcset=&apos;/static/7d5ce5ea66d5ea67062b1100352100bd/e7570/img_29.png 170w,
/static/7d5ce5ea66d5ea67062b1100352100bd/f46e7/img_29.png 340w,
/static/7d5ce5ea66d5ea67062b1100352100bd/ca1dc/img_29.png 680w,
/static/7d5ce5ea66d5ea67062b1100352100bd/02d09/img_29.png 1020w,
/static/7d5ce5ea66d5ea67062b1100352100bd/9d567/img_29.png 1360w,
/static/7d5ce5ea66d5ea67062b1100352100bd/8fe6b/img_29.png 2270w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&apos;gatsby-resp-image-figcaption&apos;&gt;img_29.png&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;CloudFront 탭으로 와서 편집탭으로 들어간다.&lt;/p&gt;
&lt;p&gt;&lt;figure class=&apos;gatsby-resp-image-figure&apos; style=&apos;margin-bottom: 16px;&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; &apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/88cc8c6c32a2e0aa1f23ef4f995ce5a2/bbbf7/img_30.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 87.05882352941177%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAAAsTAAALEwEAmpwYAAACB0lEQVR42qVUCZKbMBDU/3+42Uqwwdwg7lvQmRbYi12b3aSiqraOklsz3TOooijguh68m49fjoMgDGV9Q5ZlWJYF4zgdGC2MMfhqqKZtEUaRIEaW56ibFlXdoGk7tF1vwXUt9+qmsaRd32OWxz4l7IcBnndDHCf28n1sFtvzfttg1hW1PDjP8+eE4zTZ6Kq6xiRrwqY3zRiXFaP80Z4JmO624euUO0kpzzWKorS6ZVmOQhfIywZpZxBlWqKPkaYp+n7Ad0ORiIYE4YeOvh88IqIxxqwyG0wSrTXoyOS+PxulGjEhFGcZRRCEgsDOkRgVJ8njIV/OirJEd5hEY8qqFjRyXj1IVVol+OGFcGONn36Kdy/GNcrw5qXQRYVSSHKtoUWG6TBiO4Sc58USTaL5KmbtpiwjmnFBNxl0s9mNEHBPR7eTC/wTQZLzmpLwLktB8SCx6QZ76pKq67pwnAtuoq1zdXERuFJaBM+u0ghsAM4sOa21LTtGrMgcJ6kloD674LOdKfiTEbIejo65l9hr5yiGHYnwkUS5u2oepCze83qRCOg69/dHh+G5HdW8brhE2tZZJGEzJbrJi6w7ou06sKN4NhytR7TiNlt3ObWhEj7EeWk1vIpW/FicW+5fh+JPLW1HUUnKaF7Hn+hZAdtLLyrudVHaYqa7FPp/ho2Q3ULrv/vW/Q3hb3WAKWqqlS74AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img_30.png&apos; title=&apos;&apos; src=&apos;/static/88cc8c6c32a2e0aa1f23ef4f995ce5a2/ca1dc/img_30.png&apos; srcset=&apos;/static/88cc8c6c32a2e0aa1f23ef4f995ce5a2/e7570/img_30.png 170w,
/static/88cc8c6c32a2e0aa1f23ef4f995ce5a2/f46e7/img_30.png 340w,
/static/88cc8c6c32a2e0aa1f23ef4f995ce5a2/ca1dc/img_30.png 680w,
/static/88cc8c6c32a2e0aa1f23ef4f995ce5a2/02d09/img_30.png 1020w,
/static/88cc8c6c32a2e0aa1f23ef4f995ce5a2/bbbf7/img_30.png 1280w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&apos;gatsby-resp-image-figcaption&apos;&gt;img_30.png&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;대체 도메인을 작성하고 추가한 SSL 인증서를 선택한 뒤 저장한다.&lt;/p&gt;
&lt;p&gt;&lt;figure class=&apos;gatsby-resp-image-figure&apos; style=&apos;margin-bottom: 16px;&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; &apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/8b932cdaf2589d49d9a8e8049bc3e4a5/986a5/img_31.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 82.3529411764706%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAAAsTAAALEwEAmpwYAAADcUlEQVR42q2Ra0xTZxjHcYONxAIJFqgYa6HiLo2MrqVeBkxNtsR9QML2oWZZtmRRdNnI+LJlGu9+UeOymKkf9mUzBm9RCUicWC7n0pZeVigtPW0RHHLp6YVCwTHIeZO/72mUaCSZH/Yk/7x5n/P8f88/78nIoKUrWX/OoC8be6tio7+6eodQVb1dqKmRz22CwWgS3tWVC6WlZYKmREtVmj7VGlmlglpd4l+n0Y5pNNrzGU/rDeP7po6amg+xpWob0RtMMFZuxgdV9L61Gu9VGEGBWF/2Nso2vAPDpu2oMGzB1koT6GJ89PFOUl9bT+cMnZS1Qga+qVKp7hWpiqFWr1tsvtxMbFYb4ViW8BxHOIYlPUxPWgzDEKutl3AcT/5yu8jtm7eIVqtdVK9Vo6hIZaGs19IJc3Jy7isUK5GvzCdd1m7MpWaRFBOIiiIS0Tjm4jN4HJ/FLD1jtBeLiFiYnQfP88hflU9WUi9ldC0B8/LyKFCB1YUq0thyAD8NnML1QCuSkQSGx0bQHragOXALliEG4kQE/oeDOCv8hh9aj0FFPRSG3NzcF4HyljVFxaTZch1fe35EHbcXV4UWNDqPYGf3l/jUvh+1tj046vkZh9xnsLfvAC5ZrqC4cDVR5CheBspblAVK4uDtGI0+wuXATZit32Kf6yD6/hXgHffjovMPmO2NaHQcQTQhwsH3pj3LJpSbBQWFhOEYLCbncTfUic+s36DjbwZeex/6+/vhZB24NtGOeqYB/kjgVYAFaeB88jEuDlzC573fI5QYhtvlxsETh3Dh/AV454P4pPsr8OMOuK1OrPovIMux+GdqDi3Bu9jF7kHnJA+5buw/jTtNv+J3sQX1PQ3wiQKcr5KQ4zhMJ6bwYPQBvnMexhf2JrSOW+i7DuNG8DbqbA046TmH1NQ0OLpc9iwH7FgCsixisRjEsUk4Rtxoch1DHU1aS/96HdeA455fEHgYpEuTYNkXgJ0vJSykH+02G1IzM4hEJjEdm8KkOAHrqAN/jnTB9ciDOF0WF6NIpWYgzy6XMIte2p4mXLjT1iaFQyHJ5x2QBnxeadDnl4YGQ2mF/UHJ7/NJXm+/NBQOS/KsUqlcyKVeGqr9GfD1zMzMyqysrN3Z2dlmnU5n1uv1SyrXl5t1z+lZ32g0pmepT9ZuyjDJrIz/u54A4DdlQqhzQkQAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img_31.png&apos; title=&apos;&apos; src=&apos;/static/8b932cdaf2589d49d9a8e8049bc3e4a5/ca1dc/img_31.png&apos; srcset=&apos;/static/8b932cdaf2589d49d9a8e8049bc3e4a5/e7570/img_31.png 170w,
/static/8b932cdaf2589d49d9a8e8049bc3e4a5/f46e7/img_31.png 340w,
/static/8b932cdaf2589d49d9a8e8049bc3e4a5/ca1dc/img_31.png 680w,
/static/8b932cdaf2589d49d9a8e8049bc3e4a5/02d09/img_31.png 1020w,
/static/8b932cdaf2589d49d9a8e8049bc3e4a5/9d567/img_31.png 1360w,
/static/8b932cdaf2589d49d9a8e8049bc3e4a5/986a5/img_31.png 1666w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&apos;gatsby-resp-image-figcaption&apos;&gt;img_31.png&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;이제 image.pium.life로 cloudfront로 접속할 수 있게 되었다.&lt;/p&gt;
&lt;h2&gt;후기&lt;/h2&gt;
&lt;p&gt;단순한 내용도 많았지만 중간에 인증서 발급 등과 같은 세세한 부분에서 헤맬 수 있다고 생각하여 최대한 자세하게 기록했다.&lt;/p&gt;
&lt;h2&gt;Reference&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://medium.com/dream-youngs/lets-encrypt-dns-%EB%A1%9C-%EB%93%B1%EB%A1%9D%ED%95%98%EA%B8%B0-fdc3efda36af&quot;&gt;https://medium.com/dream-youngs/lets-encrypt-dns-%EB%A1%9C-%EB%93%B1%EB%A1%9D%ED%95%98%EA%B8%B0-fdc3efda36af&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://techblog.woowahan.com/6217/&quot;&gt;https://techblog.woowahan.com/6217/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[외부 API 를 의존하는 OAuth 로그인 테스트하기]]></title><description><![CDATA[이 글은 우테코 피움팀 크루 '조이'가 작성했습니다.   시작하기 전에 피움 프로젝트에서는 OAuth 2.0을 이용해 로그인을 구현하였습니다. 즉, 로그인 과정이 외부 API…]]></description><link>https://pium-official.github.io/OAuth-test-backend/</link><guid isPermaLink="false">https://pium-official.github.io/OAuth-test-backend/</guid><pubDate>Tue, 29 Aug 2023 00:00:00 GMT</pubDate><content:encoded>&lt;blockquote&gt;
&lt;p&gt;이 글은 우테코 피움팀 크루 &apos;&lt;a href=&quot;https://github.com/yeonkkk&quot;&gt;조이&lt;/a&gt;&apos;가 작성했습니다.  &lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;시작하기 전에&lt;/h2&gt;
&lt;hr&gt;
&lt;p&gt;피움 프로젝트에서는 OAuth 2.0을 이용해 로그인을 구현하였습니다.&lt;br&gt;
즉, 로그인 과정이 외부 API에 의존적이라고 볼 수 있는 것이죠.&lt;/p&gt;
&lt;p&gt;서비스를 제공할 때 문제가 되는 부분은 아니지만, 로그인에 대한 테스트 코드를 작성할 때는 문제가 될 수 있습니다.&lt;/p&gt;
&lt;p&gt;그렇다면 어떻게 외부 API에 의존하지 않고 테스트 코드를 작성할 수 있을까요?
피움 프로젝트를 통해서 그 방법을 살펴보겠습니다.&lt;/p&gt;
&lt;p&gt;글을 읽기 전에 몇 가지 사항들을 체크해 봅시다.&lt;/p&gt;
&lt;p&gt;&lt;br&gt;&lt;br&gt;&lt;/p&gt;
&lt;h3&gt;1.  테스트&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;이 글은 테스트 방법에 대해서 다루지만, 특정 테스트 종류들에 대해서 설명하지 않습니다.&lt;br&gt;
특정 테스트에 대한 지식이 필요하시거나 궁금하시다면 아래 자료들을 참고해주시면 감사하겠습니다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://tecoble.techcourse.co.kr/post/2021-05-25-unit-test-vs-integration-test-vs-acceptance-test/&quot;&gt;단위 테스트 vs 통합 테스트 vs 인수 테스트&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://tecoble.techcourse.co.kr/post/2021-05-18-slice-test/&quot;&gt;Spring Boot 슬라이스 테스트&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br&gt;&lt;br&gt;&lt;/p&gt;
&lt;h3&gt;2. 개발 환경&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;이 글은 아래와 같은 환경에서 진행한 내용을 다룹니다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;spring boot 3.1.1&lt;/li&gt;
&lt;li&gt;java 17&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;/p&gt;
&lt;h2&gt;테스트할 코드 파악하기&lt;/h2&gt;
&lt;hr&gt;
&lt;blockquote&gt;
&lt;p&gt;이 글은 OAuth 2.0을 이용한 로그인 구현 방법이 아닌 테스트 방법에 대해서만 설명합니다.&lt;br&gt;
그렇기 때문에 테스트 코드와 밀접한 관련이 있는 코드만 가볍게 확인하고 넘어가겠습니다.&lt;br&gt;
만약 자세한 구현 과정에 대해 알고 싶다면 아래 자료를 참고해주세요!&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://blog.pium.life/OAuth2.0-backend/&quot;&gt;피움블로그 - OAuth 2.0 로그인 구현하기 (카카오)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/woowacourse-teams/2023-pium&quot;&gt;피움 깃허브 레포지토리&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure class=&apos;gatsby-resp-image-figure&apos; style=&apos;margin-bottom: 16px;&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; &apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/393311a0d6c5e308c63341034af5fff8/36cec/img.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 50.588235294117645%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAABEUlEQVR42o2T3U7DMAyF9+y8BA/AO3DNNdLuQGIt/aUSapOhpRtNtiQ+OMkmGKCtttxEbv3pOHEXB7Ko9YDOSFjv8NM8EYKDwwcnwjVbhMdtc4+bpzto2odaEBd68tjZHV5eV1gVGYq2wOSnecBl84yH7DEmkqJkk9OQo4BQAnIrob2eByTnOf6241KjUW1a3TxgUnZuQakhg349oJc9Np+Kj8TMB+If4MQtNu8tsjrHm+jmn+El6KnluOf1/AN/7I2O+yvAyWoMHyKGVGsYb2JtGh/CwSgoJTHyu70eOWcvA5UZkRc5yqpE1VVxjL6BHls1oK5LtG2NcSM4Zy4DHd/qyS27+33L/FMEVTHCDIPwBdIoEPZTfKVGAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;피움-로그인-테스트-이미지.png&apos; title=&apos;&apos; src=&apos;/static/393311a0d6c5e308c63341034af5fff8/ca1dc/img.png&apos; srcset=&apos;/static/393311a0d6c5e308c63341034af5fff8/e7570/img.png 170w,
/static/393311a0d6c5e308c63341034af5fff8/f46e7/img.png 340w,
/static/393311a0d6c5e308c63341034af5fff8/ca1dc/img.png 680w,
/static/393311a0d6c5e308c63341034af5fff8/02d09/img.png 1020w,
/static/393311a0d6c5e308c63341034af5fff8/9d567/img.png 1360w,
/static/393311a0d6c5e308c63341034af5fff8/36cec/img.png 1722w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&apos;gatsby-resp-image-figcaption&apos;&gt;피움-로그인-테스트-이미지.png&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;그림을 통해 코드의 흐름을 먼저 생각해보겠습니다.&lt;/p&gt;
&lt;p&gt;로그인 요청이 들어오면 &lt;code class=&quot;language-text&quot;&gt;AuthController&lt;/code&gt;가 요청을 확인한 후 &lt;code class=&quot;language-text&quot;&gt;AuthService&lt;/code&gt;를 호출합니다.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;AuthService&lt;/code&gt;에서는 &lt;code class=&quot;language-text&quot;&gt;OAuthProvider&lt;/code&gt;를 호출하여 &lt;code class=&quot;language-text&quot;&gt;Kakao server&lt;/code&gt;로 필요한 정보를 요청합니다.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;OAuthProvider&lt;/code&gt;는 &lt;code class=&quot;language-text&quot;&gt;Kakao server&lt;/code&gt;에 액세스 토큰 발급을 요청하고 사용자 정보를 요청합니다.&lt;/p&gt;
&lt;p&gt;흐름을 파악했다면 코드를 간단히 확인한 후 테스트 방법에 대해 알아봅시다!&lt;br&gt;
&lt;br&gt;&lt;br&gt;&lt;/p&gt;
&lt;h3&gt;AuthController&lt;/h3&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token annotation punctuation&quot;&gt;@Validated&lt;/span&gt;
&lt;span class=&quot;token annotation punctuation&quot;&gt;@RestController&lt;/span&gt;
&lt;span class=&quot;token annotation punctuation&quot;&gt;@RequiredArgsConstructor&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;AuthController&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

	&lt;span class=&quot;token comment&quot;&gt;// ...&lt;/span&gt;
    
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;AuthService&lt;/span&gt; authService&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token annotation punctuation&quot;&gt;@PostMapping&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;/login&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ResponseEntity&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Void&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;login&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
            &lt;span class=&quot;token annotation punctuation&quot;&gt;@RequestParam&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;name &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;code&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token annotation punctuation&quot;&gt;@NotBlank&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; code&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;token class-name&quot;&gt;HttpServletRequest&lt;/span&gt; request&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token class-name&quot;&gt;Member&lt;/span&gt; loginMember &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; authService&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;login&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;code&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

		&lt;span class=&quot;token comment&quot;&gt;// ...&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
	&lt;span class=&quot;token comment&quot;&gt;// ...&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;br&gt;&lt;br&gt;&lt;/p&gt;
&lt;h3&gt;AuthService&lt;/h3&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token annotation punctuation&quot;&gt;@Service&lt;/span&gt;
&lt;span class=&quot;token annotation punctuation&quot;&gt;@Transactional&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;readOnly &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token annotation punctuation&quot;&gt;@RequiredArgsConstructor&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;AuthService&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;MemberRepository&lt;/span&gt; memberRepository&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;OAuthProvider&lt;/span&gt; provider&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token annotation punctuation&quot;&gt;@Transactional&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Member&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;login&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; authorizationCode&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token class-name&quot;&gt;KaKaoAccessTokenResponse&lt;/span&gt; accessTokenResponse &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; provider&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getAccessToken&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;authorizationCode&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; accessToken &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; accessTokenResponse&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getAccessToken&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

        &lt;span class=&quot;token class-name&quot;&gt;KakaoMemberResponse&lt;/span&gt; kakaoMemberResponse &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; provider&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getMemberInfo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;accessToken&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token class-name&quot;&gt;Long&lt;/span&gt; kakaoId &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; kakaoMemberResponse&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getId&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
		
        &lt;span class=&quot;token comment&quot;&gt;// ...&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;br&gt;&lt;br&gt;&lt;/p&gt;
&lt;h3&gt;OAuthProvider&lt;/h3&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token annotation punctuation&quot;&gt;@Component&lt;/span&gt;
&lt;span class=&quot;token annotation punctuation&quot;&gt;@RequiredArgsConstructor&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;OAuthProvider&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;AUTHORIZATION_HEADER&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Authorization&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;GRANT_TYPE&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;authorization_code&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;TOKEN_TYPE&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Bearer &quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token annotation punctuation&quot;&gt;@Value&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;${auth.kakao.token-request-uri}&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; tokenRequestUri&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token annotation punctuation&quot;&gt;@Value&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;${auth.kakao.member-info-request-uri}&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; memberInfoRequestUri&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token annotation punctuation&quot;&gt;@Value&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;${auth.kakao.client-id}&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; clientId&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token annotation punctuation&quot;&gt;@Value&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;${auth.kakao.admin-id}&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; adminId&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token annotation punctuation&quot;&gt;@Value&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;${auth.kakao.redirect-uri}&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; redirectUri&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token annotation punctuation&quot;&gt;@Value&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;${auth.kakao.unlink-uri}&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; unLinkUri&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;RestTemplate&lt;/span&gt; restTemplate&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;KakaoMemberResponse&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getMemberInfo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; accessToken&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token class-name&quot;&gt;HttpHeaders&lt;/span&gt; httpHeaders &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;HttpHeaders&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
            httpHeaders&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;AUTHORIZATION_HEADER&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;TOKEN_TYPE&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; accessToken&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
            httpHeaders&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setContentType&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;MediaType&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;APPLICATION_FORM_URLENCODED&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

            &lt;span class=&quot;token class-name&quot;&gt;HttpEntity&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Object&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; request &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;HttpEntity&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;httpHeaders&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

            &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; restTemplate&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;postForEntity&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;memberInfoRequestUri&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; request&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;KakaoMemberResponse&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                    &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getBody&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;catch&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;HttpClientErrorException&lt;/span&gt; e&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;KaKaoMemberInfoRequestException&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;e&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getMessage&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;catch&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;HttpServerErrorException&lt;/span&gt; e&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;KakaoServerException&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;e&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getMessage&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;KaKaoAccessTokenResponse&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getAccessToken&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; authorizationCode&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token class-name&quot;&gt;HttpHeaders&lt;/span&gt; httpHeaders &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;HttpHeaders&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
            httpHeaders&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setContentType&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;MediaType&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;APPLICATION_FORM_URLENCODED&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

            &lt;span class=&quot;token class-name&quot;&gt;MultiValueMap&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; body &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;LinkedMultiValueMap&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
            body&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;add&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;grant_type&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;GRANT_TYPE&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
            body&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;add&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;client_id&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; clientId&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
            body&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;add&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;redirect_uri&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; redirectUri&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
            body&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;add&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;code&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; authorizationCode&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

            &lt;span class=&quot;token class-name&quot;&gt;HttpEntity&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;MultiValueMap&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; request &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;HttpEntity&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;body&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; httpHeaders&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

            &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; restTemplate&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;postForEntity&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
                    tokenRequestUri&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; request&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;KaKaoAccessTokenResponse&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getBody&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;catch&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;HttpClientErrorException&lt;/span&gt; e&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;KakaoTokenRequestException&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;e&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getMessage&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;catch&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;HttpServerErrorException&lt;/span&gt; e&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;KakaoServerException&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;e&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getMessage&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
	&lt;span class=&quot;token comment&quot;&gt;// ...&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;/p&gt;
&lt;h2&gt;Mockito, MockMvc 이용하기&lt;/h2&gt;
&lt;hr&gt;
&lt;blockquote&gt;
&lt;p&gt;먼저 &lt;code class=&quot;language-text&quot;&gt;Mockito&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;MockMvc&lt;/code&gt; 등을 통한 mocking을 생각해볼 수 있습니다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;AuthController&lt;/code&gt;에 대한 슬라이스 테스트에 적용한 코드를 통해 그 방법을 알아보겠습니다.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;AuthService&lt;/code&gt;를 &lt;code class=&quot;language-text&quot;&gt;MockBean&lt;/code&gt;으로 주입한 후 카카오 서버에 요청을 하는 로직이 담긴 service를 mocking 하고, 예상한 대로 작업이 수행되었는지 테스트합니다.&lt;/p&gt;
&lt;p&gt;service 레이어에서도 &lt;code class=&quot;language-text&quot;&gt;OAuthProvider&lt;/code&gt;를 동일한 방법으로 mocking 하여 테스트할 수 있습니다.&lt;/p&gt;
&lt;h3&gt;AuthControllerTest&lt;/h3&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token annotation punctuation&quot;&gt;@WebMvcTest&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;controllers &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;AuthController&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;AuthControllerTest&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;UITest&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

    &lt;span class=&quot;token annotation punctuation&quot;&gt;@Autowired&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;MockMvc&lt;/span&gt; mockMvc&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token annotation punctuation&quot;&gt;@MockBean&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;AuthService&lt;/span&gt; authService&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token annotation punctuation&quot;&gt;@Nested&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; 로그인_ &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

        &lt;span class=&quot;token annotation punctuation&quot;&gt;@Test&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; 정상_요청_시_200_반환&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;throws&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Exception&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

           &lt;span class=&quot;token function&quot;&gt;given&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;authService&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;login&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;anyString&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;willReturn&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Member&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;builder&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                    &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;kakaoId&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;12345L&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                    &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;build&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; 

            mockMvc&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;perform&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;post&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;/login&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                            &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;queryParam&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;code&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;authorization code&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                            &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;contentType&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;MediaType&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;APPLICATION_JSON_VALUE&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                    &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;andExpect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;status&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;isOk&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                    &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;andDo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

		&lt;span class=&quot;token comment&quot;&gt;// ...&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// ...&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;br&gt;&lt;br&gt;&lt;/p&gt;
&lt;h3&gt;한계점&lt;/h3&gt;
&lt;p&gt;이 방법은 특정 레이어에 대한 테스트를 수행하기에 적합하고 효율적일 수 있습니다.
하지만 실제 운영 환경과 같은 조건에서 사용자 시나리오를 테스트해야하는 인수테스트를 진행하는 경우 적합하지 않을 수 있습니다.&lt;/p&gt;
&lt;p&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;/p&gt;
&lt;h2&gt;MockRestServiceServer 이용하기&lt;/h2&gt;
&lt;hr&gt;
&lt;blockquote&gt;
&lt;p&gt;두번째 방법으로는 Http 통신을 가능하게 하는 &lt;code class=&quot;language-text&quot;&gt;RestTemplate&lt;/code&gt;를 mocking 하는 방법입니다.&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;RestTemplate&lt;/code&gt;을 mocking하기 위해 &lt;code class=&quot;language-text&quot;&gt;MockRestServiceServer&lt;/code&gt;를 이용할 수 있습니다.&lt;br&gt;
&lt;a href=&quot;https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/web/client/MockRestServiceServer.html&quot;&gt;MockRestServiceServer&lt;/a&gt;는 &lt;code class=&quot;language-text&quot;&gt;RestTemplate&lt;/code&gt;를 테스트 하기 위한 Spring에서 제공하는 테스트 라이브러리입니다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3&gt;OAuthProviderTest&lt;/h3&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;OAuthProvider&lt;/code&gt; 테스트를 통해 그 방법을 알아보겠습니다.&lt;br&gt;
전체 코드를 확인 후 세부적인 내용을 확인해보겠습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token annotation punctuation&quot;&gt;@SpringBootTest&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;OAuthProviderTest&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

    &lt;span class=&quot;token annotation punctuation&quot;&gt;@Value&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;${auth.kakao.token-request-uri}&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;TOKEN_REQUEST_URI&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token annotation punctuation&quot;&gt;@Value&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;${auth.kakao.member-info-request-uri}&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;MEMBER_INFO_REQUEST_URI&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token annotation punctuation&quot;&gt;@Autowired&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;OAuthProvider&lt;/span&gt; supporter&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token annotation punctuation&quot;&gt;@Autowired&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;RestTemplate&lt;/span&gt; restTemplate&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;MockRestServiceServer&lt;/span&gt; mockServer&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token annotation punctuation&quot;&gt;@BeforeEach&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;setUp&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        mockServer &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;MockRestServiceServer&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;createServer&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;restTemplate&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;token annotation punctuation&quot;&gt;@Test&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; 사용자_정보_조회&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; accessToken &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;access token&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token class-name&quot;&gt;Long&lt;/span&gt; kakaoId &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;12345L&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

        &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; response &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;format&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;{\&quot;id\&quot;:\&quot;%d\&quot;}&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; kakaoId&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

        mockServer&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;requestTo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;MEMBER_INFO_REQUEST_URI&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;andExpect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;content&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;contentType&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;application/x-www-form-urlencoded&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;andExpect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;method&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;HttpMethod&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;POST&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;andExpect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;header&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;AUTHORIZATION_HEADER&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;TOKEN_TYPE&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; accessToken&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;andRespond&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;withSuccess&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;response&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;MediaType&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;APPLICATION_JSON&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

        &lt;span class=&quot;token class-name&quot;&gt;KaKaoMemberInfoResponse&lt;/span&gt; memberInfoResponse &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; supporter&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getMemberInfo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;accessToken&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

        &lt;span class=&quot;token function&quot;&gt;assertThat&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;memberInfoResponse&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getId&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;isEqualTo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;kakaoId&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;token annotation punctuation&quot;&gt;@Test&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; 액세스_토큰_조회&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; authorizationCode &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;authorization code&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; accessToken &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;access token&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; response &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;format&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;{\&quot;access_token\&quot;:\&quot;%s\&quot;}&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; accessToken&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

        mockServer&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;requestTo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;TOKEN_REQUEST_URI&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;andExpect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;content&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;contentType&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;application/x-www-form-urlencoded;charset=utf-8&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;andExpect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;method&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;HttpMethod&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;POST&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;andRespond&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;withSuccess&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;response&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;MediaType&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;APPLICATION_JSON&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

        &lt;span class=&quot;token class-name&quot;&gt;KaKaoAccessTokenResponse&lt;/span&gt; tokenResponse &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; supporter&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getAccessToken&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;authorizationCode&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

        &lt;span class=&quot;token function&quot;&gt;assertThat&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;tokenResponse&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getAccessToken&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;isEqualTo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;accessToken&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;br&gt;&lt;br&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;동일한 URL에 대한 응답 값이 다를 경우를 고려해 서버를 새로 생성해주도록 합니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token annotation punctuation&quot;&gt;@SpringBootTest&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;OAuthProviderTest&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// ... &lt;/span&gt;
&lt;span class=&quot;token annotation punctuation&quot;&gt;@BeforeEach&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;setUp&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    mockServer &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;MockRestServiceServer&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;createServer&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;restTemplate&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// ... &lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br&gt;&lt;br&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;요청 조건과 응답 값을 설정해줍니다.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;requestTo(String URI)&lt;/code&gt; : 요청할 URI를 설정합니다.&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;method(HttpMethod method)&lt;/code&gt;: 요청할 메서드를 설정합니다. 기본 값은 &lt;code class=&quot;language-text&quot;&gt;GET&lt;/code&gt; 입니다.&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;header()&lt;/code&gt;: 요청 시 보내야하는 헤더를 설정합니다. key-value 순서로 작성합니다.&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;andRespond()&lt;/code&gt;: 돌아와야하는 응답 값을 설정합니다. 응답은 아래와 같이 String으로 작성합니다.&lt;/li&gt;
&lt;li&gt;이외에도 status code, contentType 등도 설정할 수 있습니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token annotation punctuation&quot;&gt;@SpringBootTest&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;OAuthProviderTest&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// ... &lt;/span&gt;
    &lt;span class=&quot;token annotation punctuation&quot;&gt;@Test&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; 사용자_정보_조회&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;// ...&lt;/span&gt;
        
        &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; response &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;format&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;{\&quot;id\&quot;:\&quot;%d\&quot;}&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; kakaoId&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

        mockServer&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;requestTo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;MEMBER_INFO_REQUEST_URI&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;andExpect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;content&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;contentType&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;application/x-www-form-urlencoded&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;andExpect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;method&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;HttpMethod&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;POST&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;andExpect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;header&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;AUTHORIZATION_HEADER&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;TOKEN_TYPE&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; accessToken&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;andRespond&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;withSuccess&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;response&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;MediaType&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;APPLICATION_JSON&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;// ...&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// ... &lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;br&gt;&lt;br&gt;&lt;/p&gt;
&lt;p&gt;이렇게 직접 &lt;code class=&quot;language-text&quot;&gt;MockRestServiceServer&lt;/code&gt;를 생성해주지 않고 &lt;code class=&quot;language-text&quot;&gt;@RestClientTest&lt;/code&gt;를 사용하는 방법도 있습니다.&lt;/p&gt;
&lt;p&gt;자세한 내용은 &lt;a href=&quot;https://jojoldu.tistory.com/341&quot;&gt;기억보단 기록을(이동욱님) - Spring Boot에서 외부 API 테스트하기&lt;/a&gt; 를 참고하시면 좋을 것 같습니다.&lt;/p&gt;
&lt;p&gt;&lt;br&gt;&lt;br&gt;&lt;/p&gt;
&lt;h3&gt;한계점&lt;/h3&gt;
&lt;p&gt;이 방법은 mock server를 이용하기 때문에 앞선 방법과 다르게 인수테스트에서도 사용이 가능합니다.&lt;br&gt;
하지만 테스트 시 &lt;code class=&quot;language-text&quot;&gt;RestTemplate&lt;/code&gt;과 &lt;code class=&quot;language-text&quot;&gt;MockRestServiceServer&lt;/code&gt;를 매번 생성해주어야 하고, 적용되는 테스트들에 다수의 중복 코드가 발생할 수 있습니다.&lt;br&gt;
뿐만 아니라 응답 값을 문자열로 작성해주어야 하기 때문에 가독성이 떨어집니다.&lt;/p&gt;
&lt;p&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;/p&gt;
&lt;h2&gt;Kakao Server Mocking하기&lt;/h2&gt;
&lt;hr&gt;
&lt;blockquote&gt;
&lt;p&gt;마지막 방법으로 가짜 카카오 서버를 만들어서 mocking하는 방법입니다.&lt;br&gt;
즉, 카카오 서버 대신 요청을 수행해줄 controller를 생성하는 것입니다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3&gt;AuthApiTest&lt;/h3&gt;
&lt;p&gt;아래와 같이 로그인 요청을 테스트하는 코드를 작성합니다.&lt;br&gt;
이 때, &lt;code class=&quot;language-text&quot;&gt;@SpringBootTest(webEnvironment = WebEnvironment.DEFINED_PORT)&lt;/code&gt; 를 사용하여 원하는 포트에서 테스트가 진행되도록 설정해주어야 합니다.&lt;/p&gt;
&lt;p&gt;그 이유는 카카오 서버를 대신해 요청을 수행해줄 controller로 우리가 요청을 보낼 때 해당 포트를 기재해주어야 하기 때문입니다.&lt;/p&gt;
&lt;p&gt;(아래 &lt;code class=&quot;language-text&quot;&gt;application.properties&lt;/code&gt;의 &lt;code class=&quot;language-text&quot;&gt;auth.kakao.token-request-uri&lt;/code&gt;와 &lt;code class=&quot;language-text&quot;&gt;auth.kakao.member-info-request-uri&lt;/code&gt; 참고)&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token annotation punctuation&quot;&gt;@SpringBootTest&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;webEnvironment &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;WebEnvironment&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;DEFINED_PORT&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;AuthApiTest&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

    &lt;span class=&quot;token annotation punctuation&quot;&gt;@Test&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; 로그인_정상_요청_시_200_반환&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token class-name&quot;&gt;ExtractableResponse&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Response&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; response &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;RestAssured&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;given&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;all&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;queryParam&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;code&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;authorizationCode&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;when&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;post&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;/login&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;all&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;statusCode&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;HttpStatus&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;OK&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;extract&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

        &lt;span class=&quot;token comment&quot;&gt;// ...&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    
    &lt;span class=&quot;token comment&quot;&gt;// ...&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;br&gt;&lt;br&gt;&lt;/p&gt;
&lt;h3&gt;application.properties&lt;/h3&gt;
&lt;p&gt;main의 &lt;code class=&quot;language-text&quot;&gt;application.properties&lt;/code&gt; 와 동일하게 카카오 서버에 정보를 요청하기 위한 정보들(redirect uri, client id 등)을 test 시 사용되는 &lt;code class=&quot;language-text&quot;&gt;application.properties&lt;/code&gt;에 작성해줍니다.&lt;/p&gt;
&lt;p&gt;여기서 = &lt;code class=&quot;language-text&quot;&gt;server.port&lt;/code&gt;로 지정한 포트에서 &lt;code class=&quot;language-text&quot;&gt;@SpringBootTest(webEnvironment = WebEnvironment.DEFINED_PORT)&lt;/code&gt; 테스트가 진행됩니다.&lt;/p&gt;
&lt;p&gt;이 때, &lt;code class=&quot;language-text&quot;&gt;server.port&lt;/code&gt;로 지정한 포트와 요청 URI(&lt;code class=&quot;language-text&quot;&gt;auth.kakao.token-request-uri&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;auth.kakao.member-info-request-uri&lt;/code&gt;) 의 포트가 동일해야 요청이 정상적으로 수행됩니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;properties&quot;&gt;&lt;pre class=&quot;language-properties&quot;&gt;&lt;code class=&quot;language-properties&quot;&gt;&lt;span class=&quot;token key attr-name&quot;&gt;server.port&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token value attr-value&quot;&gt;8888&lt;/span&gt;
&lt;span class=&quot;token key attr-name&quot;&gt;auth.kakao.token-request-uri&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token value attr-value&quot;&gt;http://localhost:8888/oauth/token&lt;/span&gt;
&lt;span class=&quot;token key attr-name&quot;&gt;auth.kakao.member-info-request-uri&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token value attr-value&quot;&gt;http://localhost:8888/user/me&lt;/span&gt;
&lt;span class=&quot;token key attr-name&quot;&gt;auth.kakao.redirect-uri&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token value attr-value&quot;&gt;http://localhost:8888/authorization&lt;/span&gt;
&lt;span class=&quot;token key attr-name&quot;&gt;auth.kakao.client-id&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token value attr-value&quot;&gt;clientId&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;br&gt;&lt;br&gt;&lt;/p&gt;
&lt;h3&gt;MockKakaoServerController&lt;/h3&gt;
&lt;p&gt;카카오 서버 대신 요청을 처리해 줄 컨트롤러를 작성하여, 요청 조건과 원하는 응답을 설정해줍니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token annotation punctuation&quot;&gt;@RestController&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;MockKakaoServerController&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// ...&lt;/span&gt;

    &lt;span class=&quot;token annotation punctuation&quot;&gt;@PostMapping&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;path &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;/oauth/token&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; consumes &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;MediaType&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;APPLICATION_FORM_URLENCODED_VALUE&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ResponseEntity&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;KaKaoAccessTokenResponse&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getAccessToken&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;HttpEntity&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; request&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    
		&lt;span class=&quot;token comment&quot;&gt;// ...&lt;/span&gt;
        
        &lt;span class=&quot;token class-name&quot;&gt;KaKaoAccessTokenResponse&lt;/span&gt; response &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;KaKaoAccessTokenResponse&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;builder&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;accessToken&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;access token&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;build&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ResponseEntity&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;ok&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;response&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;token annotation punctuation&quot;&gt;@PostMapping&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;path &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;/user/me&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; consumes &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;MediaType&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;APPLICATION_FORM_URLENCODED_VALUE&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ResponseEntity&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;KakaoMemberResponse&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getMemberInfo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token annotation punctuation&quot;&gt;@RequestHeader&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;HttpHeaders&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;AUTHORIZATION&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; token&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
 		
        &lt;span class=&quot;token comment&quot;&gt;// ...&lt;/span&gt;

        &lt;span class=&quot;token class-name&quot;&gt;KakaoMemberResponse&lt;/span&gt; response &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;KakaoMemberResponse&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;builder&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;54321L&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;build&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ResponseEntity&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;ok&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;response&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;/p&gt;
&lt;h2&gt;참고 자료&lt;/h2&gt;
&lt;hr&gt;
&lt;p&gt;&lt;a href=&quot;https://prolog.techcourse.co.kr/studylogs/2500&quot;&gt;PROLOG - OAuth를 사용하는 로직의 테스트를 외부 API에 의존하지 않게 해보자&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://velog.io/@jurlring/%EC%99%B8%EB%B6%80-API-Mocking%ED%95%98%EC%97%AC-%ED%85%8C%EC%8A%A4%ED%8A%B8%ED%95%98%EA%B8%B0#%EC%8B%9C%EB%8F%84-2---resttemplate-mocking&quot;&gt;외부 API Mocking하여 테스트하기&lt;/a&gt;  &lt;/p&gt;</content:encoded></item><item><title><![CDATA[OAuth 2.0 로그인 구현하기 (카카오)]]></title><description><![CDATA[이 글은 우테코 피움팀 크루 '조이'가 작성했습니다. 시작하기 전에 피움 프로젝트에서 OAuth 2.0을 이용해 카카오 로그인을 구현하여 그 과정을 기록해보려 합니다. 그럼 본격적으로 글을 읽기 전에 몇 가지 사항들을 체크해 봅시다.…]]></description><link>https://pium-official.github.io/OAuth2.0-backend/</link><guid isPermaLink="false">https://pium-official.github.io/OAuth2.0-backend/</guid><pubDate>Thu, 24 Aug 2023 00:00:00 GMT</pubDate><content:encoded>&lt;blockquote&gt;
&lt;p&gt;이 글은 우테코 피움팀 크루 &apos;&lt;a href=&quot;https://github.com/yeonkkk&quot;&gt;조이&lt;/a&gt;&apos;가 작성했습니다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;시작하기 전에&lt;/h2&gt;
&lt;p&gt;피움 프로젝트에서 &lt;strong&gt;OAuth 2.0&lt;/strong&gt;을 이용해 &lt;strong&gt;카카오 로그인&lt;/strong&gt;을 구현하여 그 과정을 기록해보려 합니다.&lt;/p&gt;
&lt;p&gt;그럼 본격적으로 글을 읽기 전에 몇 가지 사항들을 체크해 봅시다.&lt;/p&gt;
&lt;p&gt;&lt;br&gt;&lt;br&gt;&lt;/p&gt;
&lt;h3&gt;1.  OAuth 2.0 기초 개념&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;이 글은 &lt;strong&gt;독자가 OAuth 2.0 개념을 알고 있다는 가정 하&lt;/strong&gt;에 작성 되었습니다.&lt;br&gt;
만약 OAuth 2.0에 대한 기본적인 개념을 파악하고 싶다면 아래 자료를 참고해주세요.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://tecoble.techcourse.co.kr/post/2021-07-10-understanding-oauth/&quot;&gt;Tecoble - OAuth 개념 및 동작 방식 이해하기&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://tecoble.techcourse.co.kr/post/2022-10-24-openID-Oauth/&quot;&gt;Tecoble - OpenID와 OAuth2.0&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br&gt;&lt;br&gt;&lt;/p&gt;
&lt;h3&gt;2. 개발 환경&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;이 글은 아래와 같은 환경에서 구현한 내용을 설명하고 있습니다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;spring boot 3.1.1&lt;/li&gt;
&lt;li&gt;java 17&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br&gt;&lt;br&gt;&lt;/p&gt;
&lt;h3&gt;3. 설정하기&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;카카오 로그인 흐름을 이해하기 위해 카카오에서 제공하는 공식 문서를 숙지합니다.&lt;br&gt;
카카오 공식 문서를 참고하여 서비스 애플리케이션을 생성 및 설정 합니다.&lt;br&gt;
원하는 정보를 요청하기 위해 API를 파악합니다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;카카오 로그인 이해하기: &lt;a href=&quot;https://developers.kakao.com/docs/latest/ko/kakaologin/common&quot;&gt;Kakao Developers - 카카오 로그인 이해하기&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;카카오 애플리케이션 생성 및 설정하기: &lt;a href=&quot;https://developers.kakao.com/docs/latest/ko/kakaologin/prerequisite&quot;&gt;Kakao Developers - 카카오 로그인 설정하기&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;카카오 REST API 확인하기: &lt;a href=&quot;https://developers.kakao.com/docs/latest/ko/kakaologin/rest-api&quot;&gt;Kakao Developers - 카카오 로그인 REST API&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;/p&gt;
&lt;h2&gt;환경 구성하기&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;우리는 클라이언트의 입장으로 카카오 서버에 요청을 보내야 합니다.&lt;br&gt;
이를 위해 먼저 내부에서 요청을 보낼 클라이언트 객체를 생성해 줍니다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;br&gt;&lt;br&gt;&lt;/p&gt;
&lt;h3&gt;RestTemplate&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;스프링 어플리케이션에서 HTTP 요청할 때 사용하는 방법으로 &lt;code class=&quot;language-text&quot;&gt;RestTemplate&lt;/code&gt;과 &lt;code class=&quot;language-text&quot;&gt;WebClient&lt;/code&gt;가 있습니다.&lt;br&gt;
우리는 그 중 &lt;code class=&quot;language-text&quot;&gt;RestTemplate&lt;/code&gt;를 이용할 것입니다.&lt;br&gt;
관련 내용은 글의 마지막에 다루도록 하겠습니다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;기본 스프링 부트 의존성을 추가하면 &lt;code class=&quot;language-text&quot;&gt;RestTemplate&lt;/code&gt; 관련 의존성은 자동으로 추가됩니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;groovy&quot;&gt;&lt;pre class=&quot;language-groovy&quot;&gt;&lt;code class=&quot;language-groovy&quot;&gt;implementation &lt;span class=&quot;token string&quot;&gt;&apos;org.springframework.boot:spring-boot-starter-web&apos;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;br&gt;&lt;br&gt;&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;RestTemplate&lt;/code&gt;은 자동으로 빈 등록이 되지 않기 때문에 아래와 같이 직접 등록해주어야 합니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token annotation punctuation&quot;&gt;@Configuration&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;AuthConfig&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

    &lt;span class=&quot;token annotation punctuation&quot;&gt;@Bean&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;RestTemplate&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;restTemplate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;RestTemplateBuilder&lt;/span&gt; restTemplateBuilder&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; restTemplateBuilder&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;build&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;br&gt;&lt;br&gt;&lt;/p&gt;
&lt;h3&gt;클라이언트 객체 생성하기&lt;/h3&gt;
&lt;p&gt;HTTP 통신을 위한 &lt;code class=&quot;language-text&quot;&gt;RestTemplate&lt;/code&gt; 세팅이 끝났으니 클라이언트 역할을 할 객체를 생성합니다.&lt;br&gt;
우리는 이 클라이언트 객체를 이용하여 액세스 토큰 요청, 사용자 정보 요청, 회원 탈퇴 요청 등 카카오 서버로 다양한 요청을 보낼 것입니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token annotation punctuation&quot;&gt;@Component&lt;/span&gt;
&lt;span class=&quot;token annotation punctuation&quot;&gt;@RequiredArgsConstructor&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;OAuthProvider&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;AUTHORIZATION_HEADER&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Authorization&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;GRANT_TYPE&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;authorization_code&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;TOKEN_TYPE&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Bearer &quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token annotation punctuation&quot;&gt;@Value&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;${auth.kakao.token-request-uri}&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; tokenRequestUri&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token annotation punctuation&quot;&gt;@Value&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;${auth.kakao.member-info-request-uri}&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; memberInfoRequestUri&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    
    &lt;span class=&quot;token annotation punctuation&quot;&gt;@Value&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;${auth.kakao.redirect-uri}&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; redirectUri&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token annotation punctuation&quot;&gt;@Value&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;${auth.kakao.client-id}&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; clientId&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;RestTemplate&lt;/span&gt; restTemplate&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;액세스 토큰 요청, 사용자 정보 요청, 회원 탈퇴 요청 등의 요청 시 &lt;code class=&quot;language-text&quot;&gt;RestTemplate&lt;/code&gt;을 반복적으로 사용해야하기 때문에 필드로 두었습니다.&lt;/li&gt;
&lt;li&gt;카카오 서버로 요청을 보낼 때 반복적으로 사용되는 정보들을 필드로 두었습니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br&gt;&lt;br&gt;&lt;/p&gt;
&lt;h3&gt;민감 정보 관리&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;요청에 사용되는 정보들 중 REST API 키나 SECRET과 같은 민감한 정보들은 &lt;code class=&quot;language-text&quot;&gt;@Value&lt;/code&gt; 애너테이션과 &lt;code class=&quot;language-text&quot;&gt;application.properties&lt;/code&gt; 파일을 이용해서 분리하여 관리할 수 있습니다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;application.properties&lt;/code&gt;는 아래와 같이 작성할 수 있습니다.&lt;br&gt;
(피움 프로젝트에서는 &lt;code class=&quot;language-text&quot;&gt;properties&lt;/code&gt; 파일을 사용하였지만, &lt;code class=&quot;language-text&quot;&gt;yml&lt;/code&gt; 파일도 동일한 방식으로 사용할 수 있습니다)&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;properties&quot;&gt;&lt;pre class=&quot;language-properties&quot;&gt;&lt;code class=&quot;language-properties&quot;&gt;&lt;span class=&quot;token key attr-name&quot;&gt;auth.kakao.token-request-uri&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token value attr-value&quot;&gt;액세스 토큰을 요청할 카카오 URI&lt;/span&gt;
&lt;span class=&quot;token key attr-name&quot;&gt;auth.kakao.member-info-request-uri&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token value attr-value&quot;&gt;사용자 정보를 요청할 카카오 URI&lt;/span&gt;
&lt;span class=&quot;token key attr-name&quot;&gt;auth.kakao.redirect-uri&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token value attr-value&quot;&gt;kakao developers에서 설정한 리다이렉트 URI&lt;/span&gt;
&lt;span class=&quot;token key attr-name&quot;&gt;auth.kakao.client-id&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token value attr-value&quot;&gt;kakao developers에서 애플리케이션 생성 시 발급 받은 REST API 키&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;해당 내용에 대해 더 알아보고 싶으시다면 아래 글을 참고하시면 좋을 것 같습니다.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://tecoble.techcourse.co.kr/post/2020-09-29-spring-properties-binding/&quot;&gt;Tecoble - Spring Boot에서 properties 값 주입받기&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;/p&gt;
&lt;h2&gt;로그인 구현하기&lt;/h2&gt;
&lt;p&gt;카카오 로그인은 OAuth 2.0 프로토콜 중 &lt;code class=&quot;language-text&quot;&gt;Authorization Code Grant&lt;/code&gt; 방식을 사용합니다.&lt;br&gt;
그렇기 때문에 우리가 수행해야 할 요청은 아래와 같이 3개로 나눠볼 수 있습니다.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;authorization code&lt;/code&gt; 요청&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;access token&lt;/code&gt; 요청&lt;/li&gt;
&lt;li&gt;사용자 정보 요청&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br&gt;&lt;br&gt;&lt;/p&gt;
&lt;h3&gt;동작 과정&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;피움 서비스에서 구현한 로그인은 아래와 같이 동작합니다.&lt;br&gt;
피움의 경우 사용자 인증 방식으로 세션을 사용하고 있습니다.&lt;br&gt;
이 글에서는 OAuth 2.0에 대해 다루고 있으므로 관련 내용은 생략합니다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;figure class=&apos;gatsby-resp-image-figure&apos; style=&apos;margin-bottom: 16px;&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; &apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/075f031600ab230d0f0e2b5eb87534e9/a0a10/img.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 42.94117647058824%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAABzUlEQVR42n2S304TQRSH+2rGK/UxjDcSIheo8QFM0AfwpuAfqjSxiUD0SmxNKaYqGI1FWxorsBjb2u62tLud3ZnZ+ZxdRIImnMmXyUl+8zvnzEzGEx6ucAl0QGzi08QafTgkdHtIr08sI2LMKY2ODpFBHy0GYDSZlttit7+HJ4f8F7E97k0QjovujCBU/wgM0u/i/fyG8L5bfURGaolvq9QGbyns3mNlf57lvSzL+wnzrOws8KyWZbWxwHPnwV9eOA+tNktjuImIxkn1tEAmjiVGhvS7L9n+dI167ZblZsrXzzeovp+h/GaayuYMW81ZtnZm+ZBynXf1adpuCSmth11JZLS9J6FCtv06938sknPyLLaWeHTwhHy7wFiNUVZjggiafWi5JyS5J1DW8DgyycUqJe2j+HREm+6kc4To8Et0ieKQUAr0l1dw5zzB3Yv0bl9gOHcJ5s5hqnnUxE/HTQ2NMWitOStU8ji9Ayjl0a8L+MWnSLtTXMI4DduQPW+ODa1Z2rLjoNfWCEulI4pF4nIZRiNUKDDNCuSuED2eordwlUluyuaXMR9XUcH4ZOT0a4RhaqjW1wk3NhAJlQpxtQqDASaKzpzA/OkuMfwNOXuTGFtwGVcAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;pium-oauth-arc.png&apos; title=&apos;&apos; src=&apos;/static/075f031600ab230d0f0e2b5eb87534e9/ca1dc/img.png&apos; srcset=&apos;/static/075f031600ab230d0f0e2b5eb87534e9/e7570/img.png 170w,
/static/075f031600ab230d0f0e2b5eb87534e9/f46e7/img.png 340w,
/static/075f031600ab230d0f0e2b5eb87534e9/ca1dc/img.png 680w,
/static/075f031600ab230d0f0e2b5eb87534e9/02d09/img.png 1020w,
/static/075f031600ab230d0f0e2b5eb87534e9/a0a10/img.png 1281w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&apos;gatsby-resp-image-figcaption&apos;&gt;pium-oauth-arc.png&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;위 그림과 같이 카카오 서버에 요청해야하는 정보 중 하나인 &lt;code class=&quot;language-text&quot;&gt;authorization code&lt;/code&gt;는 피움의 클라이언트에서 카카오 서버에 요청한 후 피움 서버로 로그인 요청 시 사용합니다.&lt;br&gt;
즉, &lt;strong&gt;피움 서버에서는 카카오 서버로 액세스 토큰 요청과 사용자 정보 요청만 진행&lt;/strong&gt;할 것입니다.&lt;/p&gt;
&lt;p&gt;&lt;br&gt;&lt;br&gt;&lt;/p&gt;
&lt;h3&gt;액세스 토큰 요청하기&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;a href=&quot;https://developers.kakao.com/docs/latest/ko/kakaologin/rest-api#request-token&quot;&gt;KAKAO REST API - 토큰받기&lt;/a&gt;를 참고하여 액세스 토큰을 요청합니다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4&gt;요청&lt;/h4&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;curl -v -X POST &quot;https://kauth.kakao.com/oauth/token&quot; \
 -H &quot;Content-Type: application/x-www-form-urlencoded&quot; \
 -d &quot;grant_type=authorization_code&quot; \
 -d &quot;client_id=${REST_API_KEY}&quot; \
 --data-urlencode &quot;redirect_uri=${REDIRECT_URI}&quot; \
 -d &quot;code=${AUTHORIZE_CODE}&quot;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;응답&lt;/h4&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;HTTP/1.1 200 OK
Content-Type: application/json;charset=UTF-8
{
    &quot;token_type&quot;:&quot;bearer&quot;,
    &quot;access_token&quot;:&quot;${ACCESS_TOKEN}&quot;,
    &quot;expires_in&quot;:43199,
    &quot;refresh_token&quot;:&quot;${REFRESH_TOKEN}&quot;,
    &quot;refresh_token_expires_in&quot;:5184000,
    &quot;scope&quot;:&quot;account_email profile&quot;
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;br&gt;&lt;br&gt;&lt;/p&gt;
&lt;h4&gt;KaKaoAccessTokenResponse Dto&lt;/h4&gt;
&lt;p&gt;액세스 토큰만 받을 것이기 때문에 &lt;code class=&quot;language-text&quot;&gt;String&lt;/code&gt;으로 받을수도 있으나, 이후에 추가적인 정보를 받는 것으로 명세가 변경될 수 있기에 DTO를 작성하였습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token annotation punctuation&quot;&gt;@Getter&lt;/span&gt;
&lt;span class=&quot;token annotation punctuation&quot;&gt;@Builder&lt;/span&gt;
&lt;span class=&quot;token annotation punctuation&quot;&gt;@NoArgsConstructor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;access &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;AccessLevel&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;PRIVATE&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token annotation punctuation&quot;&gt;@AllArgsConstructor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;access &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;AccessLevel&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;PRIVATE&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;KaKaoAccessTokenResponse&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

    &lt;span class=&quot;token annotation punctuation&quot;&gt;@JsonProperty&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;access_token&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; accessToken&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;br&gt;&lt;br&gt;&lt;/p&gt;
&lt;h4&gt;카카오 서버로 액세스 토큰 요청하기&lt;/h4&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token annotation punctuation&quot;&gt;@Component&lt;/span&gt;
&lt;span class=&quot;token annotation punctuation&quot;&gt;@RequiredArgsConstructor&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;OAuthProvider&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

    &lt;span class=&quot;token comment&quot;&gt;// ...&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;KaKaoAccessTokenResponse&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getAccessToken&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; authorizationCode&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token class-name&quot;&gt;HttpHeaders&lt;/span&gt; httpHeaders &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;HttpHeaders&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
            httpHeaders&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setContentType&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;MediaType&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;APPLICATION_FORM_URLENCODED&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

            &lt;span class=&quot;token class-name&quot;&gt;MultiValueMap&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; body &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;LinkedMultiValueMap&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
            body&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;add&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;grant_type&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;GRANT_TYPE&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
            body&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;add&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;client_id&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; clientId&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
            body&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;add&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;redirect_uri&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; redirectUri&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
            body&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;add&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;code&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; authorizationCode&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

            &lt;span class=&quot;token class-name&quot;&gt;HttpEntity&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;MultiValueMap&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; request &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;HttpEntity&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;body&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; httpHeaders&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

            &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; restTemplate&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;postForEntity&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
                    tokenRequestUri&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; request&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;KaKaoAccessTokenResponse&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getBody&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;catch&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;HttpClientErrorException&lt;/span&gt; e&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;KakaoTokenRequestException&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;e&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getMessage&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;catch&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;HttpServerErrorException&lt;/span&gt; e&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;KakaoServerException&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;e&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getMessage&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;token comment&quot;&gt;// ...&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;헤더 생성&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;카카오 REST API 명세에 따라 &lt;code class=&quot;language-text&quot;&gt;HttpHeaders&lt;/code&gt;를 이용해 header를 생성하여 Content Type을 &lt;code class=&quot;language-text&quot;&gt;application/x-www-form-urlencoded&lt;/code&gt; 로 설정합니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;바디 생성&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;MultiValueMap&lt;/code&gt;을 이용하여 요청 시 사용될 body 를 &lt;code class=&quot;language-text&quot;&gt;key-value&lt;/code&gt; 형태로 만들어줍니다.&lt;/li&gt;
&lt;li&gt;카카오 REST API 명세에 따라 grant&lt;em&gt;type, client&lt;/em&gt;id, redirect_uri, code 를 파라미터로 넣어줍니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;리퀘스트 생성&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;앞서 설정한 header와 body로 &lt;code class=&quot;language-text&quot;&gt;HttpEntity&lt;/code&gt;를 생성합니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;카카오 서버에 요청하기&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;카카오 REST API 명세에 따라 POST 메서드를 이용해서 요청을 보낼 것 입니다.&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/client/RestTemplate.html&quot;&gt;RestTemplate&lt;/a&gt;에서 제공하는 POST 메서드는 총 3가지로 목적에 따라 &lt;code class=&quot;language-text&quot;&gt;postForObject()&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;postForEntity()&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;postForLocation()&lt;/code&gt; 중에 선택해서 사용할 수 있습니다.&lt;/li&gt;
&lt;li&gt;우리는 응답 값을 &lt;code class=&quot;language-text&quot;&gt;ResponseEntity&lt;/code&gt;로 받을 것이므로&lt;code class=&quot;language-text&quot;&gt;RestTemplate&lt;/code&gt;의 &lt;code class=&quot;language-text&quot;&gt;postForEntity()&lt;/code&gt; 메서드를 이용하여 요청을 보냈습니다.&lt;/li&gt;
&lt;li&gt;인자 값으로는 &lt;code class=&quot;language-text&quot;&gt;URI&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;Request&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;ResponseType&lt;/code&gt; 을 넣어줍니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br&gt;&lt;br&gt;&lt;/p&gt;
&lt;h3&gt;사용자 정보 요청하기&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;a href=&quot;https://developers.kakao.com/docs/latest/ko/kakaologin/rest-api#req-user-info&quot;&gt;KAKAO REST API - 사용자 정보 가져오기&lt;/a&gt;를 참고하여 응답으로 받은 액세스 토큰으로 사용자 정보를 요청합니다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4&gt;요청&lt;/h4&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;curl -v -X POST &quot;https://kapi.kakao.com/v2/user/me&quot; \
  -H &quot;Content-Type: application/x-www-form-urlencoded&quot; \
  -H &quot;Authorization: Bearer ${ACCESS_TOKEN}&quot; \&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;응답&lt;/h4&gt;
&lt;p&gt;응답 값은 수집 항목에 따라 달라질 수 있습니다.&lt;br&gt;
피움 프로젝트의 경우 사용자의 회원 ID만 수집하므로 다른 정보는 생략하였습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;HTTP/1.1 200 OK
{
    &quot;id&quot;:123456789,
    &quot;connected_at&quot;: &quot;2022-04-11T01:45:28Z&quot;
    ...
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;br&gt;&lt;br&gt;&lt;/p&gt;
&lt;h4&gt;KakaoMemberResponse Dto&lt;/h4&gt;
&lt;p&gt;회원 ID 역시 Long으로 바로 받을수도 있으나, 이후에 추가적인 정보를 받는 것으로 명세가 변경될 수 있기에 DTO를 작성하였습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token annotation punctuation&quot;&gt;@Getter&lt;/span&gt;
&lt;span class=&quot;token annotation punctuation&quot;&gt;@Builder&lt;/span&gt;
&lt;span class=&quot;token annotation punctuation&quot;&gt;@NoArgsConstructor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;access &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;AccessLevel&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;PRIVATE&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token annotation punctuation&quot;&gt;@AllArgsConstructor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;access &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;AccessLevel&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;PRIVATE&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;KakaoMemberResponse&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Long&lt;/span&gt; id&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;br&gt;&lt;br&gt;&lt;/p&gt;
&lt;h4&gt;카카오 서버로 사용자 정보 요청하기&lt;/h4&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token annotation punctuation&quot;&gt;@Component&lt;/span&gt;
&lt;span class=&quot;token annotation punctuation&quot;&gt;@RequiredArgsConstructor&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;OAuthProvider&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

    &lt;span class=&quot;token comment&quot;&gt;// ...&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;KakaoMemberResponse&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getMemberInfo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; accessToken&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token class-name&quot;&gt;HttpHeaders&lt;/span&gt; httpHeaders &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;HttpHeaders&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
            httpHeaders&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;AUTHORIZATION_HEADER&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;TOKEN_TYPE&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; accessToken&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
            httpHeaders&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setContentType&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;MediaType&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;APPLICATION_FORM_URLENCODED&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

            &lt;span class=&quot;token class-name&quot;&gt;HttpEntity&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Object&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; request &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;HttpEntity&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;httpHeaders&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

            &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; restTemplate&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;postForEntity&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;memberInfoRequestUri&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; request&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;KakaoMemberResponse&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                    &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getBody&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;catch&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;HttpClientErrorException&lt;/span&gt; e&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;KaKaoMemberInfoRequestException&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;e&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getMessage&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;catch&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;HttpServerErrorException&lt;/span&gt; e&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;KakaoServerException&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;e&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getMessage&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;KaKaoAccessTokenResponse&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getAccessToken&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; authorizationCode&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;// ...&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;token comment&quot;&gt;// ...&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;헤더 생성&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;카카오 REST API 명세에 따라 &lt;code class=&quot;language-text&quot;&gt;HttpHeaders&lt;/code&gt;를 이용해 header를 생성하여 Content Type을 &lt;code class=&quot;language-text&quot;&gt;application/x-www-form-urlencoded&lt;/code&gt; 로 설정합니다.&lt;/li&gt;
&lt;li&gt;카카오 REST API 명세에 따라 authorization 헤더를 추가하여 액세스 토큰 값을 넣어줍니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;리퀘스트 생성&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;앞서 설정한 header로 &lt;code class=&quot;language-text&quot;&gt;HttpEntity&lt;/code&gt;를 생성합니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;카카오 서버에 요청하기&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;이번에도 카카오 REST API 명세에 따라 POST 메서드를 이용해서 요청을 보낼 것 입니다.&lt;/li&gt;
&lt;li&gt;이번에도 응답을&lt;code class=&quot;language-text&quot;&gt;ResponseEntity&lt;/code&gt;로 받을 것이므로&lt;code class=&quot;language-text&quot;&gt;RestTemplate&lt;/code&gt;의 &lt;code class=&quot;language-text&quot;&gt;postForEntity()&lt;/code&gt; 메서드를 이용하여 요청을 보냅니다.&lt;/li&gt;
&lt;li&gt;인자 값으로는 &lt;code class=&quot;language-text&quot;&gt;URI&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;Request&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;ResponseType&lt;/code&gt; 을 넣어줍니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br&gt;&lt;br&gt;&lt;/p&gt;
&lt;h3&gt;controller 구현하기&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;피움 클라이언트에서 로그인 요청을 보낼 수 있도록 controller 및 api를 구현합니다.&lt;br&gt;
controller의 경우 각 서비스의 명세에 맞게 작성하시면 됩니다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4&gt;요청&lt;/h4&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;POST &quot;https://pium.life/login?code={AUTHORIZATION_CODE}&quot;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;응답&lt;/h4&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;HTTP/1.1 200 OK&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;br&gt;&lt;br&gt;&lt;/p&gt;
&lt;h4&gt;controller&lt;/h4&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token annotation punctuation&quot;&gt;@Validated&lt;/span&gt;
&lt;span class=&quot;token annotation punctuation&quot;&gt;@RestController&lt;/span&gt;
&lt;span class=&quot;token annotation punctuation&quot;&gt;@RequiredArgsConstructor&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;AuthController&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;AuthService&lt;/span&gt; authService&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token annotation punctuation&quot;&gt;@PostMapping&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;/login&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ResponseEntity&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Void&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;login&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
            &lt;span class=&quot;token annotation punctuation&quot;&gt;@RequestParam&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;name &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;code&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token annotation punctuation&quot;&gt;@NotBlank&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; code&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token class-name&quot;&gt;Member&lt;/span&gt; loginMember &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; authService&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;login&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;code&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        
        &lt;span class=&quot;token comment&quot;&gt;// ...&lt;/span&gt;
        
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ResponseEntity&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;ok&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;build&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;br&gt;&lt;br&gt;&lt;/p&gt;
&lt;h3&gt;service 구현하기&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;앞서 구현한 &lt;code class=&quot;language-text&quot;&gt;OAuthProvider&lt;/code&gt;를 호출하여 로그인을 처리합니다.
해당 레이어에서 각 서비스의 규정에 따라 서비스 내 인증 방식(토큰, 세션 등)을 적용할 수 있습니다.&lt;br&gt;
(이 글에서는 OAuth 2.0를 이용한 로그인만 다루고 있기 때문에 해당 내용은 생략합니다)&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token annotation punctuation&quot;&gt;@Service&lt;/span&gt;
&lt;span class=&quot;token annotation punctuation&quot;&gt;@Transactional&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;readOnly &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token annotation punctuation&quot;&gt;@RequiredArgsConstructor&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;AuthService&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;OAuthProvider&lt;/span&gt; provider&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token annotation punctuation&quot;&gt;@Transactional&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Member&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;login&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; authorizationCode&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token class-name&quot;&gt;KaKaoAccessTokenResponse&lt;/span&gt; accessTokenResponse &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; provider&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getAccessToken&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;authorizationCode&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; accessToken &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; accessTokenResponse&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getAccessToken&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

        &lt;span class=&quot;token class-name&quot;&gt;KakaoMemberResponse&lt;/span&gt; kakaoMemberResponse &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; provider&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getMemberInfo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;accessToken&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        
        &lt;span class=&quot;token comment&quot;&gt;// ...&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;/p&gt;
&lt;h2&gt;추가로 고려해 볼 사항&lt;/h2&gt;
&lt;h3&gt;RestTemplate vs WebClient&lt;/h3&gt;
&lt;p&gt;스프링 어플리케이션에서 HTTP 요청할 때 사용하는 방법으로 &lt;a href=&quot;https://tecoble.techcourse.co.kr/post/2021-07-25-resttemplate-webclient/&quot;&gt;RestTemplate과 WebClient&lt;/a&gt;가 있습니다.&lt;/p&gt;
&lt;p&gt;현재 스프링 부트를 사용하고 있기 때문에 RestTemplate을 사용한다면 별도의 의존성 추가가 필요하지 않습니다. 하지만 WebClient를 사용하기 위해서는 webflux 의존성을 추가해주어야 합니다.
또한 로그인 처리를 위해 카카오 서버의 응답이 필수적이기 때문에 WebClient의 특징이 큰 이점이 되지 않는다고 느껴 &lt;code class=&quot;language-text&quot;&gt;RestTemplate&lt;/code&gt;을 사용하였습니다.&lt;/p&gt;
&lt;p&gt;만약 이후 서비스 규모가 커지고, deprecated 소식이 있다면 &lt;code class=&quot;language-text&quot;&gt;WebClient&lt;/code&gt;로의 대체를 고려할 수도 있을 것 같습니다.&lt;/p&gt;
&lt;p&gt;다른 대체 방안으로 Spring Boot3.2에 새롭게 추가될 &lt;a href=&quot;https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.2.0-M1-Release-Notes&quot;&gt;RestClient&lt;/a&gt; 도 고려해볼 수 있겠습니다.&lt;/p&gt;
&lt;p&gt;&lt;br&gt;&lt;br&gt;&lt;/p&gt;
&lt;h3&gt;다수의 Provider 고려하기&lt;/h3&gt;
&lt;p&gt;현재 피움 서비스에서는 카카오 로그인만을 제공하고 있습니다.
만약 이후에 구글 로그인, 네이버 로그인 등 다른 provider를 이용하게 된다면 현재의 코드로는 적용이 불가합니다.&lt;br&gt;
이 점을 고려하여 추상화를 통해 유연한 로그인 서비스를 제공하는 방법을 생각해볼 수 있겠습니다.&lt;/p&gt;
&lt;p&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;/p&gt;
&lt;h2&gt;끝으로&lt;/h2&gt;
&lt;p&gt;OAuth 2.0 을 통해 카카오 로그인을 구현하는 방법을 알아보았습니다.&lt;br&gt;
다음 글에서는 구현한 로그인에 대한 테스트 방법을 다뤄보도록 하겠습니다.&lt;br&gt;
글을 읽어주셔서 감사합니다!  &lt;/p&gt;</content:encoded></item><item><title><![CDATA[InfinityQuery에서 fetch가 제대로 이루어지지 않는다?!?!]]></title><description><![CDATA[이 글은 우테코 피움팀 크루 '클린'가 작성했습니다. 문제: 무한 스크롤 시에 데이터 fetch…]]></description><link>https://pium-official.github.io/tanstack-query-cache-trouble-shooting/</link><guid isPermaLink="false">https://pium-official.github.io/tanstack-query-cache-trouble-shooting/</guid><pubDate>Tue, 22 Aug 2023 00:00:00 GMT</pubDate><content:encoded>&lt;blockquote&gt;
&lt;p&gt;이 글은 우테코 피움팀 크루 &apos;&lt;a href=&quot;https://github.com/hozzijeong&quot;&gt;클린&lt;/a&gt;&apos;가 작성했습니다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3&gt;문제: 무한 스크롤 시에 데이터 fetch가 제대로 이루어지지 않는다.&lt;/h3&gt;
&lt;h3&gt;에러 구현 방법: 특정 식물 상세보기 접속 → 타임라인 페이지 접속 → 뒤로가기 → 해당 식물 정보 수정 → 타임라인 페이지 접속&lt;/h3&gt;
&lt;h2&gt;서론&lt;/h2&gt;
&lt;p&gt;‘피움’ 서비스 에서는 식물의 관리 이력(식물 물 주기, 물 주기 Cycle 변화, 식물의 환경 변화 등)을 확인할 수 있는 ‘타임라인’ 서비스를 제공하고 있습니다. 이 타임라인 기능에서는 다른 페이지로 이동할 필요 없이 아래로만 스크롤 하면 다음 데이터가 나오는 ‘무한 스크롤’ 기능을 사용자들에게 제공하고 있는데, 이 무한 스크롤을 좀 더 편리하게 사용하기 위해서 React-Query에서 제공하는 &lt;a href=&quot;https://tanstack.com/query/v5/docs/react/reference/useInfiniteQuery&quot;&gt;useInfiniteQuery&lt;/a&gt;를 통해 무한 스크롤을 구현하고 있습니다. &lt;/p&gt;
&lt;h3&gt;본론&lt;/h3&gt;
&lt;p&gt;사건의 발단은 다음과 같습니다. 식물의 관리 이력을 수정하고 변경 내역이 타임라인에 기록되었는지를 확인하기 위해 타임라인을 클릭 했더니 &lt;strong&gt;수정하기 전 타임라인을 제공하고 있던 것이었습니다.&lt;/strong&gt; 당시에 운영 서비스 배포하기로 결정한 당일 이었기 때문에 상당히 당황한 기억이 있습니다. &lt;/p&gt;
&lt;p&gt;문제를 찾아보기 위해 &lt;code class=&quot;language-text&quot;&gt;console&lt;/code&gt;을 통해서 데이터 fetch 순서를 한번 봤습니다. 처음에 접속해서 캐시되어 있던 데이터가 먼저 찍히는 것을 볼 수 있습니다. 그 다음에 타임라인에 사용될 데이터를 보여주고, 데이터 통신이 완료가 됩니다. &lt;code class=&quot;language-text&quot;&gt;GET /history&lt;/code&gt; 이력을 보면 데이터 fetch가 완료된 것을 볼 수 있는데, 데이터 fetch를 하고 끝이 납니다. 마지막으로 fetch한 데이터가 가장 최신의 데이터이고 타임라인에 적용되어야 할 데이터인데, 전혀 적용되지 않고 fetch만 하고 끝이 됩니다. 이 때문에 타임라인에는 이전 내용이 적용되어서 데이터가 나타나는 것입니다. 문제는 언제는 또 제대로 작동이 된다는 것 이었습니다. 이렇게 일관성 없는 fetch 동작에 상당히 많은 혼란이 있었습니다.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;Response Data&lt;/code&gt;: 처음 fetch 되었을 때 나온 데이터&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;Select Data&lt;/code&gt;: fetch된 데이터를 가공하기 위해 &lt;code class=&quot;language-text&quot;&gt;select&lt;/code&gt; 옵션을 사용한 과정에서 찍히는 데이터&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;TimeLine Data&lt;/code&gt;: 실제 타임라인에 사용될 데이터&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&quot;https://github.com/pium-official/pium-official.github.io/assets/50974359/3b122e0d-2404-41a6-856e-0f937de9938c&quot; alt=&quot;image&quot;&gt;&lt;/p&gt;
&lt;p&gt;문제의 원인을 ‘캐시된 데이터’라고 추정한 가운데 생각한 해결책은 ‘데이터를 fetch 할 때마다 캐시를 하지 않게 하려면 어떻게 해야 하나?’ 였습니다. React-Query에 대해서 좀 더 자세히 알고 있었다면 금방 해결 됐을 문제이지만, 옵션 들에 대해 그렇게 자세하게 알지 못했고, 애꿎은 &lt;code class=&quot;language-text&quot;&gt;queryKey&lt;/code&gt;와 &lt;code class=&quot;language-text&quot;&gt;enable&lt;/code&gt; 등을 건드렸다. &lt;a href=&quot;https://tanstack.com/query/v4/docs/react/guides/dependent-queries&quot;&gt;Dependent Queries&lt;/a&gt;를 사용하면서, enable 옵션에 상태 값을 할당하는데, 바로 호출하는 방식이 클로저에 갇혀서 계속 같은 값으 제공하나? 이런 생각도 하고, queryKey가 같아서 계속 캐싱을 하나… filter를 없애야 하나 하는 생각도 했습니다. &lt;/p&gt;
&lt;p&gt;이렇게 여러 가지를 시도해 보다가 한 가지 원인을 알게 되었는데, React-Query가 제공하는 &lt;a href=&quot;https://tanstack.com/query/v5/docs/react/guides/caching&quot;&gt;캐시 예제&lt;/a&gt;에 있는 것과 동일합니다.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://github.com/pium-official/pium-official.github.io/assets/50974359/8686d632-4fba-4dad-a303-d9ec16342890&quot; alt=&quot;image&quot;&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;캐시의 시간이 완료되기 전에 똑같은 인스턴스가 마운트 된다면. 해당 쿼리는 즉시 사용 가능한 캐시 데이터를 반환하고, &lt;code class=&quot;language-text&quot;&gt;queryFn&lt;/code&gt;은 background에서 실행이 됩니다. 그리고 &lt;strong&gt;해당 fetch가 성공적으로 완료된다면, 방금 전에 fetch한 데이터가 캐시 데이터로 들어가는 것입니다.&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;즉, 저희가 겪었던 문제는 기본적으로 설정되어 있는 옵션들 (&lt;code class=&quot;language-text&quot;&gt;staleTime:0, gcTime:5분&lt;/code&gt;)에서는 자연스럽게 발생하는 문제들인 것이었습니다. 최초로 요청한 인스턴스가 가비지 콜렉션에 들어가기 전에 계속해서 같은 인스턴스를 요청하였고, 동작 원리에 따라 5분간은 같은 결과 (2 - 3 - 1 순서, 캐시 → fetch)로 작동하게 된 것이었습니다.&lt;/p&gt;
&lt;p&gt;결국에 이를 해결하기 위해서는 캐시 시간을 짧게 설정하면 되는 문제였고, 타임라인의 경우에는 캐시를 하지 않겠다는 의미로 &lt;code class=&quot;language-text&quot;&gt;gcTime&lt;/code&gt;을 0으로 설정하여 해결할 수 있는 문제였습니다.&lt;/p&gt;
&lt;h3&gt;결론&lt;/h3&gt;
&lt;p&gt;이번 트러블 슈팅을 하면서 크게 2가지 과정에서 문제가 있지 않았나 하는 생각이 들었습니다. &lt;/p&gt;
&lt;p&gt;첫 번째는 “잘 알지 못하는 라이브러리를 도입했다. 이 때문에 배포 당일 날에 문제를 마주했고, 쫄깃한 경험을 하게되었다.” 입니다. 물론 학습하는 입장에서 매우 좋은 경험이었지만, 실제 상황이었다면 살짝 아찔한 순간이었을 것 같습니다. &lt;/p&gt;
&lt;p&gt;두 번째는 이러한 문제를 개발 서버에서 확인했다는게 약간 치명적이지 않았나 라는 생각이 들었습니다. msw를 통해서 mockAPI를 통해서 모든 처리를 하고 있는데, 해당 API 통신에 대한 빡빡한 검증이 부족했던 것 같기도 하고, 테스트의 범위를 어디까지 정해야 하는 지도 살짝 애매한 느낌이 들긴 했습니다. 타임라인 이력을 불러오는 API을 구현한다면 잘 작성한 mockAPI이지만, e2e테스트로 생각을 한다면 살짝 부족한 과정이지 않았나를 생각하면서 e2e테스트의 중요성과 msw를 작성하는데 공식적으로 사용할만한 DB가 없었다는게 살짝 아쉬워 지는 트러블 슈팅이었습니다.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[CloudWatch를 이용한 모니터링 환경 구성]]></title><description><![CDATA[이 글은 우테코 피움팀 크루 '그레이'가 작성했습니다. 사건의 발단 현재 구동 중인 개발 서버와 운영 서버를 캠퍼스외의 장소에서 빌드해 배포했을 때, 내부 로그를 확인할 수 없는 문제가 있었습니다. 인스턴스 내부에 발생한 로그나, nginx…]]></description><link>https://pium-official.github.io/server-monitoring/</link><guid isPermaLink="false">https://pium-official.github.io/server-monitoring/</guid><pubDate>Thu, 17 Aug 2023 00:00:00 GMT</pubDate><content:encoded>&lt;blockquote&gt;
&lt;p&gt;이 글은 우테코 피움팀 크루 &apos;&lt;a href=&quot;https://github.com/Kim0914&quot;&gt;그레이&lt;/a&gt;&apos;가 작성했습니다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;사건의 발단&lt;/h2&gt;
&lt;p&gt;현재 구동 중인 개발 서버와 운영 서버를 캠퍼스외의 장소에서 빌드해 배포했을 때, 내부 로그를 확인할 수 없는 문제가 있었습니다.&lt;/p&gt;
&lt;p&gt;인스턴스 내부에 발생한 로그나, nginx에 남겨진 로그를 확인하기 위해서는 캠퍼스에서 직접 ssh 연결을 통해 접속해서 확인해야 합니다.&lt;/p&gt;
&lt;p&gt;서버 외부에서도 인스턴스 상태를 확인해야 하는 필요성이 느껴졌고, 모니터링 툴을 도입하기로 결정했습니다.&lt;/p&gt;
&lt;p&gt;CloudWatch는 AWS에서 제공하는 모니터링 툴입니다.&lt;/p&gt;
&lt;p&gt;기존에 프로메테우스와 그라파나를 활용해 모니터링을 할 수 있었지만, 현재 보유 중인 서버가 모두 가용 중이고 가용 중인 서버에 모니터링 툴을 설치하는 경우 다른 서버들이 영향을 받을 수 있기 때문에 별도의 툴이 필요했습니다.&lt;/p&gt;
&lt;p&gt;그래서 EC2 인스턴스를 추가로 생성해 모니터링용 서버를 구축할 수 있었으나, 비용(금전)적으로 cloud watch를 사용하는 것이 훨씬 비용 절감이 되고 적용과정도 비교적 간편하기 때문에 AWS CloudWatch를 사용하기로 결정했습니다.&lt;/p&gt;
&lt;h2&gt;CloudWatch 적용 과정&lt;/h2&gt;
&lt;p&gt;클라우드 와치를 인스턴스에 적용하기 위해서는 권한이 필요합니다.&lt;/p&gt;
&lt;p&gt;IAM을 발급 받는 방법은 다른 블로그에서 쉽게 찾을 수 있기 때문에 생략하고, 적용하는 방법부터 알아보겠습니다.&lt;/p&gt;
&lt;p&gt;*1. 인스턴스 대시보드로 이동해  인스턴스 우클릭 -&gt; 보안 -&gt; IAM 역할 수정을 누르고 발급받은 IAM을 추가합니다.**&lt;/p&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/560643d1fffff0709bbd937029ed90ee/bbbf7/img.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 69.41176470588235%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAACpklEQVR42n1Ty2oUQRTtr3Mh+QYX8S9culUwC0FREFHUhSIIBhcJBiVEEBFEI8nMZLo7M5N+P6qqq6uqX8dbrQkTES8cqpqqe+rcc28785iDVxLL5Qp1XaNpDPquhW4ayCTC2fZrFLvb6D5/RLe/i2bhIsxTuL4LxhmUqpEXBU4XC0RRBGeV1yilwcxfjQgzhroZUAPQ02P01zfQbV6F2dyAuXYF6u0rTFWOSTylPA0/SJEyiZPTFXJRw5lEFWKhcTRf4Mhd4NhbgesemZAIPRfV3js0B+/Rkjq5dRNiNsVRHuAwmCLhNTwiDHKOHxOXVgHHGAVjNDzPg+/7iOMENvK8QBAlyKSC6Hq0VFp36waGimPJV/CzObQxSNIMVVXBdV1IKeEEVHdICMJwXKM4pkspSsYg6GLFBXnaYSBfo+9fkdJ5KRhK/vucCwEhKvKTj6tjEy1YWYAV+QhB+yKjPePUpGZU3Pc9SqXGRE6PWCK7/xuOPbDd5aSCUaIFJ0hLQGda65FwGIaxpH+RXCIsqOVnUQzx7QvM/g7UwR4MNUF++oCiKJGXJToitwqtFYoesN7ZlVOJhiqw3+dwGJUbJCn0zhvg8Rbw7B7w9C7MiwdUfgkh6zGpowqSJBmV/i+cqBCYJxVU24GbBoaUBDRPuTIIqePWRxuWsG1blCVDSv5ahbYp53acw7Fl2cQ8y8hsic42gZIjssGjYZW1htWkTTsS2qT+jwUW62QjoaDfLqGRYVkKQYQDqRyaFoezM5wsE/rNJIKsgh8y8kyOiutaXShbj5GwpAv85RMMD2+P3uHRHeD5fUSnS8wXASYzH7VuIVUDezciv22jbMeF0pCmu0woaWQYdaunx9bfq0h5SGXbYbe2CCVwePITc9ej4U8uhnpdpSX8BbpZILlwT59zAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img&apos; title=&apos;&apos; src=&apos;/static/560643d1fffff0709bbd937029ed90ee/ca1dc/img.png&apos; srcset=&apos;/static/560643d1fffff0709bbd937029ed90ee/e7570/img.png 170w,
/static/560643d1fffff0709bbd937029ed90ee/f46e7/img.png 340w,
/static/560643d1fffff0709bbd937029ed90ee/ca1dc/img.png 680w,
/static/560643d1fffff0709bbd937029ed90ee/02d09/img.png 1020w,
/static/560643d1fffff0709bbd937029ed90ee/bbbf7/img.png 1280w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;2. CloudWatch 탭으로 이동해 대시보드 생성을 누르고 원하는 이름을 자유롭게 설정하면 됩니다.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/0331c20bd811f1910c43c5eff7533569/bbbf7/img_1.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 37.05882352941176%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsTAAALEwEAmpwYAAABVElEQVR42n1QO07EMBQ0HR1HoOIENFQ0ewUahBAVEhI9LTVXoKDkFkgcghIKWCVxNnE+/sRx4nh49rISBcLSyM/vMzPPTNQ1eLaG1AZrXiErOHiRI88JvEQtBETT/I+2g+gk3T2Y1w1mVcPPDtoM2PAM/PMDm5KjrGr0UkJp/SekUsmIFCVk/g5VZWA6FmWPaZkxDEMi+coKFGUJPViMboIbR4w/cM4lWGthjIYLwPT2gvb5Gvr1CcwQiZsmxKONIWWFTmnY2WOmnJ23QhP1zBQrctX3fYqjgJQKgr6lbZtUY7G5p2QiJDJLiuHxAeH8FOFyhXB/i4WGQ2wIIRFFhJAy5NKgoX+Mgt57MGtHKGO3RVIYYnBzAewz4ICwOgaWBbuzULz8ekfCuhZJJOZZXHParUyEifruCjgksqM94OwEgZRDMhiSC0+DO4dxw67rEmF0+A2cGgto4e/KRAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img 1&apos; title=&apos;&apos; src=&apos;/static/0331c20bd811f1910c43c5eff7533569/ca1dc/img_1.png&apos; srcset=&apos;/static/0331c20bd811f1910c43c5eff7533569/e7570/img_1.png 170w,
/static/0331c20bd811f1910c43c5eff7533569/f46e7/img_1.png 340w,
/static/0331c20bd811f1910c43c5eff7533569/ca1dc/img_1.png 680w,
/static/0331c20bd811f1910c43c5eff7533569/02d09/img_1.png 1020w,
/static/0331c20bd811f1910c43c5eff7533569/bbbf7/img_1.png 1280w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;대시보드가 처음 생성되면 아래와 같은 화면을 확인할 수 있습니다.&lt;/p&gt;
&lt;p&gt;여기서 왼쪽 하단에 있는 로그, 지표를 활용하여 인스턴스의 상태를 확인할 수 있습니다.&lt;/p&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/8da32217dfe291f366fcd7f8fbaf676f/bbbf7/img_2.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 42.35294117647059%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsTAAALEwEAmpwYAAABjElEQVR42mWSW0/UQBiG+6f9BdxwrXfGX4CReAWoXG3QBIPEBHCJ2lrXZg/Tdg6dnrvu49dVNgJN3nyTmc7zfocJbFmhfMUA2G+32Kd7lCJ9+ZH24gPl0SHm6jOuqvHeY11BmmVk2pAbQ5bnaOvIdY69OSDok5jh6CW8e00RhxQ6o8wU3jncZoMTI9f1WGsxsmckWolawEbkir8azbxNCdrlnGpyTP/pDL9cYMoSLyrkh0IuF8biJGrRcqVYKbWF+1LOR/n/JPeCUty6Yc34eXEa3XfA0VXW/dBvY5prVJpRNa2o2WZ2DygKmh8hnS8glzLVCvsv/TuYMZq3x2+If81J5nO+xzNuLs9IfkZUdUPxABpUX6fYJIHVAp+lO+AYh6Fmcp7wZO+U2SwmiiLqfsP1q30mh8/pNjJIZx8AZbK9NZAu8anaAcdy6nVP+P5CACd0/JZsnJRtefZiwpfbkLqpH5Ud1HHEuirB5DQCdneHI7jt0NMrFucysFb6KK1Racr1NJTnYh71bwT+ASTTVvFRPis5AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img 2&apos; title=&apos;&apos; src=&apos;/static/8da32217dfe291f366fcd7f8fbaf676f/ca1dc/img_2.png&apos; srcset=&apos;/static/8da32217dfe291f366fcd7f8fbaf676f/e7570/img_2.png 170w,
/static/8da32217dfe291f366fcd7f8fbaf676f/f46e7/img_2.png 340w,
/static/8da32217dfe291f366fcd7f8fbaf676f/ca1dc/img_2.png 680w,
/static/8da32217dfe291f366fcd7f8fbaf676f/02d09/img_2.png 1020w,
/static/8da32217dfe291f366fcd7f8fbaf676f/bbbf7/img_2.png 1280w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;*3. 지표 추가하기**&lt;/p&gt;
&lt;p&gt;지표 -&gt; 모든 지표를 누르면 아래와 같이 인스턴스 탭을 확인할 수 있습니다. 인스턴스 이외에도 다른 탭도 확인할 수 있습니다.
&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/5bbbbf57d11307eca3342d286b7fced6/bbbf7/img_3.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 29.411764705882355%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsTAAALEwEAmpwYAAABfElEQVR42j2QW0vVQRTFz3dQlBJL7cFLBWXeMS9HvB3QUsEoj9djlCIqoqKEImLgF/Bj+NpDXoJMjyfRIh/6EoI+eOE4s+fnnv8ffFiw9p41a2atyNVxkotvm5hfW3Cwg/t3hPubgv1tSP7Q3XY4J3dh7zt4ncd+qL+Hzvb8jIiZeg9lmUhDAVKRjR2JYfuiyrOQujykMhsz2IqNPce9foTU52MVxvOqByGqH+JeZZD+vaeGq1NIZynyoQHpqcQuJLAzcaS7Iti5jhekN75yDlyKIGJJK7/5k8K9VU13ld6rxr0p5/r/qRouJpCo/q7zJdJSiJ3sxY51Ia3F4UPNupsfwqzPY5bGkZUJZG0amelD2kqQ9qdI7BlOddcnh2o4O4DU5KiBHtY9xn7uCmJ7Li1FWoVGTMSCSnwsKdcqfEU+qq/Jo/EJrjaXm9RPIrfrc9h3tWrSjtWIZnkcszAacDvcpn02Yr58wnzsCLjtbwoRbwpnj3g08EifnnAHRgNQScYDIjMAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img 3&apos; title=&apos;&apos; src=&apos;/static/5bbbbf57d11307eca3342d286b7fced6/ca1dc/img_3.png&apos; srcset=&apos;/static/5bbbbf57d11307eca3342d286b7fced6/e7570/img_3.png 170w,
/static/5bbbbf57d11307eca3342d286b7fced6/f46e7/img_3.png 340w,
/static/5bbbbf57d11307eca3342d286b7fced6/ca1dc/img_3.png 680w,
/static/5bbbbf57d11307eca3342d286b7fced6/02d09/img_3.png 1020w,
/static/5bbbbf57d11307eca3342d286b7fced6/bbbf7/img_3.png 1280w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;EC2 탭을 누르고 들어오면 아래와 같은 화면을 볼 수 있고 인스턴스별 지표를 확인해야 하기 때문에 인스턴스별 지표를 누릅니다.&lt;/p&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/b1b03c65892087b31e1d9c6523fe246f/bbbf7/img_4.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 27.058823529411764%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA7ElEQVR42pWPy07DQAxF8+8oLBCPBVAJgbpjwwKxQEKs+AUW/AJNmuYxaZPMo/EcHCIkKrHB0tXYc6/t6+SzbsitZydgJFKEPeUoVEAZoda31XrnPJ0PtKptB8dWa6NcpZqGWdcon4yvj8giRZbn+KuU4fkB+3SPvU6xt6e4yyPc2wurfiSrt7gQGHR5WzWE5QX+5gR/d4ZfHOM+3km6osBnK6RcI0WGmJpo1N8mU4s56N/YNljdbozBO6teIqMOjtoTN/mMSdd3JEZP6PVUXcpeETSP3y2H+IkY44w/NCJCMpEHwvi7/X8xDfwCLv99Ar30kPMAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img 4&apos; title=&apos;&apos; src=&apos;/static/b1b03c65892087b31e1d9c6523fe246f/ca1dc/img_4.png&apos; srcset=&apos;/static/b1b03c65892087b31e1d9c6523fe246f/e7570/img_4.png 170w,
/static/b1b03c65892087b31e1d9c6523fe246f/f46e7/img_4.png 340w,
/static/b1b03c65892087b31e1d9c6523fe246f/ca1dc/img_4.png 680w,
/static/b1b03c65892087b31e1d9c6523fe246f/02d09/img_4.png 1020w,
/static/b1b03c65892087b31e1d9c6523fe246f/bbbf7/img_4.png 1280w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;인스턴스 지표를 누르면 현재 AWS에 가동 중인 모든 인스턴스를 확인할 수 있습니다.&lt;/p&gt;
&lt;p&gt;상단에 있는 검색 탭에 관측하고 싶은 인스턴스의 ID를 입력합니다. 예를 들면 i-0123456789 가 됩니다.&lt;/p&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/47ce30e0863e30070affb59a04b0832e/bbbf7/img_5.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 34.705882352941174%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsTAAALEwEAmpwYAAABEElEQVR42o2Qu07DQBREXUJHQ8FHpEhJDxUSDRUFHR2iQIJPQOInMSZeP4nf8TO2D3etKAogCMVo7+5qz8yOYVoWYZxQ1h1VXVOWJVXbUq3XlLLWTTOpkbnZ2WvlRYHvByyjiCD8mGYjzwsc18P1fIpVOQGXcpGFAVWeEcUxcZLK3Yq26+jEaFftxqTRJhLI0MOraYpDyDgMjED/8sRwegJ3V3hKYb5ZpGlK3/eM4/irenlvaIeFbZMkCWyA4/01HBhwNsN3BGi9k2f5XuCggboX21ZfgY83cCzAy7l835+AhVTzF2wL1AmVcn4mPBTg+YzAcViIhj3ptkBdqHK+AZ8fYH4Etxf40qFyXX36L+AnCL4K2Yk9BHwAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img 5&apos; title=&apos;&apos; src=&apos;/static/47ce30e0863e30070affb59a04b0832e/ca1dc/img_5.png&apos; srcset=&apos;/static/47ce30e0863e30070affb59a04b0832e/e7570/img_5.png 170w,
/static/47ce30e0863e30070affb59a04b0832e/f46e7/img_5.png 340w,
/static/47ce30e0863e30070affb59a04b0832e/ca1dc/img_5.png 680w,
/static/47ce30e0863e30070affb59a04b0832e/02d09/img_5.png 1020w,
/static/47ce30e0863e30070affb59a04b0832e/bbbf7/img_5.png 1280w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;4. 원하는 지표 확인하기&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/f4514e7e1d7d7220a89e95373f011f61/bbbf7/img_6.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 49.411764705882355%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAABkklEQVR42oWSO27cMBCGeQSfITfwEXyytGnSOidwuiBFmrQ5QwCnMIyFvY4eq+fyIfEl/flJyYGBLQzo03CGmhHnH4qHp784FiX6YYBU6oJRaVqiNZTWOdb1A4ZxpG/QMa/tOhSnDuWphTDGwHmPuK6Iy3JBiBExLhu7733Y4suKECIJcLSWdcQ0TVhiAF/AulwSPXHc53oJ2zrv8ftgt1j2Vz4rhLUz7DzBWZutnec30E9x5zf/db3npPX8msdYOqkwNkBKCSNHbjoeZG8rbG1lQvI3/sd2Ym59lyMVrI8HlPUJVVWRGk3TZsH1PgS9I6XaYwpKbWjStF2mTZa54liWqNUEzb+blDAOUGcWnAy0YZwaKw5uYsupvbekKTec8DbpPhcWw/evGD9/RP3jG6rJQ1HYmaQCaWBZW+rjnGNL/oLIgaZWvXf51OKp7HF4POC5atH/ucd4+wnu7gua4wuKXkLN1Jic+bN3MQ5CWo/nosLJUtxfP7FcX2G9+YDz/W88vBRseYbnrXBxhX+HdBf/AW/xAIIXcEZMAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img 6&apos; title=&apos;&apos; src=&apos;/static/f4514e7e1d7d7220a89e95373f011f61/ca1dc/img_6.png&apos; srcset=&apos;/static/f4514e7e1d7d7220a89e95373f011f61/e7570/img_6.png 170w,
/static/f4514e7e1d7d7220a89e95373f011f61/f46e7/img_6.png 340w,
/static/f4514e7e1d7d7220a89e95373f011f61/ca1dc/img_6.png 680w,
/static/f4514e7e1d7d7220a89e95373f011f61/02d09/img_6.png 1020w,
/static/f4514e7e1d7d7220a89e95373f011f61/bbbf7/img_6.png 1280w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;5. 대시보드에 지표 추가하기&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;다시 대시보드로 돌아와서 관측하고 싶은 지표를 추가합니다.&lt;/p&gt;
&lt;p&gt;우측 상단에 있는 + 버튼을 누르면 지표나 로그를 추가하는 화면을 볼 수 있습니다.&lt;/p&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/8da32217dfe291f366fcd7f8fbaf676f/bbbf7/img_7.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 42.35294117647059%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsTAAALEwEAmpwYAAABjElEQVR42mWSW0/UQBiG+6f9BdxwrXfGX4CReAWoXG3QBIPEBHCJ2lrXZg/Tdg6dnrvu49dVNgJN3nyTmc7zfocJbFmhfMUA2G+32Kd7lCJ9+ZH24gPl0SHm6jOuqvHeY11BmmVk2pAbQ5bnaOvIdY69OSDok5jh6CW8e00RhxQ6o8wU3jncZoMTI9f1WGsxsmckWolawEbkir8azbxNCdrlnGpyTP/pDL9cYMoSLyrkh0IuF8biJGrRcqVYKbWF+1LOR/n/JPeCUty6Yc34eXEa3XfA0VXW/dBvY5prVJpRNa2o2WZ2DygKmh8hnS8glzLVCvsv/TuYMZq3x2+If81J5nO+xzNuLs9IfkZUdUPxABpUX6fYJIHVAp+lO+AYh6Fmcp7wZO+U2SwmiiLqfsP1q30mh8/pNjJIZx8AZbK9NZAu8anaAcdy6nVP+P5CACd0/JZsnJRtefZiwpfbkLqpH5Ud1HHEuirB5DQCdneHI7jt0NMrFucysFb6KK1Racr1NJTnYh71bwT+ASTTVvFRPis5AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img 7&apos; title=&apos;&apos; src=&apos;/static/8da32217dfe291f366fcd7f8fbaf676f/ca1dc/img_7.png&apos; srcset=&apos;/static/8da32217dfe291f366fcd7f8fbaf676f/e7570/img_7.png 170w,
/static/8da32217dfe291f366fcd7f8fbaf676f/f46e7/img_7.png 340w,
/static/8da32217dfe291f366fcd7f8fbaf676f/ca1dc/img_7.png 680w,
/static/8da32217dfe291f366fcd7f8fbaf676f/02d09/img_7.png 1020w,
/static/8da32217dfe291f366fcd7f8fbaf676f/bbbf7/img_7.png 1280w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;어떤 그래프로 확인할 지 그래프를 선택한 후 다음을 눌러 앞 서 모든 지표에서 확인했던 방법과 동일하게 지표를 선택합니다.&lt;/p&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/c7f9b063d868b23e75d8f7dcfcd7ed07/bbbf7/img_8.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 75.29411764705883%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAAsTAAALEwEAmpwYAAACX0lEQVR42qVTy5LTMBD0Z/Jn/AkHblTBBThQQFEsy+6yiR0ndmLZkqyHLafpUZwDVDihqomUkadnumdUNG2L+x/3sNZinmfM04REk336h8VbvhihjUVhnIcyI2yc4OYF45SgeR7jGjgnzImJUsomwbJHST5f/Gn1uxBQHK3D990TnpsOBxPRxzP2bkFtJ5yaGm1zgFJ9Bvc+4EzwrQn4qQzqaodxdLm6ieACWmh+tNcWnZ/Qi4UEM58x0ubJIcUxZxYw5z0WVmMnBi8LvPjXu8yAoIVzFtH1aNsGTXuErEyRl7r6gLu6hqU2iQALTSp8HizefXsL27Ws/PJtzNpGFMM4YtN1UIOG6vusx3I+40zbP7zB+22JQJ0jNRUff1DagFfPFRNpWMZrNjTwPlcoyIY69MOQtcjCr4L7xCYxoCwrbLZbBNKbpCFmQNAah6ZFp1SuPK6dLjyRN2yICG9IzTCbXLAUnNj9Uz/wTuF4PGVw1oiB8uzLEgdK1HUqxwQpRioMwWHsSkx0iMBCS2hLxsAm9JRCAsQ/r53M1Lmypqs81/ui1wYfP39BXe/x8PiUhzMEyZaw3ZFqucFmU5Jan/USOa6Afy9JUAgNqaInNbF2paGNycHLchkHqVqAcsNwe8k3xZFD+ulxh+2hw+6kUbY9quPAs4FyM5TnXE7nrNHARsQbzzCuHb4MdkyoBg734Djgnq/Fo7GR/z0qNaKmv3Mpz5umPPIyrmbzPuY9zJfpKCIPxKSxCtp1//O8XAZ7pZxtbYiMUYoeof2FaBUKufif5flEY32H+uULjF9f4zcO04paYy9JAwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img 8&apos; title=&apos;&apos; src=&apos;/static/c7f9b063d868b23e75d8f7dcfcd7ed07/ca1dc/img_8.png&apos; srcset=&apos;/static/c7f9b063d868b23e75d8f7dcfcd7ed07/e7570/img_8.png 170w,
/static/c7f9b063d868b23e75d8f7dcfcd7ed07/f46e7/img_8.png 340w,
/static/c7f9b063d868b23e75d8f7dcfcd7ed07/ca1dc/img_8.png 680w,
/static/c7f9b063d868b23e75d8f7dcfcd7ed07/02d09/img_8.png 1020w,
/static/c7f9b063d868b23e75d8f7dcfcd7ed07/bbbf7/img_8.png 1280w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;위젯 생성 버튼을 눌러 위젯을 생성합니다.&lt;/p&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/f14a043219cd3d8867f05d123e10d28d/bbbf7/img_9.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 42.94117647058824%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAABIElEQVR42o1SW1LDMAz0/S/ACbgNX1yhfNFCk/ghPxQvK4e2gXYYMrNjvVdS5A6HN4QQ0FpDrfUHSil3tr8gInDvxyMW75GyIMkNniTmm5cFQTJiSgMX3zTPQ88543SecDzPOH18whVW7r0/xLrXgZu8rlgJk3GJo38miVNV/PuzAvuvCrDe8j0ndTY79uzfrH2X/Fu+6tmja7vyLFyPa40ja8Weu5PVAm0stfFoU8ZpLZufPi2CNYfR4UbQkbhTF7nguEyIfoGkOJCihxAphs3GN/PNwp8SNnsesXLVK8msATd7FvATAguO02EnlW/jbnVgOydtOro1v8VZssWYbnFNt2mc3VopvDkmZcqPIDyNOzttlitESBnnlydMr8/4AmWgwVGilApOAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img 9&apos; title=&apos;&apos; src=&apos;/static/f14a043219cd3d8867f05d123e10d28d/ca1dc/img_9.png&apos; srcset=&apos;/static/f14a043219cd3d8867f05d123e10d28d/e7570/img_9.png 170w,
/static/f14a043219cd3d8867f05d123e10d28d/f46e7/img_9.png 340w,
/static/f14a043219cd3d8867f05d123e10d28d/ca1dc/img_9.png 680w,
/static/f14a043219cd3d8867f05d123e10d28d/02d09/img_9.png 1020w,
/static/f14a043219cd3d8867f05d123e10d28d/bbbf7/img_9.png 1280w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;추가된 위젯을 확인하고 저장버튼을 눌러 저장합니다.&lt;/p&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/3b6a55a196c559a0dafe6580c908be1d/bbbf7/img_10.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 31.76470588235294%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsTAAALEwEAmpwYAAABG0lEQVR42m2QTUrEQBCF5+pzAd2IWw/g1q3gRgQP4AUEmcnMJP2XTv9/VrcKIia8vKKofF2vd/ruBn29Z7naox7ucS9PrM+P6OMB5z0XZTgvCqU0xli0MUynM5d5YZb+qft8Znq9ZXp/Y+cuJ+x0YD1NxM1TgUIjl0KtFedWFqXwAi+lUqTXPeWMsRalNVpk5w+MntnZPlg7Rp7WoNfdcxh1lh9jyjLTqNLfUiGVNsatcwNqrbjzIidA+YQYv3jy9q1aybTkaTnKNgW3RVzIKB/RWxp1E/gP8LcGMMVASZEsChI7OEMIGzWnsaH9hhz1hpG6y8eMWx36L3CVyNquOMlv1CKARJQD+h3FKHVKI04/uNQy0oxrEP9vw08xWc1DpjcpkwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img 10&apos; title=&apos;&apos; src=&apos;/static/3b6a55a196c559a0dafe6580c908be1d/ca1dc/img_10.png&apos; srcset=&apos;/static/3b6a55a196c559a0dafe6580c908be1d/e7570/img_10.png 170w,
/static/3b6a55a196c559a0dafe6580c908be1d/f46e7/img_10.png 340w,
/static/3b6a55a196c559a0dafe6580c908be1d/ca1dc/img_10.png 680w,
/static/3b6a55a196c559a0dafe6580c908be1d/02d09/img_10.png 1020w,
/static/3b6a55a196c559a0dafe6580c908be1d/bbbf7/img_10.png 1280w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h2&gt;CloudWatch Agent 설치&lt;/h2&gt;
&lt;p&gt;CloudWatch에서 기본적으로 제공하는 정보는 CPU, Network I/O 등과 같은 기본적인 정보만 제공합니다.&lt;/p&gt;
&lt;p&gt;인스턴스의 메모리, 스왑 메모리, 디스크 I/O 등 보다 자세한 정보를 확인하기 위해서는 &lt;code class=&quot;language-text&quot;&gt;CloudWatch Agent&lt;/code&gt;를 설치해야 합니다.&lt;/p&gt;
&lt;p&gt;AWS CloudWatch 공식 문서에 설치 방법이 자세히 잘 나와있습니다.&lt;/p&gt;
&lt;p&gt;저희 팀은 &lt;code class=&quot;language-text&quot;&gt;Ubuntu22.04 ARM&lt;/code&gt;을 사용 중이므로, Ubuntu22.04 ARM 기준의 설치 방법을 알려드리겠습니다.&lt;/p&gt;
&lt;p&gt;CloudAgent 패키지를 다운로드하는 과정 이외에는 다른 환경도 동일하게 적용됩니다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;1.ARM or AMD 확인&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;우선 사용하고 있는 인스턴스의 아키텍처를 확인합니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;lscpu &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; grep &lt;span class=&quot;token string&quot;&gt;&quot;Vendor ID&quot;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/896b1cda8e727534a5bdaa0c1f518aeb/bbbf7/img_11.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 5.88235294117647%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAABCAYAAADeko4lAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAPklEQVR42mOwc3D4b+fs9F/f2va/jrXNfx0z6/9GRnb/zcwd/9vZe/43NrEHsp3+6+lb/VfXMPmvoWmKFwMAGiUgCn0CQUcAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img 11&apos; title=&apos;&apos; src=&apos;/static/896b1cda8e727534a5bdaa0c1f518aeb/ca1dc/img_11.png&apos; srcset=&apos;/static/896b1cda8e727534a5bdaa0c1f518aeb/e7570/img_11.png 170w,
/static/896b1cda8e727534a5bdaa0c1f518aeb/f46e7/img_11.png 340w,
/static/896b1cda8e727534a5bdaa0c1f518aeb/ca1dc/img_11.png 680w,
/static/896b1cda8e727534a5bdaa0c1f518aeb/02d09/img_11.png 1020w,
/static/896b1cda8e727534a5bdaa0c1f518aeb/bbbf7/img_11.png 1280w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;2. Cloudwatch Agent 다운&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;다음 명령어를 통해 Agent를 다운로드합니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;&lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;wget&lt;/span&gt; https://s3.amazonaws.com/amazoncloudwatch-agent/ubuntu/arm64/latest/amazon-cloudwatch-agent.deb&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;여기서 주의할 점 !&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;클라우드 와치를 다운받은 후 설정을 마치고 적용하는 과정에서 알 수 없는 &lt;strong&gt;403 예외가 발생&lt;/strong&gt;했었습니다.&lt;/p&gt;
&lt;p&gt;[processors.ec2tagger] ec2tagger: unable to describe ec2 tags for initial retrieval: unauthorizedoperation: you are not authorized to perform this operation.&lt;/p&gt;
&lt;p&gt;구글링을 해보니 IAM 권한과 관련된 예외인 것 같았는데, IAM에 접근할 수 있는 권한이 없어서 몇 시간 동안 헤매었습니다..&lt;/p&gt;
&lt;p&gt;결론은 &lt;code class=&quot;language-text&quot;&gt;sudo&lt;/code&gt;와 함께 패키지를 설치하니 해결되었습니다. sudo ! &lt;/p&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/fc90e2cebcef84d633349e2be9377809/bbbf7/img_12.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 20%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA10lEQVR42j2P3XKDIBBGfZqm0Ro1QUVAE0EiGI0X6c/7P8lX2Jn24sx+O7B7ZhPpFgjnwe0MeXO4jQ9os2GyO4x5wuqA2WGnnarRG/S40r/h6gNLyCtU71CUEol3Lyz+E4/lC9v2A7+8sK7fsG4HbzSqVICVA85lj5aNqAqFPONIsxaHY41j2gRqvB1Y4IJE9jOEvEMNjozRpNSMC7siL7owxPAeBiKU45KsoYV/fOT8PyedsODdBKp8Qlkp1M1IvRD3IIvvhiBxkDWtRn4SdGKkOg/UR34BDxSHEd6iigsAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img 12&apos; title=&apos;&apos; src=&apos;/static/fc90e2cebcef84d633349e2be9377809/ca1dc/img_12.png&apos; srcset=&apos;/static/fc90e2cebcef84d633349e2be9377809/e7570/img_12.png 170w,
/static/fc90e2cebcef84d633349e2be9377809/f46e7/img_12.png 340w,
/static/fc90e2cebcef84d633349e2be9377809/ca1dc/img_12.png 680w,
/static/fc90e2cebcef84d633349e2be9377809/02d09/img_12.png 1020w,
/static/fc90e2cebcef84d633349e2be9377809/bbbf7/img_12.png 1280w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;3. 패키지를 디렉토리로 압축 해제&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;&lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; dpkg &lt;span class=&quot;token parameter variable&quot;&gt;-i&lt;/span&gt; &lt;span class=&quot;token parameter variable&quot;&gt;-E&lt;/span&gt; ./amazon-cloudwatch-agent.deb&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;4. CloudWatch Agent시작&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;압축 해제까지 모두 마치면 클라우드 와치를 적용하는 일만 남았습니다.&lt;/p&gt;
&lt;p&gt;여기서 클라우드 와치를 적용할 수 있는 방법은 2가지가 있는데 직접 config.json 파일을 생성하거나 wizard를 이용하여 시작할 수 있습니다. Wizard로 시작하게 되면 기본 config.json 파일을 생성해 주기 때문에 저는 wizard로 시작했습니다.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;Wizard&lt;/code&gt;를 실행하는 명령어입니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;&lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; /opt/aws/amazon-cloudwatch-agent/bin/amazon-cloudwatch-agent-config-wizard&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;명령어를 입력하면 아래와 같이 질문에 대한 답을 입력하는 문구가 나옵니다.&lt;/p&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/97ff952f093a6dcac8f09c1af0457924/bbbf7/img_13.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 41.76470588235294%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsTAAALEwEAmpwYAAABI0lEQVR42oWQ63KCQAyFeZcWFXpd7rALqwtysaId60x/9f0fI90TK9aZXn6cSUKyX05wlOqobnZUVgNJ2VJlo6lHKoo1Nc1+6unlC6myo5XZ2nzDebPec/74JGm+iGjhxeQEYUWFBWEgSQ3lFpRmNQNRR/GSe1lecw+zSbriXKqW6ysgBrv+QG33ytv64c066nkwTlYc4RiQQp6AZzAcIt4/5Beg/DrZmJHPwVClB3aZQXnDOQRHcWJIBCXhMiiMtHVYXICq7K2rA2m9mYa+nw6hhrBIBBV5fkL+XToJNWAMhOXj8YPqescf0MQ2dxawZnPE0MaQbl3U0fT4Jznb8f3KRRRrehaKoYB7fsw6L/sLxkAhSrpxBQPg4vQvon8f/gb8BDZ+BvN6lrPaAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img 13&apos; title=&apos;&apos; src=&apos;/static/97ff952f093a6dcac8f09c1af0457924/ca1dc/img_13.png&apos; srcset=&apos;/static/97ff952f093a6dcac8f09c1af0457924/e7570/img_13.png 170w,
/static/97ff952f093a6dcac8f09c1af0457924/f46e7/img_13.png 340w,
/static/97ff952f093a6dcac8f09c1af0457924/ca1dc/img_13.png 680w,
/static/97ff952f093a6dcac8f09c1af0457924/02d09/img_13.png 1020w,
/static/97ff952f093a6dcac8f09c1af0457924/bbbf7/img_13.png 1280w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;웬만한 설정은 default 설정을 따라기시면 됩니다.&lt;/p&gt;
&lt;p&gt;한 번씩 읽어보고 상황에 맞는 설정을 해주는 것이 좋습니다.&lt;/p&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/79bd0a7bf3e02af0e0bcd1c2862cb141/bbbf7/img_14.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 73.52941176470587%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAAsTAAALEwEAmpwYAAABhUlEQVR42p1S23aCQAzkawQVL4CwsMByV/HS/v/XpJkA2p5jK6cPc5LdhckkGSvLz5RlJ9LpkSRnFOVFYsr3uTmP9yfabDXZzoGcZfgrLFP01LQfVNU3KqurkBjTCymK4B33ZXUjd5O8J6ybOwFVfWc1vZDEScuxo5Rzzze022ccc1q78Z9kQth2n9ISDqu14p8ULVchI5IzFC2g6o2yByFmk7Ci4FDQzktFBVoDQIiI2c0hE8JhASeZXZw0kuesWOuOW03JD4wUg+JZhKa4yNBV3IyqhlYnLGxu2Q7mK8QiwqiiPQ/eDwoZ/t7LJULdXKIfW4Y1NttE2oIawHaCtxZ5SZjoVhRiTsO8SlKqoe1O/48wzY9CBr9NPpsWAEJb4pg/ED7fvxVFbsUaljGiDgAx5ocih5Dhe+R7MecVo5RvEPENOkM+zRz/iA8jVcsD2sSWoRQGH4zO53HjUP4a4SO3lK4HZWOVYbuFVIUPEVEM+RwvsrH7kSijlatku85yms0zzsUX0OTbhfOiUMwAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img 14&apos; title=&apos;&apos; src=&apos;/static/79bd0a7bf3e02af0e0bcd1c2862cb141/ca1dc/img_14.png&apos; srcset=&apos;/static/79bd0a7bf3e02af0e0bcd1c2862cb141/e7570/img_14.png 170w,
/static/79bd0a7bf3e02af0e0bcd1c2862cb141/f46e7/img_14.png 340w,
/static/79bd0a7bf3e02af0e0bcd1c2862cb141/ca1dc/img_14.png 680w,
/static/79bd0a7bf3e02af0e0bcd1c2862cb141/02d09/img_14.png 1020w,
/static/79bd0a7bf3e02af0e0bcd1c2862cb141/bbbf7/img_14.png 1280w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;설정을 진행하다 보면 &lt;strong&gt;현재까지 작성된 config 파일 정보를 확인할 수 있습니다.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/485348618c6ff035439e75e0dc26e64a/bbbf7/img_15.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 106.47058823529412%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAVCAYAAABG1c6oAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB1klEQVR42qVUWXbCMAz0Ydj37PtKCEvT0v709f4XUT12RVMekDz6IeIEazSasSXCqKY4OdBobNF4YtNk6vwrRJodqSgbmi88WiwDGT5NZ+7T4ArQ87cySnK9gmwnl+AaFMEbZ3O3H2CWnyiKawXqeqV6Wnb2U2RLjptTEFbyW96LtQjCHb2dv6jandUHJDG7dvRuGfo1r5+UpAdarSNayHYBCpOe0jAvGgJLtOsHlQq0vN5ELYZOb5bCcQvaGDHhCWDDTJUxppXScGQqphxg3qWjmExtlQgQZgmGGyPRRrnaeRREEcNMHrIV+MGG2dxTwEiMkz3hOAEcrP1gq7qAxstV1A2I0ImVYgUmy1UoAXTg/8HQkAWtPi3rBVdFe2g5zU5U1e+UFy8UymIowkbpo9UByPFrgF4DBGBJeqSdLIC7D60Z+JqxuEedEyADQMAcT7xDZ+iK28NXlYHFIz2wCexgUlk26goiGYFBotfeH5PEPXbYzOvB0LycSUjBxXq3zK1iAuG4gOW1KZ0u3wvTyqROhZqZ9f5D6YgjhuN1C1zcYqfnn6dahAFw1ZIMAcRgGHn4D4G9F1NYEx4ErF1bQyRgwCK6RpvAZhzSNsBtXZ2LIfx+S8NvYHeS+lkI+agAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img 15&apos; title=&apos;&apos; src=&apos;/static/485348618c6ff035439e75e0dc26e64a/ca1dc/img_15.png&apos; srcset=&apos;/static/485348618c6ff035439e75e0dc26e64a/e7570/img_15.png 170w,
/static/485348618c6ff035439e75e0dc26e64a/f46e7/img_15.png 340w,
/static/485348618c6ff035439e75e0dc26e64a/ca1dc/img_15.png 680w,
/static/485348618c6ff035439e75e0dc26e64a/02d09/img_15.png 1020w,
/static/485348618c6ff035439e75e0dc26e64a/bbbf7/img_15.png 1280w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;계속해서 진행하다 보면 &lt;code class=&quot;language-text&quot;&gt;Do you want to monitor any log files?&lt;/code&gt;이라는 질문이 나옵니다.&lt;/p&gt;
&lt;p&gt;인스턴스 내에 &lt;strong&gt;로그를 클라우드 워치로 전송하기를 원하면 1, 그렇지 않으면 2&lt;/strong&gt;를 누르면 됩니다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;지금 설정하지 않아도, 이후에 파일로 가서 직접 수정할 수 있기 때문에 크게 중요하지 않습니다 !!&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Do you want to store the config in the SSM parameter store?&lt;/p&gt;
&lt;p&gt;질문에는 &lt;code class=&quot;language-text&quot;&gt;2. no&lt;/code&gt; 를 선택하시면 됩니다.&lt;/p&gt;
&lt;p&gt;설정이 끝나면 &lt;code class=&quot;language-text&quot;&gt;/opt/aws/amazon-cloudwatch-agent/bin/&lt;/code&gt; 위치에 &lt;code class=&quot;language-text&quot;&gt;config.json&lt;/code&gt; 파일이 생성됩니다.&lt;/p&gt;
&lt;p&gt;config.json 파일을 열어봅시다.&lt;/p&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/756d4178e06253cc3b0524aed8fdcf77/bbbf7/img_16.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 84.70588235294117%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAAAsTAAALEwEAmpwYAAABq0lEQVR42pVUSXLjMBDLZ8YSd4mrVE5ck/8/CkFTduwab5oDShuJ7gYgfmjdoHXB7BKCX3mfr1AZhldjKhTXjOo9PgbZZBqsrUihofgJyc8oU0ULBYGFJr/Acs2wj7CQrHFTZYcNwSZENyOGBdqs+DMWHEZZnKHOm9QN7givD7mPbk3u46epIfrSCwTX+L2RuHbyw5hZKPf7YXxKWPpIgstCKaC16FeROX60Acf1G1/phGNYUal5JIZnhM8ghJ854Wu2OKWAUzviL0kXkiYxkqa9JFSq/nYmV3ln6bbIYXSiiem1hn3zmWhUQnRxNN/JcYvHLlMrR5cjjYhBXBZjErx0Y5au5Z64PBzZGiFPKCGixoaZUZpcIVaOyu6Jge7+6+wulx2jIgFvIeE0NzrKnNrMghXuRcgfmiJdeBKWQMJYe+iNjl0KZzeJxr2E4qyxrRslQd4CvXV9UFs+d498IYyh9oOi/4Y+9/BaOu/EJPWfhILDUDjyQqJEDTM+eVAsLFK9vH+j4dB/+i28cpRtYd5GliBrBvkW1tTu+FPCy2Z1Z8x1tOE2BW80/AF0AgojW6GUNAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img 16&apos; title=&apos;&apos; src=&apos;/static/756d4178e06253cc3b0524aed8fdcf77/ca1dc/img_16.png&apos; srcset=&apos;/static/756d4178e06253cc3b0524aed8fdcf77/e7570/img_16.png 170w,
/static/756d4178e06253cc3b0524aed8fdcf77/f46e7/img_16.png 340w,
/static/756d4178e06253cc3b0524aed8fdcf77/ca1dc/img_16.png 680w,
/static/756d4178e06253cc3b0524aed8fdcf77/02d09/img_16.png 1020w,
/static/756d4178e06253cc3b0524aed8fdcf77/bbbf7/img_16.png 1280w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;크게 &lt;code class=&quot;language-text&quot;&gt;agent&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;logs&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;metrics&lt;/code&gt;로 나뉘는데 agent는 계정과 권한에 관련된 부분이고 logs는 로그와 관련된 부분, metrics는 인스턴스 내의 모니터링과 관련된 부분입니다. 자세한 설정은 CloudWatch docs를 참고하시면 됩니다 !&lt;/p&gt;
&lt;p&gt;metrics에는 mem 이외에 cpu, disk, swap 등이 있습니다.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://docs.aws.amazon.com/ko_kr/AmazonCloudWatch/latest/monitoring/CloudWatch-Agent-Configuration-File-Details.html#CloudWatch-Agent-Configuration-File-Metricssection&quot;&gt;https://docs.aws.amazon.com/ko_kr/AmazonCloudWatch/latest/monitoring/CloudWatch-Agent-Configuration-File-Details.html#CloudWatch-Agent-Configuration-File-Metricssection&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;관측하고 싶은 자원에 대한 설정을 모두 마친 후 아래의 명령어를 실행해 CloudWatch Agent를 실행합니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;&lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; /opt/aws/amazon-cloudwatch-agent/bin/amazon-cloudwatch-agent-ctl &lt;span class=&quot;token parameter variable&quot;&gt;-a&lt;/span&gt; fetch-config &lt;span class=&quot;token parameter variable&quot;&gt;-m&lt;/span&gt; ec2 &lt;span class=&quot;token parameter variable&quot;&gt;-c&lt;/span&gt; file:/opt/aws/amazon-cloudwatch-agent/bin/config.json &lt;span class=&quot;token parameter variable&quot;&gt;-s&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;/opt/aws/amazon-cloudwatch-agent/logs에 있는 amazon-cloudwatch-agent.log를 확인하면 정상적으로 실행되는지 로그를 확인할 수 있습니다.&lt;/p&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/738167de1e7ff848ec198b34bac295a8/bbbf7/img_17.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 35.88235294117647%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsTAAALEwEAmpwYAAABZUlEQVR42j2R/XKCMBDEeZVOqwIqoIgKAUEIEL5ErdU+T2fa197epWP/2LnLwfyyezHStEVZnXHMexTyhMOhwT6UiBOlKyuhWSQqmtV6LuIaYVTqnmfc+0EK1xMwqvqCvCAQgfmH7NhR32jw2j9gvthjsQyxdCJSqPU8P6vj/onPGjicHmi7m3badh+o1RWSHMu8Q57RRZGEIIfsNGZ35Jpdsba7HN4q1mK4IeWIvr9rCLus66uGimKELxRsP8PEEZjZW5jmBm/WFi/WDq9mANMKMJ35mEzXVDeY0cyQJQGHO1Rz1XFV+46e9BVu8O1Z+F7b+Nk4iN09TIpU2x4epg1JdU4XOa7QURnO0kCO3LQ3pBTvNH5S9BGXasCQKQx5AxUXiEVJ33soN8A4tZBZHmwCPXf3D6zqM8W9gGtyULrn106LAUdaR5J1CGlvvKtge8TSTzFb0WOtEgRBph/NonVYdqD7X+Ol75+VJkDWAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img 17&apos; title=&apos;&apos; src=&apos;/static/738167de1e7ff848ec198b34bac295a8/ca1dc/img_17.png&apos; srcset=&apos;/static/738167de1e7ff848ec198b34bac295a8/e7570/img_17.png 170w,
/static/738167de1e7ff848ec198b34bac295a8/f46e7/img_17.png 340w,
/static/738167de1e7ff848ec198b34bac295a8/ca1dc/img_17.png 680w,
/static/738167de1e7ff848ec198b34bac295a8/02d09/img_17.png 1020w,
/static/738167de1e7ff848ec198b34bac295a8/bbbf7/img_17.png 1280w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;5. 대시보드에 추가&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;대시보드로 돌아와 위젯 추가를 눌러 지표를 확인합니다.&lt;/p&gt;
&lt;p&gt;아래와 같이 사용자 지정 네임스페이스 구역을 확인합니다. 저는 config.json을 설정할 때 네임스페이스를 따로 설정하지 않았으므로 기본인 CWAgent에 추가됩니다.&lt;/p&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/2f1fb204d2849661627fdfe300843112/bbbf7/img_18.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 54.70588235294118%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABf0lEQVR42o2Sy07DMBBF/dVICFbsEIIFX8AHsEBIrKjYUDYItiyQKloKSZ20TZrEThrbvczkQR9QSqSj2HOdmfGdCCkD9PsD+P4I1loYY/5BCVOWy3253ItZkiAcjxHFMbTWyPN8N0UBXcyh86JaryKmUYTRaFQlTbOMDuV/oqgovzNKmOk2XnzrwjmH357FYrEVR7A9rlm3sCZUFCLy+wiow0/PR/99iA/Pgy8lZBAiJkuSNF2DbYri2Y84I2Qg0ev1EE4myJSqrt2SEXzFrdD5ipWY4KxvgyGmUQyVa/JFI6VDnFyRJ2mzn9MUS5riLgSPekLdSRnCo1+HE7Gv7NEaHNuEvdyICV0aeGmJwjqeRGUsZURCgzHdDnB2CEzCdlIkLaB5jrdXwPEe8NSttaaAMHQtG01h06TqrIVFk6Vw4wBOZesaFbfJrNa0qqfcaMK8vsCdH8FdXiw/IhsUFS0f7+FO9uHubsBNueb6s7mD6VzDnR7APT/UGntoLb4A51xQe7OFobIAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img 18&apos; title=&apos;&apos; src=&apos;/static/2f1fb204d2849661627fdfe300843112/ca1dc/img_18.png&apos; srcset=&apos;/static/2f1fb204d2849661627fdfe300843112/e7570/img_18.png 170w,
/static/2f1fb204d2849661627fdfe300843112/f46e7/img_18.png 340w,
/static/2f1fb204d2849661627fdfe300843112/ca1dc/img_18.png 680w,
/static/2f1fb204d2849661627fdfe300843112/02d09/img_18.png 1020w,
/static/2f1fb204d2849661627fdfe300843112/bbbf7/img_18.png 1280w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;CWAgent -&gt; host로 이동해 hostname을 보면 인스턴스 아이디로 설정되어 있습니다.&lt;/p&gt;
&lt;p&gt;본인의 인스턴스 아이디를 찾아서 위젯으로 추가하면 됩니다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;6. CloudWatch로 로그 관측하기&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;인스턴스 내에서 남기고 있는 로그를 클라우드 워치를 이용해 관측할 수 있습니다. 예를 들어 스프링 서버에서 남기고 있는 로그, NginX에서 남기고 있는 로그등을 클라우드 워치로 관측할 수 있습니다.&lt;/p&gt;
&lt;p&gt;지표를 설정했던 것과 동일하게 config.json 파일에 원하는 로그 파일을 설정하면 됩니다.&lt;/p&gt;
&lt;p&gt;logs -&gt; logs&lt;em&gt;collected -&gt; files -&gt; collect&lt;/em&gt;list의 value 값에 로그 파일 위치, 로그 그룹 이름, 로그 스트림 이름을 설정합니다.&lt;/p&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/71c14d4a0634793047f8e56b7cf46cea/bbbf7/img_19.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 31.76470588235294%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsTAAALEwEAmpwYAAABSElEQVR42m2QvS8EQRjGN4RKofWRKIVSJAqE9ioFQVQi12oV4m9QKZUSUan8CwrJdRrtHfFxd/s1O7s7O7v7886GnMIkT56Zyby/533HC/OCz8xggSiOee8P+Rr4xEqRpilaaxKRO4dR1LiTSpLm3nnU6xB1n/D9IV51d409aVGfHaPeunwMh3R7r/hRjB9GpLnB2JIkzQSUoLOM1BiUhDk3hSF9uSd+viUIBFh0HslurrAPd6hBnzjRkhQQCEzJPpciay15nssEiqxxCQsCIgktbEGcWRJTNt16iaRnZYVb7iKVMerzNuyuwdE29eFmo+pgg3J/feRHW9Q7K1SXF5RSW1nTfJFntKLM9QgoorUK0x7MjcGMN9LsH58fhynx9h611NZVhXZA11Eorf8CtQO67hbk8dIELI7/r+VJCfSoT/d/gGUD/AZnGpNr00W/TAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img 19&apos; title=&apos;&apos; src=&apos;/static/71c14d4a0634793047f8e56b7cf46cea/ca1dc/img_19.png&apos; srcset=&apos;/static/71c14d4a0634793047f8e56b7cf46cea/e7570/img_19.png 170w,
/static/71c14d4a0634793047f8e56b7cf46cea/f46e7/img_19.png 340w,
/static/71c14d4a0634793047f8e56b7cf46cea/ca1dc/img_19.png 680w,
/static/71c14d4a0634793047f8e56b7cf46cea/02d09/img_19.png 1020w,
/static/71c14d4a0634793047f8e56b7cf46cea/bbbf7/img_19.png 1280w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
로그 그룹은 클라우드 워치 왼쪽의 로그 -&gt; 로그 그룹에서 생성할 수 있습니다.&lt;/p&gt;
&lt;p&gt;로그 스트림 이름은 config.json 파일에 명시한 log&lt;em&gt;stream&lt;/em&gt;name이 로그 그룹에 존재하지 않으면 자동으로 생성합니다.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;file_path: 인스턴스 내에 로그 파일의 경로&lt;/li&gt;
&lt;li&gt;log&lt;em&gt;group&lt;/em&gt;name: CloudWatch에서 생성한 로그 그룹 이름&lt;/li&gt;
&lt;li&gt;log&lt;em&gt;stream&lt;/em&gt;name: 원하는 로그 스트림 이름. 로그 스트림으로 클라우트 와치에서 필터링할 수 있습니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token property&quot;&gt;&quot;agent&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;token property&quot;&gt;&quot;metrics_collection_interval&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;60&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token property&quot;&gt;&quot;logs&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;token property&quot;&gt;&quot;logs_collected&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                        &lt;span class=&quot;token property&quot;&gt;&quot;files&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                                &lt;span class=&quot;token property&quot;&gt;&quot;collect_list&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
                                        &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                                                &lt;span class=&quot;token property&quot;&gt;&quot;file_path&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;/home/ubuntu/log/pium-prod-**.log&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                                                &lt;span class=&quot;token property&quot;&gt;&quot;log_group_name&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;2023-pium-prod&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                                                &lt;span class=&quot;token property&quot;&gt;&quot;log_stream_name&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;spring-prod-log&quot;&lt;/span&gt;
                                        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                                        &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                                                &lt;span class=&quot;token property&quot;&gt;&quot;file_path&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;/var/log/nginx/access.log&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                                                &lt;span class=&quot;token property&quot;&gt;&quot;log_group_name&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;2023-pium-prod&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                                                &lt;span class=&quot;token property&quot;&gt;&quot;log_stream_name&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;nginx-access-log&quot;&lt;/span&gt;
                                        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                                        &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                                                &lt;span class=&quot;token property&quot;&gt;&quot;file_path&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;/var/log/nginx/error.log&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                                                &lt;span class=&quot;token property&quot;&gt;&quot;log_group_name&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;2023-pium-prod&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                                                &lt;span class=&quot;token property&quot;&gt;&quot;log_stream_name&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;nginx-error-log&quot;&lt;/span&gt;
                                        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
                                &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
                        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;config.json 파일을 수정한 후 다시 &lt;strong&gt;에이전트 실행 명령어를 입력해 수정된 config 파일 내용을 적용시킵니다.&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;&lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; /opt/aws/amazon-cloudwatch-agent/bin/amazon-cloudwatch-agent-ctl &lt;span class=&quot;token parameter variable&quot;&gt;-a&lt;/span&gt; fetch-config &lt;span class=&quot;token parameter variable&quot;&gt;-m&lt;/span&gt; ec2 &lt;span class=&quot;token parameter variable&quot;&gt;-c&lt;/span&gt; file:/opt/aws/amazon-cloudwatch-agent/bin/config.json &lt;span class=&quot;token parameter variable&quot;&gt;-s&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;정상적으로 적용되면 로그 그룹 내에 로그 스트림이 생성되는 것을 확인할 수 있습니다.&lt;/p&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/8158630bad633bd18428e3e95146b10d/bbbf7/img_20.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 21.764705882352942%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAtklEQVR42mVQ2Y7EIAzr///lttOHUsJ9l+JNGWlXmiGyEIltOSxEhJ91hdIGuRSklFD4bq19wXmPECOscxCnxLbtIG1xCAkhTpDSWKzz0+xkgjEGShl4H9i0Iufyh5Ty7CutQaTgWEckcSgL4zlEzrO3VE7jQsTJg9ou3L2jXxeuD2QWbOuG174j8haRkz6px31PfmddrRXL8wi1Q/iGUDqAMevzjDHwfI+1DlISjkNM0/fsn/cLxrs1YzT2TTcAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img 20&apos; title=&apos;&apos; src=&apos;/static/8158630bad633bd18428e3e95146b10d/ca1dc/img_20.png&apos; srcset=&apos;/static/8158630bad633bd18428e3e95146b10d/e7570/img_20.png 170w,
/static/8158630bad633bd18428e3e95146b10d/f46e7/img_20.png 340w,
/static/8158630bad633bd18428e3e95146b10d/ca1dc/img_20.png 680w,
/static/8158630bad633bd18428e3e95146b10d/02d09/img_20.png 1020w,
/static/8158630bad633bd18428e3e95146b10d/bbbf7/img_20.png 1280w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;생성된 로그 스트림을 바탕으로 대시보드에 로그 위젯을 추가할 수 있습니다.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;지표 대신 로그를 선택해서 추가할 수 있습니다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;로그 별로 위젯을 구분하려면 쿼리를 실행할 때 filter 옵션을 추가&lt;/strong&gt;해 주시면 됩니다.&lt;/p&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/8c640fde0055838025cb7e31ae290ffc/bbbf7/img_21.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 77.05882352941177%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAAsTAAALEwEAmpwYAAACZ0lEQVR42o1UW47UMBDM7TgmF4ATIPHDF0JCIMQKodnZUV7zyCZ2Er9jp+h2ZkYrVkhEKrXHbbery+UpyrLEbveIJYQ74kIxY8kxhNeIObfcfzvnoJRGYUKCch6zD9BLIkT0JmByvMjDh21jSgmRkIvQGu0XylHhGHNuoRgoV9TDgIdqj6fzgNNkMQagVhGdChBdg9OpRT+IzEAbA6SIA637NSi0TYtxmmCtzcW4aKGsh7QLJh8x2oCZGDMssV2TJwYOnhZbYmupKLO0xDCmNRdgls77POZcofQINfeoqhpd9wz+YqT2vMZl/xHf6yMmKWlDQlrXzHAnFN5/+QBxbmDoIGbv/aZ5MWiNljZoivM83bVaF4fm8BkPlx7BuswkJS6Y0FFXn04ChvYYkkEplVmynkWggZpnCCHzCTx5uz0TV4x0GLvgcf+UNQzE1I0SVgxo2iNO53Ne728FZzq97UcqKKDyafrKJkIaBzmrPDdNMwyJzySn/hnHpkFPe3heEVNmmLigNQqT6KjdGeM45klmx5o4a/ItshybtluOZfn7W0lfRnE8H/Htx9dMv6prTMSImQTy36EqsT+QpQ4lhBxzju2RL+dlsRfjgqkas3mMmTAjboO9dVu8XM17pbLhH1/BBfj5sbjnS4dLt4HNzEL7a4uVpFsnMwsbMTDMgl6HKzwGgiYvF2wRFpXb1MZmT9n8KixmsgPnuH0uuDtJ1EKjItTCoBo0GmlQUmx1ggykIZ/OYnJMt3gd34TOb5Wulx4QPFlpA7bfDPoDcf1vLLrbCv4P1vU1yOXQ9GyDLCHfvUH4+RZ/AJ8Bib8BiioEAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img 21&apos; title=&apos;&apos; src=&apos;/static/8c640fde0055838025cb7e31ae290ffc/ca1dc/img_21.png&apos; srcset=&apos;/static/8c640fde0055838025cb7e31ae290ffc/e7570/img_21.png 170w,
/static/8c640fde0055838025cb7e31ae290ffc/f46e7/img_21.png 340w,
/static/8c640fde0055838025cb7e31ae290ffc/ca1dc/img_21.png 680w,
/static/8c640fde0055838025cb7e31ae290ffc/02d09/img_21.png 1020w,
/static/8c640fde0055838025cb7e31ae290ffc/bbbf7/img_21.png 1280w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/946eba9914d8d597faa493cf2bab1066/bbbf7/img_22.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 57.64705882352942%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAABvUlEQVR42o2Sy27UMBSG/Szs2fEAsGbTNU+KkLgIdU9FoR2qTqFNokwymcTj2I5jO/l7jjsD0swINdInX+Lzn6u4vPyBbxcXuF4soLVG3ytoY6GMg3UjQvBESHj/tI/x3/kQcXW9wHcSvb1dIssLZFmGom6xXElU0mAg0cG5hBtH2GFAT461MXB0dyRY1Q3KVYW2k2Q0wNgBAxkZ3cM4T5EOsNZS9IbWAVvVo143CUOih5GKSCJxdIjkLdCeL8eR2D04nXI8EtqfhZoBTfCqpimlNtEaQjxZo73DwzvOiu9F9/k95PkntF8+oPn6EbJtqUaGmqN3hiERfPgb6SEcsaGycI1FeP0C8ewV4tuXmN69gaoqFNUaFcFp8zfNM2YiUuT/g98IO80oO+BhrXGT5ciLHN2qRP37Duv7P2jKEopGqVcKnqOZ4knCbpSE8yMe7j1+Lmr8urnC3TLHqlRQ2w6ahJTaJjR1fSJDYD4BUvN4GoShYkpp0SmaK+9SFFyLVHxyxmkn78TT+RhPYtpoyqSHKIoSWVGkHzy0LFA3G2y6DnKr0rxx15/7iZYMN61MsAAP7r5zLDTtiv1cwUeKcJx7PwGm9wAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img 22&apos; title=&apos;&apos; src=&apos;/static/946eba9914d8d597faa493cf2bab1066/ca1dc/img_22.png&apos; srcset=&apos;/static/946eba9914d8d597faa493cf2bab1066/e7570/img_22.png 170w,
/static/946eba9914d8d597faa493cf2bab1066/f46e7/img_22.png 340w,
/static/946eba9914d8d597faa493cf2bab1066/ca1dc/img_22.png 680w,
/static/946eba9914d8d597faa493cf2bab1066/02d09/img_22.png 1020w,
/static/946eba9914d8d597faa493cf2bab1066/bbbf7/img_22.png 1280w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/6b09ac3ef7223cffd063400459ee7f05/bbbf7/img_23.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 48.23529411764706%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAACMklEQVR42jWSvYvUUBTF0wpuuxauCFpZuJYigp3+AVZ2/iWCFoKdsGKvgjYyoJ2wpY2Irq7sbL4nyUxmZsfMhEyS+cjnz/uyWBzezb3vnnvfOdHK189pXj2j+NIjLwrWmw3zOCHPc4m3pOuC1WpNkmYkyyWZ5OeLmExq0bZkmuVEWUr67QX5zEaL1hviohKyqiNRDVl2jlydaUq+WpEKYSrxRojyGspJSHP4mfrwE9X3rzTAVhbS/IGHY9s4jsPA83Hlezgc4fk+tuNiWjYDdccd4Lou4+kMewXZx3dwSYPLGu3DO5TbNVVVoanLtpA5zqBrdKUxGA47ckVomGaXU7EaqggtIUx77+GqEF7XaB7do5Dt0ixDc2SqJRuqTRSxZRh4klMEumFy0u9j205HbEhtGJ5xmsHyw1u4IIQ7QvjgNlVZ8jeK0BYi8Hy+IEkSliJ6IpouRael6KVycRyf5yVW6AyqRMPTY9qXT2gOnlL33lDXdbeltpCGaD6nlAlqysbWqQOnu6By/6G+q7pirQaKWVv5G4owgNmENvSRZmZqQ6WbaVro8iynf0Jzd49W4Em+rxtYltTkqZbUTXm244dYccH0x0+4cRGuiCl7Av0PdjhBU25aSj8xwdd12v1duLlL4AcYlnLf7erqtEVrfzTFTkrOjn7BvhBe0zpUJ0fkTYs2GoV4nvwqkwnhwKV5fJ9WMA7HuJIPgqBz35dTxaG4HGQV0fFvuLXTuaxQCmEB/AOtr76h1uYO3gAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img 23&apos; title=&apos;&apos; src=&apos;/static/6b09ac3ef7223cffd063400459ee7f05/ca1dc/img_23.png&apos; srcset=&apos;/static/6b09ac3ef7223cffd063400459ee7f05/e7570/img_23.png 170w,
/static/6b09ac3ef7223cffd063400459ee7f05/f46e7/img_23.png 340w,
/static/6b09ac3ef7223cffd063400459ee7f05/ca1dc/img_23.png 680w,
/static/6b09ac3ef7223cffd063400459ee7f05/02d09/img_23.png 1020w,
/static/6b09ac3ef7223cffd063400459ee7f05/bbbf7/img_23.png 1280w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;로그가 정상적으로 출력되는 것을 확인할 수 있습니다.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[피움 서비스의 Querydsl 적용 과정]]></title><description><![CDATA[이 글은 우테코 피움팀 크루 '하마드'가 작성했습니다. 개요 우아한테크코스 5기 피움 프로젝트를 진행하면서, 필터링 기능 구현을 위해 Querydsl…]]></description><link>https://pium-official.github.io/querydsl_apply_procedure/</link><guid isPermaLink="false">https://pium-official.github.io/querydsl_apply_procedure/</guid><pubDate>Wed, 16 Aug 2023 00:00:00 GMT</pubDate><content:encoded>&lt;blockquote&gt;
&lt;p&gt;이 글은 우테코 피움팀 크루 &apos;&lt;a href=&quot;https://github.com/rawfishthelgh&quot;&gt;하마드&lt;/a&gt;&apos;가 작성했습니다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;개요&lt;/h2&gt;
&lt;hr&gt;
&lt;p&gt;우아한테크코스 5기 피움 프로젝트를 진행하면서, 필터링 기능 구현을 위해 Querydsl을 적용한 과정을 정리한다&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://pium-official.github.io/why_we_applied_querydsl/&quot;&gt;이전글&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;과정&lt;/h2&gt;
&lt;hr&gt;
&lt;blockquote&gt;
&lt;p&gt;본 프로젝트는 다음과 같은 환경에서 구성되었다&lt;/p&gt;
&lt;p&gt;Springboot 3.1.1&lt;/p&gt;
&lt;p&gt;JAVA 17&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;Querydsl 설정&lt;/h2&gt;
&lt;hr&gt;
&lt;h3&gt;build.gradle에 관련 코드 추가&lt;/h3&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/fda9bdedd608b74362b48ecab9e7ce73/5fbd7/1.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 77.05882352941177%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAABYlAAAWJQFJUiTwAAACbElEQVR42m2T63LaMBCFeZY2TWLJutmWbGPA4ZIhQC6l0+ZH2+n7v8XpkQQJzfTH513vyMfS7tHEhxb9dEA/zBDaDtoYlEoyKihdknO8yFX5XlMq11mTUmJS8jHMFthsd1jdbzFf3ME1BmGoE+2sSbHpK/jIKY+EaY26c/Axtg5lWWIS/1BVDeJOGx+Y1+nPxhmiYSqdo9XQNufaqrfc2LxDIWTeYaE0d+T59ymatmceUHKRqS10pDJQ8cMm57rOWG+5TiduZAkhT4K/xSc8qlscTYEXfYsX5k/yCx4j4oKP7ySuO5Dv4jOMFEl08iyu4HyLOYcyTKdovYdWAs6xFcRyOI47jNHa07vNNU2BWx71QPFaFiii4IGC1TDHuFxjWCzJHXoOyQWXGl61H2Dd8bh1V6EOFgV7vS0uBF/UNfx8xHpzn0TH1Qbj3Rq+82gHDqurUwz9O03L2rRJuK7BsS7RcjCl1pgcLbet2WT6T7OgmWtj0+R08pd685pO6BwNBxWny/jE/vvoQ66bfFNXKCjmXAVHy1jrYPiu6Kmzwc8oIkuZLCKEgCTXPOZDcfV+5J/BoB/X6LoeTQj0okfdNMmPtnLJb5ksGgXlySLxUkTL7C6H8kybqJoiFIgi0dyREI1Of0b3nwXO5pWn2n8Fj7rANRe6eCzekHycfKSi4KLbjGAeBaQo3ijJDWv/CH5ln8b1En9+7fH64wHb7Qr73X2Kq+UM81nAYh7Qc5qKA7FVxStXpehIHOiDuOjhq77BItQ48MPdELCfRVrshxx3MZ+32NA+PXu58A0W7PHIXo/MgzV4Kj6j4k2Jgn8B68PbdTAtWFUAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;1&apos; title=&apos;&apos; src=&apos;/static/fda9bdedd608b74362b48ecab9e7ce73/ca1dc/1.png&apos; srcset=&apos;/static/fda9bdedd608b74362b48ecab9e7ce73/e7570/1.png 170w,
/static/fda9bdedd608b74362b48ecab9e7ce73/f46e7/1.png 340w,
/static/fda9bdedd608b74362b48ecab9e7ce73/ca1dc/1.png 680w,
/static/fda9bdedd608b74362b48ecab9e7ce73/02d09/1.png 1020w,
/static/fda9bdedd608b74362b48ecab9e7ce73/5fbd7/1.png 1276w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;dependencies {
    implementation &apos;org.springframework.boot:spring-boot-starter-data-jpa&apos;
    implementation &apos;org.springframework.boot:spring-boot-starter-validation&apos;
    implementation &apos;org.springframework.boot:spring-boot-starter-web&apos;

    implementation &apos;com.github.maricn:logback-slack-appender:1.6.1&apos;

    //querydsl 추가
    implementation &apos;com.querydsl:querydsl-jpa:5.0.0:jakarta&apos;
    annotationProcessor &quot;com.querydsl:querydsl-apt:5.0.0:jakarta&quot;
    annotationProcessor &quot;jakarta.annotation:jakarta.annotation-api&quot;
    annotationProcessor &quot;jakarta.persistence:jakarta.persistence-api&quot;
}

//querydsl 추가
def querydslSrcDir = &apos;src/main/generated&apos;

clean {
    delete file(querydslSrcDir)
}

tasks.withType(JavaCompile) {
    options.generatedSourceOutputDirectory = file(querydslSrcDir)
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;build.gradle&lt;/code&gt; 파일에 위 설정을 추가해 준다.
&lt;code class=&quot;language-text&quot;&gt;dependencies&lt;/code&gt; 하부의 옵션 설정은 아래와 같은 의미를 가진다.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;def querydslSrcDir = &apos;src/main/generated&apos;&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Querydsl이 생성한 소스 코드를 저장할 디렉토리를 정의한다. 여기서는 &apos;src/main/generated&apos;로 디렉토리 경로를 지정하고, 이를 querydslSrcDir 변수에 할당한다.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;clean { delete file(querydslSrcDir) }&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Gradle의 clean 태스크를 정의하고, 해당 태스크가 실행될 때 querydslSrcDir 디렉토리를 삭제하도록 한다. 즉, 프로젝트를 clean 하면 Querydsl이 생성한 소스 코드도 삭제된다.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;tasks.withType(JavaCompile) { options.generatedSourceOutputDirectory = file(querydslSrcDir) }&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;JavaCompile 태스크 유형을 가진 모든 태스크에 대해, 컴파일 옵션 중에서 생성된 소스 코드의 출력 디렉토리를 querydslSrcDir로 설정한다. Querydsl이 생성한 소스 코드가 지정한 디렉토리에 컴파일되도록 보장한다.&lt;/p&gt;
&lt;h3&gt;build 수행 및 Q Class 생성&lt;/h3&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 610px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/c403e5c3d0be112b1ba88b848597f89e/5d5ad/2.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 70.58823529411764%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAABYlAAAWJQFJUiTwAAACF0lEQVR42o2S3W7UMBCF80YItFTtxs7/f5xsEidOsil0t1CEqHgCrlCvEdzxuIdxsoUu3RYujsaxZz5NzoyRdXuo3Sd0JJYqmEk3ax21S4wpxsudjutkyTkPJaLmCsP1Z9hihC8UumGE4acVwryBn1VgfgbTS+fopcu3HRVz1LJCASvIj87BoY57CYZxglGUFdIsRxglcDwfjFtw/QBqGuB5ARrZIU4yFOUGhVQo3tzAiyO00wTX9TFOl3OerpVtB8N2PPhhgjgVCMJ4FrMcmNwGp2hTkWV7JBecxIIY3KEz1XGb3nWkPP3ej1sYDhWkYgPZb6nlLcq6mQs1hB8gM4iK5rNlH6JzdG8ReFNLGOxATwha7j5iU9UYthO8IMKaWXOnv2FPSMN07qvVGYyHl1FWoH57Q11K8kOhaiRaNZAd+T+hjDoX5PMRME5SNO9usaFBdP2ATJQEo4kH4X91+Ajo00DEdI2qG1A3LdwDSE/wPufJDsmaq93+D/DeYJPWRlTtbLD2Ug1bqH6kVQpxYfKTv750yGHT1I2/H/UaFATUPtayRad6tOSn7Ho6D8iL8iRUe2g6wWMgo3WpGvKQgIqGomhZs6IiOyKkuZhtOdkl6XL//oGHpAvqrmfn+J45+CoC3JUhfmQ2djbDijtgZPxz066pgSPgmePjw3qFn5GJLyLCnRT4xl/i9vULrNwQzjOT1pKqxy/ZQ/01dKKAJgAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;2&apos; title=&apos;&apos; src=&apos;/static/c403e5c3d0be112b1ba88b848597f89e/5d5ad/2.png&apos; srcset=&apos;/static/c403e5c3d0be112b1ba88b848597f89e/e7570/2.png 170w,
/static/c403e5c3d0be112b1ba88b848597f89e/f46e7/2.png 340w,
/static/c403e5c3d0be112b1ba88b848597f89e/5d5ad/2.png 610w&apos; sizes=&apos;(max-width: 610px) 100vw, 610px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/2dc4a522b3257f1c773f681382f950f1/cfc60/3.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 67.05882352941177%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABYlAAAWJQFJUiTwAAABEklEQVR42qWS23KCMBRF/abWqUSEHLmEBNRh0IJTcXjr///B7jmp8lZF+rAhAzMr61wWsd4iyQxO5x51cwKlGeTb3CwifkgyY9FdBjTHTxSuwiYm3P+9khGYsmU9fKPtBxwONQM1YvoHMNYEbUrY7gv7vYKxAVy1AiUxw2cAfbjM3Do0XQvjFJeuYMuAs+JzwJcof85MyJckE4CSSCMqdiA2rao3bynJzRoREbfhN9MMPZBLNDvorkdZvntDsbu/H8EeAomBzi09KM03t//0Yg9HYAXdXuDKJQpvpnz/xFCGNN9QgDIYF9x6+QG91fOBMhQpWewE9Az2tGQZiphJqWGU/Lkq0wzP13FtZPfyIpy02D8v/soDs0ql4wAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;3&apos; title=&apos;&apos; src=&apos;/static/2dc4a522b3257f1c773f681382f950f1/ca1dc/3.png&apos; srcset=&apos;/static/2dc4a522b3257f1c773f681382f950f1/e7570/3.png 170w,
/static/2dc4a522b3257f1c773f681382f950f1/f46e7/3.png 340w,
/static/2dc4a522b3257f1c773f681382f950f1/ca1dc/3.png 680w,
/static/2dc4a522b3257f1c773f681382f950f1/cfc60/3.png 776w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;이제 바뀐 설정 파일로 &lt;code class=&quot;language-text&quot;&gt;build&lt;/code&gt;를 수행하면 우리가 지정한&lt;code class=&quot;language-text&quot;&gt;src/main/generated&lt;/code&gt; 경로에 위와 같은 Q Class가 생성된다.&lt;/p&gt;
&lt;p&gt;QueryDsl은 빌드 시점에 애플리케이션의 도메인 중 &lt;code class=&quot;language-text&quot;&gt;@Entity&lt;/code&gt;와 &lt;code class=&quot;language-text&quot;&gt;@Embeddable&lt;/code&gt; 어노테이션이 포함된 클래스를 찾아 Q Class를 생성한다. 이 Q class를 가지고 애플리케이션 내부에서 QueryDsl 관련 로직을 적용해야 한다.&lt;/p&gt;
&lt;h2&gt;적용&lt;/h2&gt;
&lt;hr&gt;
&lt;h3&gt;JPAQueryFactory Bean 등록&lt;/h3&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/4d3053434736eb33e9f1a587f870c838/5c9dd/4.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 70%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAABYlAAAWJQFJUiTwAAAB30lEQVR42qWTyZKjMBBE/TdGG4hFEmI1dndP+Dz//y3ZKYHbExMT9mEODykQkarKLE5xUBhGjT4qhKDQ9wp1XUAKCSkFhNhJe6UkUS85bRS8Ro2JQhvXlQxjhA8R/TAe64S2cyjL6q3oqS0VXKVQ8cOuJJVG6zw65+B84OozTdPCGPO+QiEVhNT82EKTc6FwPksiMkWxt763rN4LSpk8Y8tTzVZruE4ScVCwst07KXdE8vXFBblCT5FtkrgMEstU4rI5rGuL2y1gWT3qpoEtazS2RWu7TGMbGK3/USEf1lCU3kWr0FQWLkz0jcH0M+KwcB+ySGh7wpDciJ770mjIvwXTQyqdfZTaHClKaK2g016ro2Xx0+6DFx6WnL+WBFQcDWtrdF2XcUy7qqrDP16eQ3zy8PbpoWC7TuH+JRF9qsxQwDL1MqM5KgnDSmurYWmNLZ+rOc4f83lSNLbhLK6txtzyr4k9bp9fWJYV63bD5fqBcd6wDA6/7wPuV4/75vGLYd0vHvM4soueF5qnh5qiBcsPdRJNAy4w8vcLrsOyfXCcZgzTgjhd4CMDCTM6y3C6GaPnmZsZVKRdBqckZuuaiZkjjDQK5BiJ5M/+bg/q4ZXOheyBqeM8V5hm7E9T/5dvW3qycq74yzIAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;4&apos; title=&apos;&apos; src=&apos;/static/4d3053434736eb33e9f1a587f870c838/ca1dc/4.png&apos; srcset=&apos;/static/4d3053434736eb33e9f1a587f870c838/e7570/4.png 170w,
/static/4d3053434736eb33e9f1a587f870c838/f46e7/4.png 340w,
/static/4d3053434736eb33e9f1a587f870c838/ca1dc/4.png 680w,
/static/4d3053434736eb33e9f1a587f870c838/5c9dd/4.png 836w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token annotation punctuation&quot;&gt;@Configuration&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;QueryDslConfig&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

    &lt;span class=&quot;token annotation punctuation&quot;&gt;@PersistenceContext&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;EntityManager&lt;/span&gt; entityManager&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token annotation punctuation&quot;&gt;@Bean&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;JPAQueryFactory&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;jpaQueryFactory&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;JPAQueryFactory&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;entityManager&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;JPAQueryFactory는 Querydsl을 사용하여 JPA 쿼리를 생성하고 실행하기 위한 클래스다. &lt;code class=&quot;language-text&quot;&gt;EntityManager&lt;/code&gt;를 주입해 JPAQueryFactory가 db 상호 작용을 수행할 수 있도록 해주는 Config 파일을 작성한다.&lt;/p&gt;
&lt;h3&gt;Querydsl 질의용 Repository 생성 및 적용&lt;/h3&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;interface&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;HistoryCustomRepository&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

    &lt;span class=&quot;token class-name&quot;&gt;Page&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;History&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;findAllByPetPlantIdAndHistoryTypes&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Long&lt;/span&gt; petPlantId&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;List&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;HistoryType&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; historyTypes&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Pageable&lt;/span&gt; pageable&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;먼저 해당 기능을 추상화한 Repository 인터페이스를 정의한다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;token import static&quot;&gt;&lt;span class=&quot;token namespace&quot;&gt;com&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;official&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;pium&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;domain&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;QHistory&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token static&quot;&gt;history&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token annotation punctuation&quot;&gt;@Repository&lt;/span&gt;
&lt;span class=&quot;token annotation punctuation&quot;&gt;@RequiredArgsConstructor&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;HistoryCustomRepositoryImpl&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;implements&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;HistoryCustomRepository&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;JPAQueryFactory&lt;/span&gt; jpaQueryFactory&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token annotation punctuation&quot;&gt;@Override&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Page&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;History&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;findAllByPetPlantIdAndHistoryTypes&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Long&lt;/span&gt; petPlantId&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;List&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;HistoryType&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; historyTypes&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Pageable&lt;/span&gt; pageable&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

        &lt;span class=&quot;token class-name&quot;&gt;List&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;History&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; histories &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; jpaQueryFactory&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;selectFrom&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;history&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;where&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;history&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;petPlant&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;id&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;eq&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;petPlantId&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;inHistoryType&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;historyTypes&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;orderBy&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;OrderSpecifier&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Order&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;DESC&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; history&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;createdAt&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;OrderSpecifier&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Order&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;DESC&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; history&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;date&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;offset&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;pageable&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getOffset&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;limit&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;pageable&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getPageSize&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;fetch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;PageImpl&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;History&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;histories&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; pageable&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getCount&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;petPlantId&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; historyTypes&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Long&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getCount&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Long&lt;/span&gt; petPlantId&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;List&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;HistoryType&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; historyTypes&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; jpaQueryFactory&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;select&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;history&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;from&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;history&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;where&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;history&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;petPlant&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;id&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;eq&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;petPlantId&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;inHistoryType&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;historyTypes&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;fetchOne&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;BooleanExpression&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;inHistoryType&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;List&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;HistoryType&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; historyTypes&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;historyTypes &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; historyTypes&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;isEmpty&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; history&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;historyCategory&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;historyType&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;in&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;historyTypes&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;가장 중요한 부분이다. HistoryCustomRepository를 implements한 HistoryCustomRepositoryImpl를 작성한다.&lt;/p&gt;
&lt;p&gt;여기서 &lt;strong&gt;인터페이스명+impl 네이밍 규약을 반드시 지켜야&lt;/strong&gt; 향후 HistoryRepository에 extends 할 시 해당 구현체가 주입될 수 있다.&lt;/p&gt;
&lt;p&gt;또 여기서 사용하려는 Q class(QHistory)를 위와 같이 static import하여 사용한다.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;import static com.official.pium.domain.QHistory.history;&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;먼저, 우리가 수행하려는 동작과 도출하고자 하는 쿼리 형태는 아래와 같다.&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;기능 : 리스트로 받은 히스토리 타입들에 해당하는 히스토리를 시간순으로 조회하고, 페이징 정보(size, page)에 해당하는 만큼 데이터를 가져온다.&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;select *
    from
        history h1_0 
    join
        history_category h2_0 
            on h2_0.id=h1_0.history_category_id 
    where
        h1_0.pet_plant_id=(반려식물_id) 
        and h2_0.history_type in (타입1,타입2...) 
    order by
        h1_0.created_at desc,
        h1_0.event_date desc 
        offset (페이지번호 * 페이지사이즈) rows fetch first (페이지사이즈) rows only&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/7c2c065972391c9a85d2001b1e8b5c13/7b3ec/5.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 34.11764705882353%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABYlAAAWJQFJUiTwAAABFklEQVR42m2RWXaEIBBF3U0UlEFQBBHUJPtf0ktR6e6PpD/eqRkuRWeMxew8tDGYlIKxMwz54zhBK0sy0JOGmhT32FbXlnOtZxh6iGFgDaTOzg4zKZeKct7YY0UMOzafkJYDgeyxn9hz4XpMifyKvFNfyvAhYFk3rCFi3SI6ISTf4pYFiYZmIm40TKENlNJEbZnOtLiRUk5pzfXZOrKa+1quk1KiSYiG/YHiJdNen984768XWak38loQXEAOlegzSrzg3YqR5wWrk49gCRsT1uvmA/ej4KgX+Sec93zpOI40/BDtr8Vt9gnV1D2TG+3jSdT2sawBISb220fIP4O/+p97PXmi3Sit+Lf6vucfG5olibeHvdcPyCvchkMbUOgAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;5&apos; title=&apos;&apos; src=&apos;/static/7c2c065972391c9a85d2001b1e8b5c13/ca1dc/5.png&apos; srcset=&apos;/static/7c2c065972391c9a85d2001b1e8b5c13/e7570/5.png 170w,
/static/7c2c065972391c9a85d2001b1e8b5c13/f46e7/5.png 340w,
/static/7c2c065972391c9a85d2001b1e8b5c13/ca1dc/5.png 680w,
/static/7c2c065972391c9a85d2001b1e8b5c13/02d09/5.png 1020w,
/static/7c2c065972391c9a85d2001b1e8b5c13/7b3ec/5.png 1284w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;이제 위 코드를 천천히 파악해보자.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;&lt;code class=&quot;language-text&quot;&gt;jpaQueryFactory.selectFrom(history)&lt;/code&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;history를 대상으로 select 질의를 수행함을 의미한다&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;&lt;code class=&quot;language-text&quot;&gt;.where(history.petPlant.id.eq(petPlantId), inHistoryType(historyTypes))&lt;/code&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;where 조건문을 사용하는 코드이다. &lt;code class=&quot;language-text&quot;&gt;eq&lt;/code&gt; 메소드를 통해 파라미터로 주입받은 &lt;code class=&quot;language-text&quot;&gt;petPlantId&lt;/code&gt;와의 비교를 수행한다.&lt;/p&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/1805e041feeb92ebaea1a0c8c6377069/98b00/6.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 30.58823529411765%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAABYlAAAWJQFJUiTwAAABBklEQVR42kWRW3aDMAxEWQ74KVsGl8RQ0ux/TdOxk7Qf90hIYtCISVNELRk5Z2y1opKsihAFEj00eaToiEcIkXUSAmJ4RZGEKJxNCd4HTCoOrVi0+x3teuL4/sHeTuz7DWcVPNqGx1nxvO64sd5p54XjfKCsG0ohW8X2tQ/xyVgLR2pJOLaMVnXkwTlEZ2D51SgZkpUulJvQjZaxkePMsix/GGMwdTHH1S2jNQuZ2eAAm2bAwfHC/Ib5PA9Gr8+8l+oaY8MULFbpd0rIoowZKoXoeJZRL/+9dR12tTAS7/1roS7YjxzdSzT6CAmJAjxykCHUBWLPWe+xk2g78Sd22/0MntY/gr8a2buaPBT/wwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;6&apos; title=&apos;&apos; src=&apos;/static/1805e041feeb92ebaea1a0c8c6377069/ca1dc/6.png&apos; srcset=&apos;/static/1805e041feeb92ebaea1a0c8c6377069/e7570/6.png 170w,
/static/1805e041feeb92ebaea1a0c8c6377069/f46e7/6.png 340w,
/static/1805e041feeb92ebaea1a0c8c6377069/ca1dc/6.png 680w,
/static/1805e041feeb92ebaea1a0c8c6377069/02d09/6.png 1020w,
/static/1805e041feeb92ebaea1a0c8c6377069/98b00/6.png 1202w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;위는 &lt;code class=&quot;language-text&quot;&gt;in&lt;/code&gt; 절을 수행하는 &lt;code class=&quot;language-text&quot;&gt;inHistoryType&lt;/code&gt; 메소드다. 여기서 반환 타입을 &lt;code class=&quot;language-text&quot;&gt;BooleanExpression&lt;/code&gt;으로 사용한 것에 주목하자. &lt;strong&gt;&lt;code class=&quot;language-text&quot;&gt;BooleanExpression&lt;/code&gt; 의 반환값이 null일 경우, 자동으로 조건절에서 제외된다.&lt;/strong&gt; 따라서 우리는 &lt;code class=&quot;language-text&quot;&gt;historyTypes&lt;/code&gt;가 들어오지 않았을 경우, in 절을 수행하지 않도록 지정했다.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;&lt;code class=&quot;language-text&quot;&gt;.orderBy(new OrderSpecifier&amp;lt;&gt;(Order.DESC, history.createdAt), new OrderSpecifier&amp;lt;&gt;(Order.DESC, history.date))&lt;/code&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;order by&lt;/code&gt;의 Sorting 조건을 지정하기 위한 부분이다.
&lt;strong&gt;Sorting 조건은 &lt;code class=&quot;language-text&quot;&gt;OrderSpecifier&lt;/code&gt; 클래스로 정의해 지정해야 한다.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;첫 인자에 Sorting 방향 Enum(Order.DESC)을, 두 번째 인자에 Sorting 대상 필드(history.createdAt)를 지정한다. 우리는 Sorting 조건이 두 가지이므로, 두 개의 &lt;code class=&quot;language-text&quot;&gt;OrderSpecifier&lt;/code&gt; 를 정의해 정렬 순서대로 넣어주었다.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;&lt;code class=&quot;language-text&quot;&gt;.offset(pageable.getOffset().limit(pageable.getPageSize())&lt;/code&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;페이징 처리를 위한 offset, limit을 지정하는 부분이다. 이 부분은 그냥 Long 타입을 넣어주면 된다. 넘길 부분을 지정하는 offset 값과, 가져올 양을 지정하는 limit 값을 넣어준다.(해당 애플리케이션에서 offset 값은 Pageable 객체에 미리 계산되어 있다)&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;&lt;code class=&quot;language-text&quot;&gt;.fetch()&lt;/code&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;.fetch()&lt;/code&gt; 를 활용하면 결과를 리스트로 반환할 수 있다. &lt;/p&gt;
&lt;p&gt;여기서 주의할 점은 &lt;strong&gt;&lt;code class=&quot;language-text&quot;&gt;.fetch()&lt;/code&gt;를 사용한다고 &lt;code class=&quot;language-text&quot;&gt;fetch join&lt;/code&gt;을 수행하는 것이 아니다&lt;/strong&gt;. 결과 반환 방법은 아래 블로그에 자세히 설명되어 있어 첨부하겠다.
&lt;a href=&quot;https://devocean.sk.com/blog/techBoardDetail.do?ID=163915&quot;&gt;참고&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Long&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getCount&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Long&lt;/span&gt; petPlantId&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;List&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;HistoryType&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; historyTypes&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; jpaQueryFactory&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;select&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;history&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;from&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;history&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;where&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;history&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;petPlant&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;id&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;eq&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;petPlantId&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;inHistoryType&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;historyTypes&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;fetchOne&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;조건에 해당하는 레코드의 총 개수를 전달하는 Count 쿼리를 날리는 메소드다. 간단하게 &lt;code class=&quot;language-text&quot;&gt;.select()&lt;/code&gt; 메소드의 Qclass에 &lt;code class=&quot;language-text&quot;&gt;.count()&lt;/code&gt; 만 추가하면 count 쿼리를 생성해준다.
&lt;code class=&quot;language-text&quot;&gt;.fetchOne()&lt;/code&gt; 을 통해 단건으로 &lt;code class=&quot;language-text&quot;&gt;Long&lt;/code&gt;을 반환할 수 있다.&lt;/p&gt;
&lt;h3&gt;생성한 CustomRepository를 기존 사용하던 Repository에 extends&lt;/h3&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/1374af122469ae78b798f58986f85d4c/44982/7.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 31.176470588235293%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAABYlAAAWJQFJUiTwAAAA7ElEQVR42k2Qa47EMAiDe53mAQRIMqO9/7m8hM6O9scnYqS6xpdLh1KBcYEOxjCH+YIMi32NfYPPBTV7UIXIwBgjtfnEXDsnx/5qvadQmzBTbBf46MmIHxBLGnBMZo6PjpbUtVaUWlBKyffhaq2FkYehh0GYKT0cQzkGmmmP8d97qGWact9p9nAnV4+Ea294xPY4YRtFSsaK+XLCO9jW8Z6c+uWR3kaazm8VUZPNnHFyJIxe3C07tDyXYlJq1ehVCML9CzOh06mD0TuBDnR2hOs8XBp+9nhYkmnm+cHpde6oQj9n1S/1c2r9x9G/zA67UCF53jQAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;7&apos; title=&apos;&apos; src=&apos;/static/1374af122469ae78b798f58986f85d4c/ca1dc/7.png&apos; srcset=&apos;/static/1374af122469ae78b798f58986f85d4c/e7570/7.png 170w,
/static/1374af122469ae78b798f58986f85d4c/f46e7/7.png 340w,
/static/1374af122469ae78b798f58986f85d4c/ca1dc/7.png 680w,
/static/1374af122469ae78b798f58986f85d4c/02d09/7.png 1020w,
/static/1374af122469ae78b798f58986f85d4c/9d567/7.png 1360w,
/static/1374af122469ae78b798f58986f85d4c/44982/7.png 1592w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;  이제 만든 CustomRepository를 기존 사용하던 Repository에 extends 하기만 하면 기존 Service에 새로운 인터페이스 필드를 선언하지 않고도 사용할 수 있다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;HistoryService.java&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token annotation punctuation&quot;&gt;@Service&lt;/span&gt;
&lt;span class=&quot;token annotation punctuation&quot;&gt;@Transactional&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;readOnly &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token annotation punctuation&quot;&gt;@RequiredArgsConstructor&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;HistoryService&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

   &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;HistoryRepository&lt;/span&gt; historyRepository&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
   &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;PetPlantRepository&lt;/span&gt; petPlantRepository&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

   &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;HistoryResponse&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;read&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Long&lt;/span&gt; petPlantId&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Pageable&lt;/span&gt; pageable&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Member&lt;/span&gt; member&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;List&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; filters&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
       &lt;span class=&quot;token class-name&quot;&gt;PetPlant&lt;/span&gt; petPlant &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; petPlantRepository&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;findById&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;petPlantId&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
               &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;orElseThrow&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;NoSuchElementException&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;일치하는 반려 식물이 존재하지 않습니다. id :&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; petPlantId&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

       &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;petPlant&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;isNotOwnerOf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;member&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
           &lt;span class=&quot;token keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;IllegalArgumentException&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;요청 사용자와 반려 식물의 사용자가 일치하지 않습니다. id :&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; member&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getId&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
       &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

       &lt;span class=&quot;token class-name&quot;&gt;List&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;HistoryType&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; historyTypes &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ArrayList&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

       &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;filters &lt;span class=&quot;token operator&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
           historyTypes &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; filters&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;stream&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                   &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;HistoryType&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;from&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                   &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toList&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
       &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

       &lt;span class=&quot;token class-name&quot;&gt;Page&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;History&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; historyPageByPetPlantId &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; historyRepository&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;findAllByPetPlantIdAndHistoryTypes&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;petPlantId&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; historyTypes&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; pageable&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

       &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;HistoryMapper&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toHistoryResponse&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;historyPageByPetPlantId&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
   &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;기존에 주입받은 &lt;code class=&quot;language-text&quot;&gt;historyRepository&lt;/code&gt;를 활용해, 새로 생성한 &lt;code class=&quot;language-text&quot;&gt;findAllByPetPlantIdAndHistoryTypes&lt;/code&gt; 메소드를 사용하는 것을 확인할 수 있다.&lt;/p&gt;
&lt;h2&gt;결과&lt;/h2&gt;
&lt;hr&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;  select
      h1_0.id,
      h1_0.created_at,
      h1_0.event_date,
      h1_0.history_category_id,
      h1_0.curr,
      h1_0.prev,
      h1_0.pet_plant_id,
      h1_0.updated_at 
  from
      history h1_0 
  join
      history_category h2_0 
          on h2_0.id=h1_0.history_category_id 
  where
      h1_0.pet_plant_id=? 
      and h2_0.history_type in (?,?) 
  order by
      h1_0.created_at desc,
      h1_0.event_date desc offset ? rows fetch first ? rows only
2023-08-16 17:10:47.907 [main] TRACE org.hibernate.orm.jdbc.bind - binding parameter [1] as [BIGINT] - [1]
2023-08-16 17:10:47.907 [main] TRACE org.hibernate.orm.jdbc.bind - binding parameter [2] as [VARCHAR] - [FLOWERPOT]
2023-08-16 17:10:47.907 [main] TRACE org.hibernate.orm.jdbc.bind - binding parameter [3] as [VARCHAR] - [LOCATION]
2023-08-16 17:10:47.907 [main] TRACE org.hibernate.orm.jdbc.bind - binding parameter [4] as [INTEGER] - [0]
2023-08-16 17:10:47.907 [main] TRACE org.hibernate.orm.jdbc.bind - binding parameter [5] as [INTEGER] - [5]
Hibernate: 
  select
      count(h1_0.id) 
  from
      history h1_0 
  join
      history_category h2_0 
          on h2_0.id=h1_0.history_category_id 
  where
      h1_0.pet_plant_id=? 
      and h2_0.history_type in (?,?)
2023-08-16 17:10:47.919 [main] TRACE org.hibernate.orm.jdbc.bind - binding parameter [1] as [BIGINT] - [1]
2023-08-16 17:10:47.919 [main] TRACE org.hibernate.orm.jdbc.bind - binding parameter [2] as [VARCHAR] - [FLOWERPOT]
2023-08-16 17:10:47.919 [main] TRACE org.hibernate.orm.jdbc.bind - binding parameter [3] as [VARCHAR] - [LOCATION]&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;테스트 코드를 통해 실제 어떤 쿼리가 실행되는지 확인해 보니,
우리가 위에서 구현하고자 했던 sql 쿼리와 정확히 일치하는 것을 볼 수 있다.&lt;/p&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/7069fcd0b567febef28cf64686154923/d5719/8.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 177.64705882352942%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAkCAYAAACJ8xqgAAAACXBIWXMAABYlAAAWJQFJUiTwAAADn0lEQVR42rVW7W7iRhTlofZXn2G1j9E36I/+X6mP0AdppVW3VaNslUjkCwgQ85GYgPkKxtgYsI2/Tu+ZZihkSVCzqaVhhjvj47n3nntmCnGS4C/PwC/2Of6YVfDr9AJXvgmkwHK5xGKxwHw+V73v+wijCGmSYRGs4Ks5X9mDIECapii48QIfGj/hXeUHvDc+4rvqj/j+7mcgA8yOiVq9houLC9RqNZycnMCZOcizHKZtod42cH52htPTU1hWD3wKiaAaKwtFv4Vz/1b1ZjgGciBcRwiiEPF6jbW0MAyRiEd5niOOY2Vji2TXtGdZhgJ/3urhhwpED2UXbHESi6e5anx6kY0b2b1a/Gg7CNhqtVRsjo+PcXt7qybSLFV9cdFCedlR40wW8wX9Yr71fweQMaD/zBLHeoLPJPYQZOv/5nKlUsHR0dEOUKlUwu+fPqPh3qMTOHiYZxgO+iiVy6jX67i8vMSZZJfjsthIL+UFk7JareC67s6XFP88H4NwinkiO4+hMs21jDl7ruGYnunEqh3uy7JOwCSe77i8HcOntg0g2f1VcPENMdy3w56wvnJZRscfYhTNMQ8AZ2rDNE3c39/DMAyQHZ1OR9mY1E0M9wH2JQEtoymAA4wjH+4qh+e56Pf7mEwmCrTb7WI8HivbQcDnYvhql7PHmNpvBah3aCciW0mEtXgUCj0cx1EUs21bNY5p0y4fBHRSH04YYDhPMB4NUa3W0Gw2cX19rQjNxFDWyMuXY/i/ubyH2M+R+kVAimcaJ3hY/0tsFgDt28Kq/29X0F5ACsbnT7+h6XZhijiMPIqDhetqFTc3NygWi5tjgWu1Sj0bw0ikP5XUPkjpLdNIzpB/vq7LlO+w6fHBHT4Xw9cnJX9jcTAaDXz58xhtr4duOIO9yDEa9lER/lEYyEGKLMeM4Y7A7gOcuTOMrAH6gVSDCOwqyiXwkTrQSWLP81SVcMwLwKsF9puJ/WaA1Ll6pYrOYiTk9rEMpa6dqdJBy7KUqN7d3aHX6ykbz5YXYzidTkWxS0pghyKw9iKD5zpKoQeDgQJst9tqTNtBQO3yw2too9m/3VJ+RG5YE6nlVRptRJdrdZU8bbpqdgB5u9KTbIlcSQhOl9ieXkEoDHxH23ZcJjB5ptX36cGvRXT7oSgwgXt5SECqB28C2+XH+aqoTEOqh2u257iBq6sr1W+Swh1xIXseidpt2rSdRybnlE4+2riGOyd12KsQJQn+BvvD56hP/V+yAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;8&apos; title=&apos;&apos; src=&apos;/static/7069fcd0b567febef28cf64686154923/ca1dc/8.png&apos; srcset=&apos;/static/7069fcd0b567febef28cf64686154923/e7570/8.png 170w,
/static/7069fcd0b567febef28cf64686154923/f46e7/8.png 340w,
/static/7069fcd0b567febef28cf64686154923/ca1dc/8.png 680w,
/static/7069fcd0b567febef28cf64686154923/d5719/8.png 758w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;클라이언트 화면에서도 필터링이 잘 수행 된다. 기분이 좋다.&lt;/p&gt;
&lt;h3&gt;어떻게 join이 걸렸을까?&lt;/h3&gt;
&lt;p&gt;위 예시를 보면 join을 통해 연관관계가 있는 테이블 정보를 한 번에 가져와 n+1 문제가 발생하지 않는다. 그런데, 우리는 select where 설정만 했을 뿐, join 처리를 따로 하지 않았다. 그런데 어떻게 연관관계를 파악하고 Querydsl이 join을 생성해 준 걸까?&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Where 조건에 추가된 연관 관계 정보를 확인하고 join 쿼리 생성&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;아까 where 조건에서 사용했던 &lt;code class=&quot;language-text&quot;&gt;inHistoryTypes&lt;/code&gt; 메소드를 다시 파악해볼 필요가 있다.&lt;/p&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/1805e041feeb92ebaea1a0c8c6377069/98b00/9.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 30.58823529411765%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAABYlAAAWJQFJUiTwAAABBklEQVR42kWRW3aDMAxEWQ74KVsGl8RQ0ux/TdOxk7Qf90hIYtCISVNELRk5Z2y1opKsihAFEj00eaToiEcIkXUSAmJ4RZGEKJxNCd4HTCoOrVi0+x3teuL4/sHeTuz7DWcVPNqGx1nxvO64sd5p54XjfKCsG0ohW8X2tQ/xyVgLR2pJOLaMVnXkwTlEZ2D51SgZkpUulJvQjZaxkePMsix/GGMwdTHH1S2jNQuZ2eAAm2bAwfHC/Ib5PA9Gr8+8l+oaY8MULFbpd0rIoowZKoXoeJZRL/+9dR12tTAS7/1roS7YjxzdSzT6CAmJAjxykCHUBWLPWe+xk2g78Sd22/0MntY/gr8a2buaPBT/wwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;9&apos; title=&apos;&apos; src=&apos;/static/1805e041feeb92ebaea1a0c8c6377069/ca1dc/9.png&apos; srcset=&apos;/static/1805e041feeb92ebaea1a0c8c6377069/e7570/9.png 170w,
/static/1805e041feeb92ebaea1a0c8c6377069/f46e7/9.png 340w,
/static/1805e041feeb92ebaea1a0c8c6377069/ca1dc/9.png 680w,
/static/1805e041feeb92ebaea1a0c8c6377069/02d09/9.png 1020w,
/static/1805e041feeb92ebaea1a0c8c6377069/98b00/9.png 1202w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;history.historyCategory.historyType.in(historyTypes)&lt;/code&gt; 와 같은 형태로 객체의 연관관계를 탐색하여 &lt;code class=&quot;language-text&quot;&gt;in&lt;/code&gt;절을 실행시키는 모습을 볼 수 있다. 따라서 해당 연관관계 정보가 필요함을 querydsl이 파악하고 join 쿼리를 실행시켜주는 것이다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Where을 생략한 경우&lt;/strong&gt;
&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/46fbcfb8b96b9db480697e71fb688d4d/70841/10.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 61.1764705882353%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABYlAAAWJQFJUiTwAAAA10lEQVR42p2SRw7EMAwD/Zw0pPf+/09xMQIU7NU+MA6caExTCuu66r5vXdelqqpUFIXKskxWADAMg/Z9t7Wua4OmggOPLMvUtq3O8zRN02RwvsWCgxcBAMbVn+fR+75qmsZ+IopkIDCuj47j0LIsGscxHQiEHImBfdxFO8zzXH3f23XpuLvyHKMzxIF32qE49QyTxmaeZ+s0TlEK7HNIMQOOO2Bcl4OIInpsKOi6Ttu2mYAxh77yDbA3zw/4f/eD0dcUCskNl8iHHOfInXMITWNF7BMXgvEDwYxyfkQaXVIAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;10&apos; title=&apos;&apos; src=&apos;/static/46fbcfb8b96b9db480697e71fb688d4d/ca1dc/10.png&apos; srcset=&apos;/static/46fbcfb8b96b9db480697e71fb688d4d/e7570/10.png 170w,
/static/46fbcfb8b96b9db480697e71fb688d4d/f46e7/10.png 340w,
/static/46fbcfb8b96b9db480697e71fb688d4d/ca1dc/10.png 680w,
/static/46fbcfb8b96b9db480697e71fb688d4d/02d09/10.png 1020w,
/static/46fbcfb8b96b9db480697e71fb688d4d/70841/10.png 1094w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;만약 where을 생략했을 때는 연관 관계 정보가 필요하지 않음을 파악하므로 join 쿼리가 날아가지 않는 모습을 볼 수 있다.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Logback을 이용해 운영 환경 별 로그 남기기]]></title><description><![CDATA[이 글은 우테코 피움팀 크루 '그레이'가 작성했습니다. 로깅이란 ? 우리가 처음 개발을 할 때 System.out.println(), cout << "hello world" << endl, print…]]></description><link>https://pium-official.github.io/server-logging/</link><guid isPermaLink="false">https://pium-official.github.io/server-logging/</guid><pubDate>Wed, 16 Aug 2023 00:00:00 GMT</pubDate><content:encoded>&lt;blockquote&gt;
&lt;p&gt;이 글은 우테코 피움팀 크루 &apos;&lt;a href=&quot;https://github.com/Kim0914&quot;&gt;그레이&lt;/a&gt;&apos;가 작성했습니다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;로깅이란 ?&lt;/h2&gt;
&lt;p&gt;우리가 처음 개발을 할 때 System.out.println(), cout &amp;#x3C;&amp;#x3C; &quot;hello world&quot; &amp;#x3C;&amp;#x3C; endl, print() 등으로 원하는 대로 동작하고 있는지 출력하곤 했을 것입니다. 또한 스프링 부트와 같은 프레임워크를 사용하면서 Log 객체를 이용해 로그를 남겨본 경험이 있을 것입니다.&lt;/p&gt;
&lt;p&gt;이런 과정을 로깅이라고 할 수 있는데, 쉽게 말해 프로그램 동작시 발생하는 모든 일을 기록하는 행위를 말합니다.&lt;/p&gt;
&lt;p&gt;로깅을 통해 시스템 내부에 문제가 발생한 경우 쉽게 파악할 수 있고, 사용자 로그의 경우 분석의 도구로 사용될 수 있습니다.&lt;/p&gt;
&lt;p&gt;하지만 인터넷에서 발생하는 모든 요청에 대해 로그를 남기면 어떻게 될까요?&lt;/p&gt;
&lt;p&gt;로그의 양이 너무나 방대해지며 원하는 로그를 찾는 비용이 점점 커질 것입니다.&lt;/p&gt;
&lt;p&gt;어떻게 로깅을 효율적으로 할 수 있을까요?&lt;/p&gt;
&lt;p&gt;개발자가 원하는 정보를 알맞은 수준의 로그로 남길 수 있다면 효율적으로 로깅을 할 수 있습니다.&lt;/p&gt;
&lt;p&gt;또한 가용하고 있는 서버의 환경에 따라 적절한 로깅 전략을 가져간다면, 개발 과정에서도 로깅을 효율적으로 사용할 수 있을 것입니다.&lt;/p&gt;
&lt;h2&gt;Logback vs Log4j2&lt;/h2&gt;
&lt;p&gt;스프링 환경의 대표적인 로깅 프레임워크는 &lt;code class=&quot;language-text&quot;&gt;Logback&lt;/code&gt;과 &lt;code class=&quot;language-text&quot;&gt;Log4j2&lt;/code&gt;가 있습니다.
각각의 장단점이 있지만 현재 스프링 부트에서는 기본적으로 logback을 사용하기 때문에 주어진 기간 내에 빠르게 적용할 수 있고,
현재 프로젝트의 규모에서는 logback과 log4j2 성능 차이가 크지 않을 것이라고 판단해 &lt;code class=&quot;language-text&quot;&gt;logback&lt;/code&gt;을 사용하기로 결정했습니다.&lt;/p&gt;
&lt;h2&gt;스프링 부트에서 로그 남기기&lt;/h2&gt;
&lt;p&gt;스프링 부트에서는 로그를 쉽게 남길 수 있도록 편의를 제공합니다.&lt;/p&gt;
&lt;p&gt;초기의 스프링은 JCK(Jakarta Commons Logging)을 사용해서 로깅을 구현했는데, 요즘에는 Log4j, Logback으로 스프링 부트의 로그 구현체를 사용합니다.&lt;/p&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/ab4d8285e097286cbd4983e0c9e9a2d9/f5f2a/img_0.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 70.58823529411764%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAACQ0lEQVR42o2T3XPSQBTF+Uu0AoFCAoRAkk02m00CVKgCtc74gY+OD9jp6JP1Y8Z//XjvDdD2wdGHM/uV/WX3nrONnjeCr14iszPEiUacZlCpgdJG2lCl6PT6cM7/Tw0GjqIlDAEVwdIshylKpMZC54W0ic4FzOvdvvcP4GBMJ9zAzldI8xLaVjDlHHm5IPBc+ra6kPnxNEb73IXT8/4iF412+gGD2S2yzQ2i1SeRXu+ljS/rfrD4iI7ewUnfo6XeHfT2gd6glezQmizRaJZf4C5/Q13/QrD5hun2DvH1T4SvfmC6uUO4/Q6nusWTbI+nZo+z/DOe2Rs0i1u0SE0RjcuvAm90JjMMsx304jVCu0ZUrKGqKySzK2q3mNLcMFnVSlcYJEtR27c48zSagwytoaFxgfZAUQ37fYzCC1g2QqfIjEFRlshtIX2WyXNat6R6TiUJxsEYwSSAP/bhelS/jgOn22WXfTJljWK+FEdZtlqQKXOKUiXSZNaxn5qCzJrBzi7kmyBS8EYBOezWLp9zbOJLcVFymGSnuEgWSZzNhOLE4nWluW/gT0L0vCHa3d59bAQYUWRMSVlLEBFUskebI1UHneeO8DqPRuZkjb5xhz6F330MzA7BZpCRax5CndXwY9AZevwhS1MJplFyOqm8FD9+QTV5Tq+k3nRfw/IkU1QihvEPzaGmXIKH1z4Bc4Icr8UbGcJwPoGcjloe8zPM8nqNr8wleAQ8mZJXh7qYw3WLe1PECFPXlb5hKMOOqQjC+FTDPwqq0yHZtkRIAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img 0&apos; title=&apos;&apos; src=&apos;/static/ab4d8285e097286cbd4983e0c9e9a2d9/ca1dc/img_0.png&apos; srcset=&apos;/static/ab4d8285e097286cbd4983e0c9e9a2d9/e7570/img_0.png 170w,
/static/ab4d8285e097286cbd4983e0c9e9a2d9/f46e7/img_0.png 340w,
/static/ab4d8285e097286cbd4983e0c9e9a2d9/ca1dc/img_0.png 680w,
/static/ab4d8285e097286cbd4983e0c9e9a2d9/f5f2a/img_0.png 695w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/c87611b3abd7ac530dcc492338c2b41b/bbbf7/img_0-1.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 27.647058823529413%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsTAAALEwEAmpwYAAABMElEQVR42k2Qy26DMBRE+Q8ewQ+MiYNDIKTYBAI0rdRF1f//mumN20ZdHM3Ii9HxjYw9YV8fn1QHC2Mb2KaD3hsUpsbeGtS2gq4qVHUHoS1EoSHLClJp6uWT6DLe4ecFflrhrgvctGC8bWh7B6kNMiZhWIZeZThpCc4lclGCCUUUIeM4RZxkRIpoWxe8bjds64x1mTBfPeFwOZ9gqgI5DZQ8hy0FtKIRxsMblwqcjAKPLsmQiN4mi6/3EcuLwbUt4I4cg2VwD6gLGlOcoSE7nScoBQ/fzZnALhdIs/yHHUNGRLPr8flxx82fMXQWrj/C903oL+0BqlSQnOwkh6IxVRQo9IFuVwWzLOc0zJ8ZXdwEN45wfsTgPQbnQ7bdGUrrcKckY4h/ScgmSXch/8z+8w1fArNkDzkxkAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img 0 1&apos; title=&apos;&apos; src=&apos;/static/c87611b3abd7ac530dcc492338c2b41b/ca1dc/img_0-1.png&apos; srcset=&apos;/static/c87611b3abd7ac530dcc492338c2b41b/e7570/img_0-1.png 170w,
/static/c87611b3abd7ac530dcc492338c2b41b/f46e7/img_0-1.png 340w,
/static/c87611b3abd7ac530dcc492338c2b41b/ca1dc/img_0-1.png 680w,
/static/c87611b3abd7ac530dcc492338c2b41b/02d09/img_0-1.png 1020w,
/static/c87611b3abd7ac530dcc492338c2b41b/bbbf7/img_0-1.png 1280w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;스프링 부트는 기본적으로 Logback 설정이 되어 있습니다. 라이브러리를 살펴보면 slf4j를 사용하고 있음을 확인할 수 있습니다.&lt;/p&gt;
&lt;p&gt;Slf4j는 Simple Logging Facade for Java라는 뜻으로 다양한 로깅 프레임워크에 대한 추상화(인터페이스) 역할을 합니다.&lt;/p&gt;
&lt;p&gt;Logback은 Slf4j의 구현체이며 Log4j를 토대로 만든 프레임워크입니다.&lt;/p&gt;
&lt;p&gt;스프링 프레임워크에서도 slf4j와 Logback을 채택해서 사용하고 있습니다.&lt;/p&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/3de5b5b010f986248d99a0a8957ea158/a6a70/img_1.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 36.47058823529412%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsTAAALEwEAmpwYAAAA4klEQVR42pWRW27DIBBFvY6WNwOEh+2midT9r+z2hlhRW+Wj+ThC44EzF7Ncd42ta+yktoiQTghSSIbzAqXtSywtOoi3yEQoy3UglQYpFT4mKGXw/gwenhz1Q/imHIqzhKtRSDGitI1DCiScpnjsF9Sx8/vK9QOddU+CVgrqep497+MUL8YwXdaEsuxhY4Gj1HKD1o5THbR5AtNMjvqR8Cb82jSuQ+Gyepw/maRXuBDum9hXP66ktDk46l89Cu/TAnIYyDJQe58JnQSEHBGzwFo//9e/HmVejQfUjG9fftW/wm/HuMFPNDWExgAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img 1&apos; title=&apos;&apos; src=&apos;/static/3de5b5b010f986248d99a0a8957ea158/ca1dc/img_1.png&apos; srcset=&apos;/static/3de5b5b010f986248d99a0a8957ea158/e7570/img_1.png 170w,
/static/3de5b5b010f986248d99a0a8957ea158/f46e7/img_1.png 340w,
/static/3de5b5b010f986248d99a0a8957ea158/ca1dc/img_1.png 680w,
/static/3de5b5b010f986248d99a0a8957ea158/a6a70/img_1.png 730w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;컨트롤러에서 LoggerFactory를 직접 생성해 로그를 남길 수도 있고&lt;/p&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 654px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/b5db7b58566d56006fbb8ad4c4b46024/ba4a2/img_2.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 36.47058823529412%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAvklEQVR42pWRWQ7DIAwFe46AAQOOkzRr1d7/aK8m7QGSj5FlCQ9eHq+Xwzx7cA7gQvBE6FyA8w3LLXqKl3l8dsI+E7anx74yZBhQZESVFhUpV/iQrguVE5gSiiUpVFRdoOMC0emES3+vQxciltbh5rEtHXR+IomgDAKyj7qO7gmpCSXgGBjHWPDeRuzHitwrIrORQXdGbo8pWmEU9LraDieT2BpqNmlBUUEysfcXhW3pTXhe1dFJK/5d+c+Nkb+esr/WCSulKQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img 2&apos; title=&apos;&apos; src=&apos;/static/b5db7b58566d56006fbb8ad4c4b46024/ba4a2/img_2.png&apos; srcset=&apos;/static/b5db7b58566d56006fbb8ad4c4b46024/e7570/img_2.png 170w,
/static/b5db7b58566d56006fbb8ad4c4b46024/f46e7/img_2.png 340w,
/static/b5db7b58566d56006fbb8ad4c4b46024/ba4a2/img_2.png 654w&apos; sizes=&apos;(max-width: 654px) 100vw, 654px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;롬복에서 제공해 주는 @Slf4j 어노테이션을 통해 log 객체를 사용할 수 있습니다.&lt;/p&gt;
&lt;p&gt;롬복으로 @Slf4j 어노테이션을 사용하면 컴파일 타임에 다음과 같은 코드를 생성해 준다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;&lt;span class=&quot;token namespace&quot;&gt;org&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;slf4j&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;/span&gt;Logger&lt;/span&gt; log &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;&lt;span class=&quot;token namespace&quot;&gt;org&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;slf4j&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;/span&gt;LoggerFactory&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getLogger&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;LogExample&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;지금까지 설명한 방법으로 로그를 남기면 실행 중인 애플리케이션의 콘솔에 로그가 남게 됩니다.&lt;/p&gt;
&lt;p&gt;즉 애플리케이션을 껐다 켜게 되면 별도의 output으로 빼서 처리하지 않는 한 해당 로그들이 사라지게 됩니다.&lt;/p&gt;
&lt;p&gt;또한 원하는 레벨 별로 로그를 확인하기 제한이 있고, 별도의 파일로 저장해 로그를 관리하기에도 제한이 있습니다.&lt;/p&gt;
&lt;p&gt;이런 상황을 해결할 수 있는, logback을 활용한 효과적으로 로깅할 수 있는 방법을 알아봅시다.&lt;/p&gt;
&lt;h2&gt;Logback을 활용해 효과적으로 로깅하기&lt;/h2&gt;
&lt;p&gt;스프링 부트에서 콘솔 로그의 수준을 변경하는 방법은 &lt;code class=&quot;language-text&quot;&gt;application.properties&lt;/code&gt;나 &lt;code class=&quot;language-text&quot;&gt;logback-spring.xml&lt;/code&gt; 에서 설정하는 방법이 있습니다.&lt;/p&gt;
&lt;p&gt;application.properties로 설정하는 방법이 있지만 세세한 설정을 하는데 제한이 있습니다.&lt;/p&gt;
&lt;p&gt;그러므로 logback-spring.xml로 관리하여 세부적인 설정을 할 수 있습니다.&lt;/p&gt;
&lt;p&gt;스프링 부트는 로깅 설정 파일의 네이밍에 관한 규칙을 가지고 있습니다.&lt;/p&gt;
&lt;p&gt;스프링 부트가 로딩되는 시점에 로그 설정 파일이 프로젝트 내에 존재하는지 스캔하는데&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;logback-spring.xml&lt;/li&gt;
&lt;li&gt;logback-spring.groovy&lt;/li&gt;
&lt;li&gt;logback.xml&lt;/li&gt;
&lt;li&gt;logback.grooby&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;등의 파일을 스캔하고 발견하면 해당 파일에 정의된 로그 설정을 적용합니다.&lt;/p&gt;
&lt;p&gt;여기서 logback-spring.xml은 Spring Boot에 특화된 설정 파일입니다.&lt;/p&gt;
&lt;p&gt;이 파일을 사용하면 Spring Boot의 로깅 확장 기능을 활용할 수 있습니다. 예를 들면, 프로파일에 따른 로그 레벨 설정이나 Spring 환경 변수를 로깅 설정에 사용하는 것 같은 기능들을 활용할 수 있습니다.&lt;/p&gt;
&lt;p&gt;만약 다른 파일 이름으로 된 로그 설정 파일을 사용하고 싶으면 logging.config 값을 변경한 후 프로그램 실행 시 JVM 인자로 설정하면 됩니다.&lt;/p&gt;
&lt;p&gt;Logback 설정을 하기 전, 구조를 간단하게 살펴보면 Logback은 크게 3가지 &lt;code class=&quot;language-text&quot;&gt;Logger&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;Appender&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;Layout&lt;/code&gt;의 구성 요소를 가지고 있습니다.&lt;/p&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/09e8fa1cc96338605cc06bae60ba647c/ef0cc/img_3.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 58.235294117647065%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAABkUlEQVR42p1TyW7CUAx8//89PbQSPVCpFYUT5MASsrJDAoSQhJTANGP6orSqqFRLFsbPy4ztKJQSBAEajQaazSZ2ux1duF6v+Cn03VOKWiwWMAwDrVYL7XZb7OVyiaIo8B9RYRjicrlgu92KstN6vRbUdTmfz2Dz6XSK2WxW/WqbOayjDoeDJFiWhcFgIPZ+v5dkBkVRJD4m0k9hYl0pBEZmyjRNjMdjeJ4H3/fFpuZ5LmgZOJ/P5S3LMoxGIzCn1+vB9VyJdRwHaZoKCOW6rkBmAosSiW3biOO4WgTnOZlMpAkbMNa1HPiOJ7H7ksXpdJLGKkkSUPv9PobDoSSRJhM1PQqD+ZYmKUzbxFPnGQ9vj+gaXfHxTQqyG6Fqyto+Ho/fzofBpCVNwgC79xdEnVcU8W0HmaZMyKStN0abPlKoF+RYOMMvZ1khB/KPm10KWTJf6VkRHZXC49aUdUFeA9+rUykRT0rV/zljMlCr1UoMbkpvktB/+2K4nHsqh81bo7IAD5sNNptNtYz6Z/eXMOYT8oaSPcczsJEAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img 3&apos; title=&apos;&apos; src=&apos;/static/09e8fa1cc96338605cc06bae60ba647c/ca1dc/img_3.png&apos; srcset=&apos;/static/09e8fa1cc96338605cc06bae60ba647c/e7570/img_3.png 170w,
/static/09e8fa1cc96338605cc06bae60ba647c/f46e7/img_3.png 340w,
/static/09e8fa1cc96338605cc06bae60ba647c/ca1dc/img_3.png 680w,
/static/09e8fa1cc96338605cc06bae60ba647c/ef0cc/img_3.png 962w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
&lt;code class=&quot;language-text&quot;&gt;Logger&lt;/code&gt;는 로깅을 수행하는 주요 객체입니다.
로거는 이름을 가지며 주로 패키지 이름 또는 클래스 이름과 일치하게 설정합니다.
또한 로거는 계층 구조를 가지는데 ROOT 로거는 모든 로거의 상위 로거입니다.&lt;/p&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/43d35f9a20e5195647f6511eb9a7b7b6/d7258/img_4.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 57.05882352941176%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABmUlEQVR42pVSa2+CQBDk//+jNq3pw6Zf0BgTQb1ieSgg4JOnVZzenMU0xjbtJptlub3ZnbnVjscjaIvFAp1OB2EY4idj7W9O0wjkui6CIMB8PleAtm0jjuMzyH9M830fVVUhz3P0+30sl0uVs8F3wP1+j+l0qho2jRtnTpyyLKExybLsDFIUhcr5n1bXtYps6DiOOluv19hut8o3mw3SNFXAURSdKHe7XQwGAwyHQxiGAV3Xz4DNhGw4Ho+VHHe3N3ho3eOl/Yz20yMMeVcIgSRJoHEqjkqq1JINOKXneWoSaslC1jW6WrMQIy+AEy0x8SN8HGrJIDtNyEJ2Z2JZlrpMQGpCujzb7Xay4QpxNMdBAgrbx8gYYWAKGMJBujsiz1KJEUMjQEPZNE0Vr1GmhrG8kO4zCE/Hm3kLa9zCu/2KpEgkYI4ojk6PQlFJmyJzIsZLQJ6TQRAGEO4EYuZCTB2M5Lcjvz3Xw2q1Oq0NKRG01+sp3a6tDSOnpBxVUUkvv7xCKSPPKJHGx+A6NIvNyJekFJeL/Zcl/wRaKkLcnPtj/QAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img 4&apos; title=&apos;&apos; src=&apos;/static/43d35f9a20e5195647f6511eb9a7b7b6/ca1dc/img_4.png&apos; srcset=&apos;/static/43d35f9a20e5195647f6511eb9a7b7b6/e7570/img_4.png 170w,
/static/43d35f9a20e5195647f6511eb9a7b7b6/f46e7/img_4.png 340w,
/static/43d35f9a20e5195647f6511eb9a7b7b6/ca1dc/img_4.png 680w,
/static/43d35f9a20e5195647f6511eb9a7b7b6/d7258/img_4.png 966w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
&lt;code class=&quot;language-text&quot;&gt;Appender&lt;/code&gt;는 로깅 이벤트를 특정 출력 대상으로 전송하는 구성 요소입니다.
쉽게 말해 로그 메세지가 출력할 대상을 결정한다고 할 수 있습니다.
콘솔에 출력할지, 파일에 출력할지 등등.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;각 로거는 하나 이상의 Appender에 연결될 수 있습니다.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/d6df828e4016d1e73476adb4d4199514/8aec5/img_5.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 56.470588235294116%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABlUlEQVR42pVTa0/CQBDs//9BGo0ao8QPPBKFAAV5llL6bmmbFvpg7KwpQUNi3GRz173u7MzennI8HhFFEabTKdrtNna7HdI0RVmW+I+dTidxRdM0uK4roIfDAfv9Hoz5vn/+8VriNacpm81GNqZpotvtgoyTJIFt2z8AyXq9XsMwDOi6ju12e3bGSCIIAig8bJh5nocsy4Qx97SqqmTlN+O/WTd75hFLWS6X6PV6GA6HGI1GGAwG8s0ClwlhGAoTMlInE6xWK8xmM8znc6iqWhdzRKUwpHElbfbyUnLDkOwIcHN7i4f7O7y9vuD56RGDj3e0Wi3JZY70kElkulgspA/0S0CyIwvGa8pYuzE+7Qial0APUxRlJZKpQCFIp9MRuePxGP1+Xy6nkcwxiuNYbt33A4kFWQkjKbCr3YxzifEyBbCRzCQ2vigKkc1DsqR8GguwuGlZsOteebYF1zbhWqb0jpKt+uw8Nkye1M3O81xAOCKX88WV00DPsoNIbPw7lsljEIas4DiOMCQwq7Fv1wb7r9fyBbiYQ9oRstJbAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img 5&apos; title=&apos;&apos; src=&apos;/static/d6df828e4016d1e73476adb4d4199514/ca1dc/img_5.png&apos; srcset=&apos;/static/d6df828e4016d1e73476adb4d4199514/e7570/img_5.png 170w,
/static/d6df828e4016d1e73476adb4d4199514/f46e7/img_5.png 340w,
/static/d6df828e4016d1e73476adb4d4199514/ca1dc/img_5.png 680w,
/static/d6df828e4016d1e73476adb4d4199514/8aec5/img_5.png 942w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
&lt;code class=&quot;language-text&quot;&gt;Layout&lt;/code&gt;은 로깅 이벤트가 어떻게 포맷되어 출력될지 결정하는 구성 요소입니다.
사용자가 지정한 형식으로 로그 메세지를 변환한다는 것을 의미합니다.
예를 들어 자바에서 문자열 포맷팅과 비슷하다고 할 수 있습니다.&lt;/p&gt;
&lt;p&gt;이제 로그를 남기는 방법을 알아보겠습니다.&lt;/p&gt;
&lt;h2&gt;logback-spring.xml 작성 &amp;#x26; 환경 별 로그 작성&lt;/h2&gt;
&lt;h3&gt;1. &lt;strong&gt;logback-spring.xml 생성&lt;/strong&gt;&lt;/h3&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token prolog&quot;&gt;&amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;configuration&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
 &lt;span class=&quot;token comment&quot;&gt;&amp;lt;!-- 추가할 기능을 작성할 곳. --&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;configuration&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;2. &lt;strong&gt;appender와 pattern을 이용해 로그 출력 위치와 출력되는 형식 지정&lt;/strong&gt;&lt;/h3&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token prolog&quot;&gt;&amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;configuration&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;conversionRule&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;conversionWord&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;clr&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;converterClass&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;org.springframework.boot.logging.logback.ColorConverter&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;

    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;property&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;CONSOLE_LOG_PATTERN&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
              &lt;span class=&quot;token attr-name&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %clr(%5level) %cyan(%logger) - %msg%n&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;

    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;appender&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;CONSOLE&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;ch.qos.logback.core.ConsoleAppender&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;encoder&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
            &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;pattern&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;${CONSOLE_LOG_PATTERN}&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;pattern&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;encoder&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;appender&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;

    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;root&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;level&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;INFO&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;appender-ref&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;ref&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;CONSOLE&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;root&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;configuration&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;property를 이용해 변수처럼 선언할 수 있습니다. 마치 자바에서 상수화를 시키는 것과 같습니다.&lt;/p&gt;
&lt;p&gt;콘솔에는 색을 포함해 이쁘게 출력하기 위해 스프링 부트에서 제공하는 Logback 컨버터 ColorConverter 태그를 선언합니다.&lt;/p&gt;
&lt;p&gt;작성한 로그 패턴 &quot;%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %clr(%5level) %cyan(%logger) - %msg%n&quot;을 살펴보면&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;%d{yyyy-MM-dd HH:mm:ss.SSS}: 로그 이벤트가 발생한 날짜와 시간을 yyyy-MM-dd HH:mm:ss.SSS 형식으로 표시.&lt;/li&gt;
&lt;li&gt;[%thread]: 현재 로그 이벤트를 발생시킨 스레드의 이름을 표시.&lt;/li&gt;
&lt;li&gt;%clr(%5level): clr 변환 키워드를 사용하여 로그 레벨 (INFO, ERROR 등)을 적절한 색상으로 출력.&lt;/li&gt;
&lt;li&gt;%cyan(%logger): 로거 이름 (%logger)을 시안색 (cyan)으로 출력.&lt;/li&gt;
&lt;li&gt;%msg: 로그 메시지의 내용을 표시.&lt;/li&gt;
&lt;li&gt;%n: 줄 바꿈 문자.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;appender의 이름은 CONSOLE로 지정하고 pattern은 앞서 property에서 정의한 CONSOLE&lt;em&gt;LOG&lt;/em&gt;PATTERN을 사용합니다.&lt;/p&gt;
&lt;p&gt;마지막으로 로거 레벨을 INFO로 설정하고 사용할 appender를 appender-ref 태그를 이용해 명시합니다.&lt;/p&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/0b4be27c29b1fb22bf0b7980a42ab43d/bbbf7/img_6.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 31.176470588235293%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA4UlEQVR42p2Ra27DIBCEfYnUTWKDHcDmteAk9z/bdCCtVFWVKvXHJ2AYZhcY1Oqgl1tH6RXLajDN+t8Mxm5wu4fb9o51O2a1/HnwOqnfA1drYDaLm2k4uB7IzRb6g1ZI8xbqG02/tgKfDKXekXKBlAO5CNYUcIkJYxa8UVcxY5MKRzxJ9IUkCPS4IFCbYDIJk30xHMejhx33J5IknIPDiUXGUnvgKAVnBl2ozRw1dU+9cp3l6IRWdI/YQ3p1mGms9YGYI7tzPeQ9ZXZZcOLc8oDQ17zCtfexh/SPbFfme37xAdheqfcsKpUBAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img 6&apos; title=&apos;&apos; src=&apos;/static/0b4be27c29b1fb22bf0b7980a42ab43d/ca1dc/img_6.png&apos; srcset=&apos;/static/0b4be27c29b1fb22bf0b7980a42ab43d/e7570/img_6.png 170w,
/static/0b4be27c29b1fb22bf0b7980a42ab43d/f46e7/img_6.png 340w,
/static/0b4be27c29b1fb22bf0b7980a42ab43d/ca1dc/img_6.png 680w,
/static/0b4be27c29b1fb22bf0b7980a42ab43d/02d09/img_6.png 1020w,
/static/0b4be27c29b1fb22bf0b7980a42ab43d/bbbf7/img_6.png 1280w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
위와 같이 출력됨을 확인할 수 있습니다.&lt;/p&gt;
&lt;h3&gt;3. &lt;strong&gt;환경 별로 로그 남기는 방법 나누기&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;현재 저희 팀은 운영 서버, 개발 서버를 나누어 가용 중에 있고 팀원들이 로컬로 개발하는 환경까지 총 3개의 환경에서 서버를 운영하고 있습니다.&lt;/p&gt;
&lt;p&gt;로컬 서버의 경우 DB로 날아가는 쿼리를 모두 확인할 필요가 있고, 필요한 경우 DEBUG 수준의 로그도 확인하는 상황이 생깁니다.&lt;/p&gt;
&lt;p&gt;개발 서버의 경우 실제 사용자를 기반으로 한 로그가 아닌, 개발 단계에서 필요한 쿼리 확인, 개발자가 의도한 예외가 발생하는지 등의 정보가 필요합니다.&lt;/p&gt;
&lt;p&gt;운영 서버의 경우 쿼리나 의도한 예외를 확인하는 로그보다는, 예상하지 못한 에러(NPE, ISE)등이 발생했을 때 에러에 대한 로그가 필요합니다.&lt;/p&gt;
&lt;p&gt;또한 개발 서버, 운영 서버는 콘솔 output이 아닌 별도의 파일에 로그를 저장해야 합니다.&lt;/p&gt;
&lt;p&gt;그러므로 각 환경마다 로그 전략을 다르게 가져가야 합니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token prolog&quot;&gt;&amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;configuration&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;conversionRule&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;conversionWord&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;clr&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;converterClass&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;org.springframework.boot.logging.logback.ColorConverter&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;

    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;property&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;CONSOLE_LOG_PATTERN&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
              &lt;span class=&quot;token attr-name&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %clr(%5level) %cyan(%logger) - %msg%n&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;property&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;FILE_LOG_PATTERN&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %5level %logger - %msg%n&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;
    
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;appender&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;CONSOLE&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;ch.qos.logback.core.ConsoleAppender&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;encoder&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
            &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;pattern&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;${CONSOLE_LOG_PATTERN}&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;pattern&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;encoder&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;appender&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;appender&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;FILE-INFO&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;ch.qos.logback.core.rolling.RollingFileAppender&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;encoder&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
            &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;pattern&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;${FILE_LOG_PATTERN}&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;pattern&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;encoder&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;rollingPolicy&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
            &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;fileNamePattern&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;./log/pium-dev-%d{yyyy-MM-dd}.%i.log&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;fileNamePattern&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
            &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;maxFileSize&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;50MB&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;maxFileSize&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
            &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;maxHistory&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;30&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;maxHistory&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
            &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;totalSizeCap&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;1GB&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;totalSizeCap&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;rollingPolicy&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;appender&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;

    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;appender&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;FILE-ERROR&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;ch.qos.logback.core.rolling.RollingFileAppender&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;filter&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;ch.qos.logback.classic.filter.LevelFilter&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
            &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;level&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;ERROR&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;level&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
            &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;onMatch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;ACCEPT&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;onMatch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
            &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;onMismatch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;DENY&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;onMismatch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;filter&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;encoder&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
            &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;pattern&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;${FILE_LOG_PATTERN}&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;pattern&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;encoder&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;rollingPolicy&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
            &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;fileNamePattern&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;./log/pium-prod-%d{yyyy-MM-dd}.%i.log&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;fileNamePattern&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
            &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;maxFileSize&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;50MB&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;maxFileSize&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
            &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;maxHistory&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;30&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;maxHistory&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
            &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;totalSizeCap&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;3GB&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;totalSizeCap&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;rollingPolicy&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;appender&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;root&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;level&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;INFO&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;appender-ref&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;ref&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;CONSOLE&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;root&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;configuration&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;우선 파일로 출력하기 위한 property와 appender를 추가합니다.
Property는 콘솔에서 지정한 방법과 동일하지만 파일에 저장하는 경우에는 색이 들어갈 필요가 없고, 색 코드가 들어가면 글자가 깨지는 현상이 발생합니다.
그러므로 색을 제거한 패턴을 작성했습니다.&lt;/p&gt;
&lt;p&gt;Appender의 경우 File로 로그를 남기기 위해 RollingFileAppender를 사용했습니다.
&lt;code class=&quot;language-text&quot;&gt;INFO&lt;/code&gt;와 &lt;code class=&quot;language-text&quot;&gt;ERROR&lt;/code&gt;로 appender를 구분해 레벨 수준에 따라 별도의 appender로 분리했습니다.
RollingFileAppender는 &lt;strong&gt;maxFileSize&lt;/strong&gt;와 &lt;strong&gt;maxHistory&lt;/strong&gt;, &lt;strong&gt;totalSizeCap&lt;/strong&gt; 설정을 통해 한 로그 파일의 최대 크기, 며칠 동안 보관할지, 모든 로그 파일(./logs/..)의 크기를 설정할 수 있습니다.&lt;/p&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/ec20e9af53f0f1185e8c1bf011ce922a/bbbf7/img_7.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 57.05882352941176%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABg0lEQVR42p2TS47bMBBEfY/YEiXx0/xKlDVjZBAHyf0PVSnS2mUxkywKLRHkQ3WzeFmsh/YBNhRYKRC/QsoDs43Q2mGhpsV8Lm2xiMdlGBWmWSOVO+J6R65vqN9/IeQdltBxmHG9Dl/TbWzACYOaIbHAUyFtiDsdasEwTF1t41fVgTMtx1IRc0Whw+3xhKQK5zLGcfl34EiHPq0dKiFjdmx1MnSncPsfh22oIW+93cQ5ro+fp0OCxxnfbsNL18/1l8PAOhsLxYuaJg3FlhtUNanllO7q69ynZgM1veqlwazzMJR1AucTjo8fKOVAMAXJbRATEdzKb87Zssrev40OTMaOvL3BiLCr3IATnAQY66CNg+MMP56/Ubf38zBb1wmR4HyCijBejrEisMVsZSoWZ3k2vhy+gNKhLTrH84mtviPZ2iHelhO2daclHsiBuU1cq3dqh2Z3hlG7tAw20NKSrg3hEXLsPZdCZ2IyPNWqs/zna4q8MOsSx5N7Ry4kvrLIsxl/ACInPAm+pUi6AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img 7&apos; title=&apos;&apos; src=&apos;/static/ec20e9af53f0f1185e8c1bf011ce922a/ca1dc/img_7.png&apos; srcset=&apos;/static/ec20e9af53f0f1185e8c1bf011ce922a/e7570/img_7.png 170w,
/static/ec20e9af53f0f1185e8c1bf011ce922a/f46e7/img_7.png 340w,
/static/ec20e9af53f0f1185e8c1bf011ce922a/ca1dc/img_7.png 680w,
/static/ec20e9af53f0f1185e8c1bf011ce922a/02d09/img_7.png 1020w,
/static/ec20e9af53f0f1185e8c1bf011ce922a/bbbf7/img_7.png 1280w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;환경 별로 분리하기에 앞서, &lt;strong&gt;각 appender 들은 분리 하여 설정 파일로 저장해 두면 재사용을 할 수 있습니다.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;위에서 작성한 console, file-info, file-error appender 들을 각각의 xml 파일로 분리합니다.&lt;/p&gt;
&lt;p&gt;자바에서 클래스로 분리하는 것과 동일한 맥락입니다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;console-appender.xml&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;included&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;appender&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;CONSOLE&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;ch.qos.logback.core.ConsoleAppender&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;encoder&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
            &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;pattern&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;${CONSOLE_LOG_PATTERN}&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;pattern&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;encoder&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;appender&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;included&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;file-info-appender.xml&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;included&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;appender&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;FILE-INFO&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;ch.qos.logback.core.rolling.RollingFileAppender&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;encoder&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
            &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;pattern&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;${FILE_LOG_PATTERN}&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;pattern&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;encoder&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;rollingPolicy&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
            &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;fileNamePattern&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;./log/pium-dev-%d{yyyy-MM-dd}.%i.log&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;fileNamePattern&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
            &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;maxFileSize&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;50MB&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;maxFileSize&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
            &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;maxHistory&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;30&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;maxHistory&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
            &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;totalSizeCap&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;1GB&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;totalSizeCap&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;rollingPolicy&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;appender&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;included&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;file-error-appender.xml&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;included&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;appender&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;FILE-ERROR&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;ch.qos.logback.core.rolling.RollingFileAppender&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;filter&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;ch.qos.logback.classic.filter.LevelFilter&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
            &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;level&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;ERROR&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;level&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
            &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;onMatch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;ACCEPT&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;onMatch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
            &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;onMismatch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;DENY&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;onMismatch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;filter&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;encoder&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
            &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;pattern&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;${FILE_LOG_PATTERN}&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;pattern&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;encoder&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;rollingPolicy&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
            &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;fileNamePattern&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;./log/pium-prod-%d{yyyy-MM-dd}.%i.log&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;fileNamePattern&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
            &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;maxFileSize&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;50MB&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;maxFileSize&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
            &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;maxHistory&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;30&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;maxHistory&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
            &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;totalSizeCap&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;3GB&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;totalSizeCap&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;rollingPolicy&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;appender&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;included&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이제 환경별로 로그 전략을 분리하겠습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token prolog&quot;&gt;&amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;configuration&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;include&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;resource&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;org/springframework/boot/logging/logback/defaults.xml&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;conversionRule&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;conversionWord&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;clr&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;converterClass&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;org.springframework.boot.logging.logback.ColorConverter&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;

    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;property&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;CONSOLE_LOG_PATTERN&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
              &lt;span class=&quot;token attr-name&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %clr(%5level) %cyan(%logger) - %msg%n&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;property&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;FILE_LOG_PATTERN&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %5level %logger - %msg%n&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;

    &lt;span class=&quot;token comment&quot;&gt;&amp;lt;!--local--&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;springProfile&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;local&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;include&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;resource&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;console-appender.xml&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;

        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;root&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;level&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;INFO&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
            &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;appender-ref&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;ref&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;CONSOLE&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;root&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;springProfile&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;

    &lt;span class=&quot;token comment&quot;&gt;&amp;lt;!--dev--&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;springProfile&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;dev&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;include&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;resource&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;file-info-appender.xml&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;

        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;root&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;level&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;INFO&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
            &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;appender-ref&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;ref&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;FILE-INFO&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;root&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;

        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;logger&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;level&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;DEBUG&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;org.hibernate.SQL&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
            &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;appender-ref&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;ref&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;FILE-INFO&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;logger&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;

        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;logger&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;level&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;TRACE&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;org.hibernate.type.descriptor.sql.BasicBinder&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
            &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;appender-ref&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;ref&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;FILE-INFO&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;logger&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;springProfile&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;

    &lt;span class=&quot;token comment&quot;&gt;&amp;lt;!--prod--&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;springProfile&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;prod&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;include&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;resource&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;file-error-appender.xml&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;

        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;root&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;level&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;ERROR&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
            &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;appender-ref&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;ref&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;FILE-ERROR&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;root&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;springProfile&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;

&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;configuration&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;springProfile&lt;/code&gt; 태그를 이용해 local, dev, prod로 분리할 수 있습니다.&lt;/p&gt;
&lt;p&gt;include 태그를 이용해 어떤 appender를 사용할지 추가합니다. 자바에서 import와 동일하다고 생각하면 됩니다.&lt;/p&gt;
&lt;p&gt;이후 각 profile 별로 로그 레벨을 설정하고 필요한 appender를 appender-ref 태그에 추가하면 됩니다.&lt;/p&gt;
&lt;p&gt;개발 서버의 경우 쿼리와 쿼리에 바인딩되는 파라미터를 확인하기 위해 DEBUG, TRACE 레벨의 appender를 추가해 줬습니다.&lt;/p&gt;
&lt;p&gt;로컬은 local로 profile을 구분해도 되고, 아무런 profile을 선언하지 않으면 default로 해당 설정을 읽기 때문에 구분하지 않아도 됩니다.&lt;/p&gt;
&lt;p&gt;만약 local로 profile을 설정한 경우에는 인텔리제이에서 아래와 같이 설정해야 콘솔 로그를 확인할 수 있습니다.&lt;/p&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/dfcce8343428a65a1ae00cf05fc48e9d/4f939/img8.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 84.11764705882354%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAAAsTAAALEwEAmpwYAAACTklEQVR42pWUWY7UMBCGcwokJKSedBY7cRLHcZLu9ELDLA+IO/CCxOm4489f1QsMYmB4+FR2xSnX6iSWFdbRIjOkIOWZdV7CtR5x2mAYZ/TDqOu66fRbVhjkprqdl/VdViCJPNgMA3ycsTucMC8H1DRkXAPrWhogrdCpvqLBsnLKvOwxbpabFF3S0eDEmycf9MPueELDdU6PTTPAhCM5IHfh7JWtUfxCWTUXHNb8noi7hanRdAF+mJS2j2RAIzJMcCpHuK5/ZqxgmHlp9HLZy4WJHArMkVC57icMTUIWKdSNV71cfvasZlp62G6CbUeuPY1bJJ4hHz/cI87bW25M3dzkLTTr9ALx3LU99zTYBFT9Auu3XHstTGJqp8baEFEz7MZLuONFRjUihi29k/203WlaRCf/iqeCrVtezKJUrFzHCvdxgxCZwzCcUyDrgQZremKtUhrDkI1K1VVCpVgxLCFLRSeWPM4LqvkBeTjhrt0h7fYXDkj9T9b+SJ7rUs9z/Qkrt0FyzUstFRwfUW4+IY9PyITxCWl44OF7yr/xEenwhFWzO7dNx/wN7MU4jugD+3GeuY4YpwkDw87zXCnL8kUMyfIMifSQdPnChl44KdN2r9Oy3b9XObIIouvHjSb9JaS5tbF1IrRiL3OtdPHblDyfGHc1WKlC5L/4oyH5V7ys+WgU7MPsMjb/w/V1KSxfG0ppozJbIVunrLJ0/GVCXot2BftXUtF5j4xtkz98w6p/pMF1gTQr9S17LfI+ynxLqL5zeNt/xrsv3/Fm+YofTyIB/U3cVpoAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img8&apos; title=&apos;&apos; src=&apos;/static/dfcce8343428a65a1ae00cf05fc48e9d/ca1dc/img8.png&apos; srcset=&apos;/static/dfcce8343428a65a1ae00cf05fc48e9d/e7570/img8.png 170w,
/static/dfcce8343428a65a1ae00cf05fc48e9d/f46e7/img8.png 340w,
/static/dfcce8343428a65a1ae00cf05fc48e9d/ca1dc/img8.png 680w,
/static/dfcce8343428a65a1ae00cf05fc48e9d/4f939/img8.png 721w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;dev, prod 환경에서의 로깅을 인텔리제이로 확인하고 싶은 경우에는 동일하게 profiles에 입력하고 RUN 하면 됩니다.&lt;/p&gt;
&lt;h3&gt;Reference&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://www.baeldung.com/logback&quot;&gt;https://www.baeldung.com/logback&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.youtube.com/watch?v=1MD5xbwznlI&quot;&gt;https://www.youtube.com/watch?v=1MD5xbwznlI&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.youtube.com/watch?v=JqZzy7RyudI&quot;&gt;https://www.youtube.com/watch?v=JqZzy7RyudI&lt;/a&gt; &lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[피움 Cypress 자동화 구축기]]></title><description><![CDATA[이 글은 우테코 피움팀 크루 '참새'가 작성했습니다. 우리는 왜 Cypress를 사용하게 되었나 tanstack query…]]></description><link>https://pium-official.github.io/github-actions-cypress/</link><guid isPermaLink="false">https://pium-official.github.io/github-actions-cypress/</guid><pubDate>Mon, 14 Aug 2023 00:00:00 GMT</pubDate><content:encoded>&lt;blockquote&gt;
&lt;p&gt;이 글은 우테코 피움팀 크루 &apos;&lt;a href=&quot;https://github.com/WaiNaat&quot;&gt;참새&lt;/a&gt;&apos;가 작성했습니다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;우리는 왜 Cypress를 사용하게 되었나&lt;/h2&gt;
&lt;p&gt;tanstack query의 &lt;code class=&quot;language-text&quot;&gt;useQuery&lt;/code&gt;에서 기존에는 &lt;code class=&quot;language-text&quot;&gt;suspense&lt;/code&gt; 설정을 사용하지 않았었어요.
근데 이 함수를 리팩터링하면서 &lt;code class=&quot;language-text&quot;&gt;suspense: true&lt;/code&gt; 설정을 추가했습니다. 하지만 해당 함수를 사용하는 모든 곳에서 &lt;code class=&quot;language-text&quot;&gt;&amp;lt;Suspense&gt;&lt;/code&gt;를 적용하지 않았고, 결국 개발 서버에 올라간 어플리케이션이 터지는 사고가 생겼습니다.&lt;/p&gt;
&lt;p&gt;이러한 문제를 예방하기 위해서 리팩터링 이후에도 Cypress로 기존에 돌아가던 다른 기능이 돌아감을 보장하고자 했어요.&lt;/p&gt;
&lt;p&gt;이 글은 Cypress의 기본적인 사용법은 알고 있다는 가정 하에 쓰여졌습니다.&lt;/p&gt;
&lt;h2&gt;설치와 실행&lt;/h2&gt;
&lt;p&gt;Cypress 설치는 간단하게 넘어갈게요.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;&lt;span class=&quot;token function&quot;&gt;npm&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; --save-dev cypress&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;package.json에 Cypress 실행 스크립트도 넣어줍니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;scripts&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;cypress&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;cypress open&quot;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;실행해볼까요?&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;&lt;span class=&quot;token function&quot;&gt;npm&lt;/span&gt; run cypress&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;맨 처음 실행했을 때는 설정이 되지 않은 상태입니다.
저희는 E2E 테스트를 할 거니까 &lt;code class=&quot;language-text&quot;&gt;E2E Testing&lt;/code&gt;을 눌러요.&lt;/p&gt;
&lt;p&gt;&lt;figure class=&apos;gatsby-resp-image-figure&apos; style=&apos;margin-bottom: 16px;&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 437px; &apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/544cc59db1a91ccedfd2954f9c977bf1/53eba/01-e2e.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 91.1764705882353%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABc0lEQVR42q1UbU+DMBD2//8l/ewXExON8d2oy16AMlootLQFHu9gi9mm2cZGeNretc9z7R30omk70LsH3Qp71lFzwc25noMERV3gXk7xmM8R2ma84Nr7qmPcqG9cxk94ULPVXDd+h1MjcZdPcRU/41q8ny7o6Jh83Fs5wcKqjd2PEjxrUULo4DyjhQ+Ehg7bjRBck2bzgI9Ph0Uc8PLm8DXxmEfhMEHnPayp4X2Ac556j7r2NB7syjjYOqDQDjXZITTEGeaatt0V1EWJKBJIsxzpUkKkEstMIZOKxlk/Zn+SpEhEBqk0oUAUpxTM7gqWZUUEIhGRF+a5hiLkFIjtyhhIWUCRrXVFAXJo4rCvLM2uYLdKXEEEFi2IJGgnGREVCbI4CydiCcGBCda6De6fReHJlnLCeWmaNZot32B3WyX/t8rs47VVZftjGWv7FGht+p4LdeRn0/Woa9fnx1D1OQUqH/J3tOBJf8phF+zvBbrvgv0BnayIKE1b62gAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;e2e 테스트 선택창&apos; title=&apos;&apos; src=&apos;/static/544cc59db1a91ccedfd2954f9c977bf1/53eba/01-e2e.png&apos; srcset=&apos;/static/544cc59db1a91ccedfd2954f9c977bf1/e7570/01-e2e.png 170w,
/static/544cc59db1a91ccedfd2954f9c977bf1/f46e7/01-e2e.png 340w,
/static/544cc59db1a91ccedfd2954f9c977bf1/53eba/01-e2e.png 437w&apos; sizes=&apos;(max-width: 437px) 100vw, 437px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&apos;gatsby-resp-image-figcaption&apos;&gt;e2e 테스트 선택창&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;그러면 자동으로 설정이 됩니다.&lt;/p&gt;
&lt;p&gt;&lt;figure class=&apos;gatsby-resp-image-figure&apos; style=&apos;margin-bottom: 16px;&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 454px; &apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/94f5e084d27075bb997cc50a2edcb2fd/d0486/02-config.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 122.94117647058822%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAZCAYAAAAxFw7TAAAACXBIWXMAAA7DAAAOwwHHb6hkAAADA0lEQVR42qWVyW7UQBCG5+V4A8QFCYlICAUJcuHCc3DkBTjxGoEIIkUCLghCZrNn82637V5+qsoeL5MMEqGlUnV1e9o9/1dVnjjnYC2bbf3/2YQPOhz0Dtnkl7EZmmvjRmt3GY+Jo4cqZ3AVz1FaLYtJYjFfaswWNVYbA39t8POmxtLXMMbhb6M50BpcRtPBgTlW6xBhlGO9IR+mCMIcnrfFLojJImR5jmAXIopT7MgHYSyyyV9ubyuezRiDuq5RliUUWVXVFGsoVaBQVR8XivYrWi+R01wbyze0pJGlwLRg9oZOaMdzMxbfiJ4YaTi4oWtv2AtPUQOE3sqycIw25sOsHGIPLuEaDWuC8j31REseMUGZLTSm8xo3sxpTNgIkMdn1tPFZbo9DuQivoVooMUNZxYiiDOs1C54S9QDbXYyAoDSQaG8T0JyeixMCyM/Ht/8ymzZaoCilkKYZaoLA4ldV1UKqCFhFIAoBInDIF7nqoVRai9/rwflmWhAyt/vY9oD2MAZg7rzhEIrb5xL6tUM/LN8OytdkSVqOK4WNoczmNPdqAfV7VmHhaaoejQXvExyOCzUsPTroY8BQallM0xL+KqFqoarYpfD9EB7F7JO0IDgpNpsY2y1XTYbNluJtJHpPJM+GechQSM8iL+jHqVRLWSrxOa2VVQODS0/JXkW3U8iyXKyDUo+g9Al+rE3tu9AwvhOKHbUke8Tf3peLuLZSNC38yNYCp9HQwvMNll5TLWxramMs/i9qYz7N5y2QFcHhPesGlcJt65ygFC2UOCmI7E6E57YVSlUkVDURrZGn9c0uE2iLJQMLRF85kKGwBnB9d+FKSJJUhC8KFrwQgrzWxBntUStjOAQipZgPFA1dl7S2S94mYcfdp7Hxp8HaPrm7xNba0RsMmaW3WekgStkRHJkffE864gflN3n/IcGTUw8vXvs4JTt56eHszYq6h+m6+L+Mydt3AR48nOHZmYeTVx4eP1/i0dOFfJzudSCnwvlnhYvLxj59Ubj6VoKluM/4A3H7lcHInTKbAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;자동 config&apos; title=&apos;&apos; src=&apos;/static/94f5e084d27075bb997cc50a2edcb2fd/d0486/02-config.png&apos; srcset=&apos;/static/94f5e084d27075bb997cc50a2edcb2fd/e7570/02-config.png 170w,
/static/94f5e084d27075bb997cc50a2edcb2fd/f46e7/02-config.png 340w,
/static/94f5e084d27075bb997cc50a2edcb2fd/d0486/02-config.png 454w&apos; sizes=&apos;(max-width: 454px) 100vw, 454px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&apos;gatsby-resp-image-figcaption&apos;&gt;자동 config&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure class=&apos;gatsby-resp-image-figure&apos; style=&apos;margin-bottom: 16px;&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 474px; &apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/66037e37b1e92b81ee04dd052db2f00d/823f8/03-browser.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 65.88235294117646%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAB+ElEQVR42qWTy08TURTGu3TjgqgxkLh06d4/QhO1EVGIoitj/B8MiUhoScFEE1euqaXWhMiWGAvuXFigEARHBAkIjp0OzuM+Ps+5nRlm8LHxJt/MfZzzu989cyeHI01pQGp6QGfmpVbwVAhfiUReqs9SlJfT9FBEYYZOMeKxkQIc6cMl+QQ1YC2MOpuEZq1NMkCjCDSz4aJkNeFptwNGZ0NOYJdmjsb7dhvfW25iQNBaFhjZyz9fwZVqGftqLwFqAwwSYBAKLFvbWN/cTfL+AOzstLbj4v3KTgRD4igNVIrq6dNRA/F3h3H7YnnYILUP5GEtCcjBytRb4YP1Ec2tT1jd/ozdlv1voOP42PrqQMjDOX2khj+DAN9sG3v2D4qTCZBP8RtQSgUhRGZORQ5joIkTEiKUmSM7ghzGCZwv6TixREo8blOwHR6gJTwjvkYs7rMzhvG9zOE/m47cich9BvjGWkBlsY6pxTlUFuqoLs1Tf96My406rc2h1nxnYni93HiL2fVGpjy5+Erz1zv/5B7OTtxBT+EGTo32outhHt2F6zg52oeeYj9ODF/F8QcXcWbsFk4XB3Bs6ALOlQbhhUF0I/jXSzm8//oZ8i9GMPCyhP7qGK5VCubdN1XEYG0ct189xqXJR7hZmyCN4/LkMO5OP0UoRQL8BXHUxY5ld0ZpAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;브라우저 선택&apos; title=&apos;&apos; src=&apos;/static/66037e37b1e92b81ee04dd052db2f00d/823f8/03-browser.png&apos; srcset=&apos;/static/66037e37b1e92b81ee04dd052db2f00d/e7570/03-browser.png 170w,
/static/66037e37b1e92b81ee04dd052db2f00d/f46e7/03-browser.png 340w,
/static/66037e37b1e92b81ee04dd052db2f00d/823f8/03-browser.png 474w&apos; sizes=&apos;(max-width: 474px) 100vw, 474px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&apos;gatsby-resp-image-figcaption&apos;&gt;브라우저 선택&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure class=&apos;gatsby-resp-image-figure&apos; style=&apos;margin-bottom: 16px;&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 374px; &apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/3faaebdb705dca5eefe95b49a69bb903/b0af8/04-first-test.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 78.82352941176471%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABd0lEQVR42qWU6VKDMBDH+/4v5IP4RTsVrVcFQsjJlePvJradUQvVNjNLyB4/dpMlq3ECjAVsd50kRmKttI1wHvBhXkKaz/nEBI1YpUekxdJI9nM+adhuAXjQaRNR1RHF1mMY4/VAISO2Lx4PmwCt4jfbRUAuAuoSuCnucdu8Z50Pp2OWgfvZuQhrgEIzNE7tbfFvGR5m1jg8bQfcrXs8Po9gfMIrlc15wNtuxHrTo+Eu+6bTjecyHEegpVI/Sk8wT+0QUNYemmZB+l3pcvBshnlfqNHKkqFtJaQy0FrDaEVOlqSjsjUU6TgX6GktFdmpo6uaUx+HzDj2YU6durcmI+eSShZgrM3OQhrKSqNJOpKaiaNdyC+9S3/GT2CMIWeXnI0x4PSeYNp0OSgFK20JrvJHJa0zvG5+Z3jqlIdhQEUBikorq4b2k6GqWIYMwzh/ynYGGIKnw5ny3vYEmCZHMmFyLm/Pvxv7kpFLtnbh+iKHk9LF2WvsE0h85YLM4h3+AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;e2e 테스트 선택창&apos; title=&apos;&apos; src=&apos;/static/3faaebdb705dca5eefe95b49a69bb903/b0af8/04-first-test.png&apos; srcset=&apos;/static/3faaebdb705dca5eefe95b49a69bb903/e7570/04-first-test.png 170w,
/static/3faaebdb705dca5eefe95b49a69bb903/f46e7/04-first-test.png 340w,
/static/3faaebdb705dca5eefe95b49a69bb903/b0af8/04-first-test.png 374w&apos; sizes=&apos;(max-width: 374px) 100vw, 374px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&apos;gatsby-resp-image-figcaption&apos;&gt;e2e 테스트 선택창&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;만약 &lt;code class=&quot;language-text&quot;&gt;cy.visit&lt;/code&gt;을 편하게 하고 싶다면 &lt;code class=&quot;language-text&quot;&gt;cypress.config.ts&lt;/code&gt;에 아래 설정을 추가해주세요!&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre class=&quot;language-ts&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;defineConfig&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  e2e&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    baseUrl&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;http://localhost:8282&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;타입스크립트 오류 해결하기&lt;/h2&gt;
&lt;p&gt;설레는 마음으로 첫 테스트를 쓰려고 했는데&lt;/p&gt;
&lt;p&gt;&lt;figure class=&apos;gatsby-resp-image-figure&apos; style=&apos;margin-bottom: 16px;&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 313px; &apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/d36b4971eadd5a16eadcbb31519ab7a9/8e749/05-error.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 44.705882352941174%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABM0lEQVR42pWSSU/DMBCF/ReQmsUhdWxns7N0UUvbNIcu0IKEEBISF07w/3/EY+ITByTC4ZNmRjPv8N4wpTQKKdHlGn2ZYZUqRGGIcCQBEUccjZKuZkII6OkUWxIcxOZa/ktwIOIcMr51NeNDoxUWUmCTStxMJvB8H/5IPM8HDwLUdD/cMWsb1PM1NssVNrM5mqrFMKsIY+o/sURbNZjVM9ezfXdA//iGw/kZn+cLPu6veD9d8HV9wqE/Ybs7out+Z0f0+yNeaf/l+OBmTKkMZWFQthZVWyGvLUpTIKWwpByH1ilya1zNhmQSkUAuSOTOQC9LxBn54XnjfCQPXdJauJ5CiaCUwjRNoNocqs6QGI0wGJky7fEoQpKrHyknErLKUOxb5GsLaVNaDEa/Dac/jJVwgt9g+PrmcdYwHwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;코드에 빨간 줄&apos; title=&apos;&apos; src=&apos;/static/d36b4971eadd5a16eadcbb31519ab7a9/8e749/05-error.png&apos; srcset=&apos;/static/d36b4971eadd5a16eadcbb31519ab7a9/e7570/05-error.png 170w,
/static/d36b4971eadd5a16eadcbb31519ab7a9/8e749/05-error.png 313w&apos; sizes=&apos;(max-width: 313px) 100vw, 313px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&apos;gatsby-resp-image-figcaption&apos;&gt;코드에 빨간 줄&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;이런! 벌써 느낌이 좋지 않네요..&lt;/p&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 672px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/241d2a961001a9e2bed62ed31e02695f/00e42/06-error-code.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 25.294117647058822%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAA50lEQVR42nWQyW7DMAxE/SGtdnmhRctrHKRI2gC99P8/aMrYbpBLDw8YCuBohoW1Hjk1+L4u+DzP+LlPyORxHRgfQ4sl1RioxiUTYnDoAqOuGGVsUNoApRW01k+KEOImZlngPGBlwrkj9CQkByYFVxFSo/GmtBgISuH9hcebMebPMEDL4IwG9ydMy4jzmjHmHmtKuI2Mhdvtk9vY4T5nnLjBpU/4mjrRhFla9MTwzothLGHFkFoHSlm0RDd7fO8s6hhQBb9RR+Gpwz7HfTbHTmFdAFdyp66S6GaL/spW8biP+gd9VH7wCydekRdZmUSKAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;06 error code&apos; title=&apos;&apos; src=&apos;/static/241d2a961001a9e2bed62ed31e02695f/00e42/06-error-code.png&apos; srcset=&apos;/static/241d2a961001a9e2bed62ed31e02695f/e7570/06-error-code.png 170w,
/static/241d2a961001a9e2bed62ed31e02695f/f46e7/06-error-code.png 340w,
/static/241d2a961001a9e2bed62ed31e02695f/00e42/06-error-code.png 672w&apos; sizes=&apos;(max-width: 672px) 100vw, 672px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;저한테 왜 이러는 걸까요? 살펴봅시다.&lt;/p&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/ba331a4042764714123dd95987111fff/b2a21/07-error-details-1.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 10.588235294117647%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAXElEQVR42lWMWQoAIQxDPYqK4gLu6P1vFknBgfkIjzRp1FoLrTX03jHnBP0jb6UUjDGw9/7p5eccyeljjFB8ZoEByVJKCbVWGdNaI4TwKecs9N7DGCO01sI5J4MXn5g9UcZ9+0IAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;07 error details 1&apos; title=&apos;&apos; src=&apos;/static/ba331a4042764714123dd95987111fff/ca1dc/07-error-details-1.png&apos; srcset=&apos;/static/ba331a4042764714123dd95987111fff/e7570/07-error-details-1.png 170w,
/static/ba331a4042764714123dd95987111fff/f46e7/07-error-details-1.png 340w,
/static/ba331a4042764714123dd95987111fff/ca1dc/07-error-details-1.png 680w,
/static/ba331a4042764714123dd95987111fff/b2a21/07-error-details-1.png 987w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 431px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/92c804899b479f5b1232c29ad7b00abe/7921f/08-error-details-2.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 7.647058823529412%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAeUlEQVR42jWNwQqFIBRE+5FAQlLJNhUWWFGLdor4/x9zHld4i8MMMzDTfd+HYK0lpcT7vuScmaaJ53kopVBrxXuPc477vjnPk3EcGyEElmVpSNf9g2EYmOeZbds4jgOtdfPXdRFjxBhD3/fs+866riil2qAcC3Im+gPB50AqQxrm9AAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;08 error details 2&apos; title=&apos;&apos; src=&apos;/static/92c804899b479f5b1232c29ad7b00abe/7921f/08-error-details-2.png&apos; srcset=&apos;/static/92c804899b479f5b1232c29ad7b00abe/e7570/08-error-details-2.png 170w,
/static/92c804899b479f5b1232c29ad7b00abe/f46e7/08-error-details-2.png 340w,
/static/92c804899b479f5b1232c29ad7b00abe/7921f/08-error-details-2.png 431w&apos; sizes=&apos;(max-width: 431px) 100vw, 431px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;타입스크립트 문제네요. &lt;a href=&quot;https://github.com/vuejs/vue-cli/issues/4239#issuecomment-1214261721&quot;&gt;같은 문제를 겪으신 분들의 해결책&lt;/a&gt;으로 금방 처리할 수 있었습니다. &lt;code class=&quot;language-text&quot;&gt;tsconfig.json&lt;/code&gt;에 Cypress를 이해할 수 있다는 용기를 불어넣어 주세요.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token property&quot;&gt;&quot;compilerOptions&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;token property&quot;&gt;&quot;types&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;cypress&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token property&quot;&gt;&quot;include&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;cypress/**/*&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 654px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/12143100cc9faf21be458f376ad0d1a5/ba4a2/09-good.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 30.58823529411765%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAA+ElEQVR42pVQ2W7DMAzLjzS+4/hInMNFkDXY1v//KE52ArTYnvZAkIJsiVQjpYJzFsexIueE53fGHBX2MeIxB+ypx9hTfwrwVsMqi7FLkJ2Dlz1axsDe0GhtIIRAjD1cWrAGj4/JYwkO0RnkdAPXpIOEEi194mCc/RkkOAcnNFJpFJeCt+BhxpAz9i1hmRPuYcDXMmAbPe7R4XMe8FwTDuJt8NQb8Zhi7S1kJNqIxpgOUkiEIGBjIrfnprJVkvPe0EmMJtaV/cUV3UtrJc7IvaNbGEvRLEU5BzH+Glqite2J24X3uuordo2syWERxRn7dZf66B8oDn8AS2WsjdT1cb4AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;09 good&apos; title=&apos;&apos; src=&apos;/static/12143100cc9faf21be458f376ad0d1a5/ba4a2/09-good.png&apos; srcset=&apos;/static/12143100cc9faf21be458f376ad0d1a5/e7570/09-good.png 170w,
/static/12143100cc9faf21be458f376ad0d1a5/f46e7/09-good.png 340w,
/static/12143100cc9faf21be458f376ad0d1a5/ba4a2/09-good.png 654w&apos; sizes=&apos;(max-width: 654px) 100vw, 654px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;좋아요 좋아요&lt;/p&gt;
&lt;h2&gt;테스트 작성&lt;/h2&gt;
&lt;p&gt;이제 테스트를 열심히 만들어 줍니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre class=&quot;language-ts&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;&lt;span class=&quot;token function&quot;&gt;describe&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;피움 메인 페이지&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;beforeEach&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    cy&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;visit&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;http://localhost:8282&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token function&quot;&gt;it&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;피움 소개 문구가 보인다.&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    cy&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;contains&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;식물을 쉽게&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;img[alt=&quot;logo&quot;]&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;contains&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;피움에 등록된 식물을 검색해 보세요&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token function&quot;&gt;it&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;검색창을 이용해 식물을 검색할 수 있다.&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    cy&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;input&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;아카시&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;wait&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;300&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;        &lt;span class=&quot;token comment&quot;&gt;// 검색창에 디바운스가 되어 있어서 기다림&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;contains&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;아카시&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;contains&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;아카시아&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Github Actions 적용&lt;/h2&gt;
&lt;p&gt;이제 Github Actions를 이용해 PR이 올라올 때마다 작성한 테스트를 돌려서 성공/실패 여부를 확인해봅시다.&lt;/p&gt;
&lt;p&gt;사실 기본적인 방법은 &lt;a href=&quot;https://docs.cypress.io/guides/continuous-integration/github-actions&quot;&gt;Cypress 공식 홈페이지&lt;/a&gt;에 잘 나와 있어요!
&lt;code class=&quot;language-text&quot;&gt;cypress-io/github-action@v5&lt;/code&gt;를 사용하면 자동적으로 Cypress를 열어서 안에 있는 모든 spec들을 한 번씩 돌려봅니다. 결과 요약도 나중에 Actions 로그를 확인해보면 알 수 있어요.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yml&quot;&gt;&lt;pre class=&quot;language-yml&quot;&gt;&lt;code class=&quot;language-yml&quot;&gt;&lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Frontend E2E Test

&lt;span class=&quot;token key atrule&quot;&gt;on&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;# develop과 main branch에 push되었을 경우 테스트 진행&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;# PR 머지 후에 혹시 깨지는지 확인 가능&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;branches&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; develop
      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; main
    &lt;span class=&quot;token comment&quot;&gt;# 피움 레포지토리 구조 상 프론트엔드 코드는 `{root}/frontend`에 존재&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;paths&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; frontend/&lt;span class=&quot;token important&quot;&gt;**&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;# PR이 열렸을 경우 확인&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;# branch 설정을 통해 테스트가 통과하지 않으면 머지 불가 설정도 가능&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;pull_request&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;branches&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; develop
      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; main
    &lt;span class=&quot;token key atrule&quot;&gt;paths&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; frontend/&lt;span class=&quot;token important&quot;&gt;**&lt;/span&gt;

&lt;span class=&quot;token key atrule&quot;&gt;defaults&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;run&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;working-directory&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; frontend

&lt;span class=&quot;token key atrule&quot;&gt;permissions&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;checks&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; write

&lt;span class=&quot;token key atrule&quot;&gt;jobs&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;cypress&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;runs-on&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; ubuntu&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;latest
    &lt;span class=&quot;token key atrule&quot;&gt;steps&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Set up repository
        &lt;span class=&quot;token key atrule&quot;&gt;uses&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; actions/checkout@v3

      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Set up Node 18.16.0 
        &lt;span class=&quot;token key atrule&quot;&gt;uses&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; actions/setup&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;node@v3
        &lt;span class=&quot;token key atrule&quot;&gt;with&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
          &lt;span class=&quot;token key atrule&quot;&gt;node-version&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 18.16.0

      &lt;span class=&quot;token comment&quot;&gt;# package-lock.json이 바뀌지 않았을 경우 캐시한 node_module 사용&lt;/span&gt;
      &lt;span class=&quot;token comment&quot;&gt;# npm install 시간 절약&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Cache node_modules
        &lt;span class=&quot;token key atrule&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; cache
        &lt;span class=&quot;token key atrule&quot;&gt;uses&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; actions/cache@v3
        &lt;span class=&quot;token key atrule&quot;&gt;with&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
          &lt;span class=&quot;token key atrule&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;**/node_modules&apos;&lt;/span&gt;
          &lt;span class=&quot;token key atrule&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; $&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; runner.os &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;node&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;$&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; hashFiles(&apos;&lt;span class=&quot;token important&quot;&gt;**/package-lock.json&apos;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
          &lt;span class=&quot;token key atrule&quot;&gt;restore-keys&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;token scalar string&quot;&gt; 
            ${{ runner.os }}-node-&lt;/span&gt;
          
      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Install dependencies
        &lt;span class=&quot;token key atrule&quot;&gt;run&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; npm ci
        &lt;span class=&quot;token key atrule&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; steps.cache.outputs.cache&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;hit &lt;span class=&quot;token tag&quot;&gt;!=&lt;/span&gt; &apos;true&apos;

      &lt;span class=&quot;token comment&quot;&gt;# 테스트 자동 진행&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Run Cypress
        &lt;span class=&quot;token key atrule&quot;&gt;uses&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; cypress&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;io/github&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;action@v5
        &lt;span class=&quot;token key atrule&quot;&gt;with&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
          &lt;span class=&quot;token key atrule&quot;&gt;start&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; npm run start&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이 파일을 &lt;code class=&quot;language-text&quot;&gt;{repo_root}/.github/workflows/&lt;/code&gt; 안에 넣어주시면 됩니다.&lt;/p&gt;
&lt;h2&gt;경로 설정 문제!&lt;/h2&gt;
&lt;p&gt;사실 이렇게 세팅하니까 Github Action을 실행할 때 아래와 같은 오류가 생기더라구요. 피움 레포지토리 구조 상 프론트엔드 코드는 &lt;code class=&quot;language-text&quot;&gt;{repo_root}/frontend&lt;/code&gt;에 있는데 자꾸 루트 폴더에서 &lt;code class=&quot;language-text&quot;&gt;package-lock.json&lt;/code&gt;을 찾아서 나오는 문제였습니다.&lt;/p&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/9fcce3bc87eb653514d6836266991805/beec5/11-error.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 8.823529411764705%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAVUlEQVR42m2KbQqAIBBEPVCtgvtBtkrQ/c80mYFE9OPxZoYJ6idIHckqSBxLLli5TP/ld/8SilS4NbTtwK4VkgwSFZkEHG1Yog247zytz0Y939/xV1xBFEBqQBrSHgAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;11 error&apos; title=&apos;&apos; src=&apos;/static/9fcce3bc87eb653514d6836266991805/ca1dc/11-error.png&apos; srcset=&apos;/static/9fcce3bc87eb653514d6836266991805/e7570/11-error.png 170w,
/static/9fcce3bc87eb653514d6836266991805/f46e7/11-error.png 340w,
/static/9fcce3bc87eb653514d6836266991805/ca1dc/11-error.png 680w,
/static/9fcce3bc87eb653514d6836266991805/02d09/11-error.png 1020w,
/static/9fcce3bc87eb653514d6836266991805/beec5/11-error.png 1295w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;아래 코드처럼 cypress를 돌릴 때 시작점을 정해 주니까 해결됐어요.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yml&quot;&gt;&lt;pre class=&quot;language-yml&quot;&gt;&lt;code class=&quot;language-yml&quot;&gt;      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Run Cypress
        &lt;span class=&quot;token key atrule&quot;&gt;uses&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; cypress&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;io/github&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;action@v5
        &lt;span class=&quot;token key atrule&quot;&gt;with&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
	  &lt;span class=&quot;token key atrule&quot;&gt;working-directory&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; frontend
          &lt;span class=&quot;token key atrule&quot;&gt;start&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; npm run start&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;완료&lt;/h2&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/98261b8d1d6124d519ed99b1d0c2df0b/8cd91/12.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 21.176470588235293%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAx0lEQVR42p2PS26DQBBEuf+lnFVyhNjEjg14JjBYNgPMH/wyIYvs01JLT10lVXVRVRVlWXIVkv3+wPF0wlrLf6eIMaH1SPAB5zzzZFBjhw1uu3kzs6SEz2zNlNkTQsQYS/f40342ZS58Fuv6ihp65tysFYrX5g0xSKTokMcPRq1pREt9PjDrFtn2fF4qXt7VVuZSNQjxxThOFPdBo/o7u/OO2/zAusi6gsltjcupzyeT9Vj/yyaEHOxIy0rKRp0/6tRt88dl5RuV2jK9JPXyswAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;12&apos; title=&apos;&apos; src=&apos;/static/98261b8d1d6124d519ed99b1d0c2df0b/ca1dc/12.png&apos; srcset=&apos;/static/98261b8d1d6124d519ed99b1d0c2df0b/e7570/12.png 170w,
/static/98261b8d1d6124d519ed99b1d0c2df0b/f46e7/12.png 340w,
/static/98261b8d1d6124d519ed99b1d0c2df0b/ca1dc/12.png 680w,
/static/98261b8d1d6124d519ed99b1d0c2df0b/8cd91/12.png 977w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;지금 이 순간에도 피움 팀의 레포지토리에서는 Cypress가 돌아가고 있다는 괴담이 들려옵니다..&lt;/p&gt;
&lt;h2&gt;Reference&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/vuejs/vue-cli/issues/4239#issuecomment-1214261721&quot;&gt;Cypress typings not recognized. Cannot find name &apos;cy&apos;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://docs.cypress.io/guides/continuous-integration/github-actions&quot;&gt;Cypress 공식 홈페이지: GitHub Actions&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[피움 서비스의 Querydsl 도입 이유]]></title><description><![CDATA[이 글은 우테코 피움팀 크루 '하마드'가 작성했습니다. 개요 우아한테크코스 5기 피움 프로젝트를 진행하면서, 필터링 기능을 구현하기 위해 Querydsl…]]></description><link>https://pium-official.github.io/why_we_applied_querydsl/</link><guid isPermaLink="false">https://pium-official.github.io/why_we_applied_querydsl/</guid><pubDate>Mon, 14 Aug 2023 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/d2ddb0dd0d47e03920aa2bc404809831/8283d/querydsl.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 41.1764705882353%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAAsTAAALEwEAmpwYAAABKUlEQVR42nVR3UrDMBTuy/gWvo3gU3jhMwwEUUTFC5GhN1O80U2YZThkdRez2dStLt1st7a2S0ObJm1M1xY7fz5Ccjg5X77vnEgsjpMCfImkhDyzXMXtdyzFgsxXaPwvTFG0dfdRac/7dsiLtyShK/imaeq67mMs4gkcj7XhVIcvfSDyyPscWWjjEtYGnmqF1Wd3sqCZBUkchBBZluv1hqJ0VQDOa9e7x2e3zdZN86HV7hijwYliHjw5aSVLcBQbiGXiqe3cME8oZZyxC4BOe4vKo7ctu1WAMeUNDe11bFG2r1ibVzCLk6LnlYahG7055N0lvVmguWTohAGND7v2PfSdgK3tqOtHr6WB/TOkMgQfWKHhUzG5Oaa5MvtFFk7SDyjvafKnQML5F9cIwXufNsrWAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;querydsl&apos; title=&apos;&apos; src=&apos;/static/d2ddb0dd0d47e03920aa2bc404809831/ca1dc/querydsl.png&apos; srcset=&apos;/static/d2ddb0dd0d47e03920aa2bc404809831/e7570/querydsl.png 170w,
/static/d2ddb0dd0d47e03920aa2bc404809831/f46e7/querydsl.png 340w,
/static/d2ddb0dd0d47e03920aa2bc404809831/ca1dc/querydsl.png 680w,
/static/d2ddb0dd0d47e03920aa2bc404809831/02d09/querydsl.png 1020w,
/static/d2ddb0dd0d47e03920aa2bc404809831/8283d/querydsl.png 1162w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;이 글은 우테코 피움팀 크루 &apos;&lt;a href=&quot;https://github.com/rawfishthelgh&quot;&gt;하마드&lt;/a&gt;&apos;가 작성했습니다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;개요&lt;/h2&gt;
&lt;hr&gt;
&lt;p&gt;우아한테크코스 5기 피움 프로젝트를 진행하면서, 필터링 기능을 구현하기 위해 Querydsl 라이브러리를 도입한 과정을 정리한다.&lt;/p&gt;
&lt;h2&gt;문제상황&lt;/h2&gt;
&lt;hr&gt;
&lt;h3&gt;필터링 기능 도입&lt;/h3&gt;
&lt;p&gt;내가 담당한 파트는 아래와 같다.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&quot;사용자가 보유한 반려 식물의 관리 이력을 최신 순으로 조회하기&quot; &lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;반려 식물의 관리 이력&lt;/code&gt; 은 &lt;code class=&quot;language-text&quot;&gt;History&lt;/code&gt; 라는 테이블 및 엔티티 객체에 저장되고 관리된다.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;History&lt;/code&gt; 객체 및 테이블 형태는 아래와 같이 생겨먹었다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;History 객체&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token annotation punctuation&quot;&gt;@Entity&lt;/span&gt;
&lt;span class=&quot;token annotation punctuation&quot;&gt;@Getter&lt;/span&gt;
&lt;span class=&quot;token annotation punctuation&quot;&gt;@Table&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;name &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;history&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token annotation punctuation&quot;&gt;@NoArgsConstructor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;access &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;AccessLevel&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;PROTECTED&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;History&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;BaseEntity&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

    &lt;span class=&quot;token annotation punctuation&quot;&gt;@Id&lt;/span&gt;
    &lt;span class=&quot;token annotation punctuation&quot;&gt;@GeneratedValue&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;strategy &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;GenerationType&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;IDENTITY&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Long&lt;/span&gt; id&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token annotation punctuation&quot;&gt;@NotNull&lt;/span&gt;
    &lt;span class=&quot;token annotation punctuation&quot;&gt;@ManyToOne&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;fetch &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;FetchType&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;LAZY&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token annotation punctuation&quot;&gt;@JoinColumn&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;name &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;pet_plant_id&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; nullable &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;PetPlant&lt;/span&gt; petPlant&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token annotation punctuation&quot;&gt;@NotNull&lt;/span&gt;
    &lt;span class=&quot;token annotation punctuation&quot;&gt;@Column&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;name &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;event_date&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; nullable &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;LocalDate&lt;/span&gt; date&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token annotation punctuation&quot;&gt;@NotNull&lt;/span&gt;
    &lt;span class=&quot;token annotation punctuation&quot;&gt;@ManyToOne&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;fetch &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;FetchType&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;LAZY&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token annotation punctuation&quot;&gt;@JoinColumn&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;name &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;history_category_id&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; nullable &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;HistoryCategory&lt;/span&gt; historyCategory&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token annotation punctuation&quot;&gt;@Valid&lt;/span&gt;
    &lt;span class=&quot;token annotation punctuation&quot;&gt;@NotNull&lt;/span&gt;
    &lt;span class=&quot;token annotation punctuation&quot;&gt;@Embedded&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;HistoryContent&lt;/span&gt; historyContent&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;history 테이블&lt;/strong&gt;
&lt;img src=&quot;https://velog.velcdn.com/images/rg970604/post/c71da5e7-4a11-4ced-84d9-4d81764abd29/image.png&quot;&gt;&lt;/p&gt;
&lt;p&gt;기존에는 기록의 카테고리에 상관없이 전체를 불러와 조회를 하는 형태였지만, 피움 서비스는 4차 스프린트 과정에서 &lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;원하는 카테고리(historyCategory) 조합에 따라서 해당 카테고리들에 해당하는 관리 기록(History)들만 조회해 온다&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;라는 기능을 추가하게 되었다.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;/history?petPlantId=1&amp;amp;page=0&amp;amp;size=20&amp;amp;filter=”lastwaterDate,flowerpot…”&lt;/code&gt;
위 url의 쿼리 파라미터 중 filter에 해당하는 값들을 기준으로 필터링을 수행하는 것이다.&lt;/p&gt;
&lt;h3&gt;어떤 필터링 조건이냐에 따라 쿼리 형태가 어마무시하게 변화한다.&lt;/h3&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;History&lt;/code&gt; 의 카테고리 목록은&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;location, flowerpot, waterCycle, light, wind, lastWaterDate&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;총 여섯 가지를 보유하고 있다.&lt;/p&gt;
&lt;p&gt;이 카테고리를 활용한 필터링이 전혀 들어오지 않을 수도(0개), 모두 들어올수도(6개), 몇 개만 들어올 수도 있다(1~5개).&lt;/p&gt;
&lt;p&gt;또한 개수가 같아도, 어떤 카테고리가 조합되느냐에 따라 쿼리 형태가 변화한다.&lt;/p&gt;
&lt;p&gt;예를 들면 &lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre class=&quot;language-sql&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// 필터링 조건이 location, flowerpot인 경우&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;where&lt;/span&gt; history&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;pet_plant_id &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; 반려식물ID 
        &lt;span class=&quot;token operator&quot;&gt;and&lt;/span&gt; history_category&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;history_type &lt;span class=&quot;token operator&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;location&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;flowerpot&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        
&lt;span class=&quot;token comment&quot;&gt;// 필터링 조건이 flowerpot, waterCycle인 경우&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;where&lt;/span&gt; history&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;pet_plant_id &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; 반려식물ID
        &lt;span class=&quot;token operator&quot;&gt;and&lt;/span&gt; history_category&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;history_type &lt;span class=&quot;token operator&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;flowerpot&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;waterCycle&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        
&lt;span class=&quot;token comment&quot;&gt;// 어쩌구저쩌구 수많은 경우&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;따라서, 계산해 봤을 때 &lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;6C0 + 6C1 + 6C2 + 6C3 + 6C4 + 6C5  + 6C6
= 1 + 6 + 15 + 20 + 15 + 6 + 1
= 64&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;총 64개의 경우의 수가 등장하게 된다 ;;&lt;/p&gt;
&lt;p&gt;따라서 현재 이 문제를 쌩으로 해결하려면, 조합에 따라 총64개의 분기문을 작성해야 한다...&lt;/p&gt;
&lt;p&gt;그런데 64개의 분기문을 작성하면 만들고 끝이 아니라, 필터링 조건이 하나만 늘어나도 엄청난 양의 분기문의 추가와 수정이 일어난다. 이럴 바엔 그냥 개발자를 그만 두는게 나을 수도 있다.&lt;/p&gt;
&lt;p&gt;따라서! 피움은 동적 쿼리를 쉽게 해결할 수 있는 도구를 선택 및 도입하기로 했다.&lt;/p&gt;
&lt;h2&gt;대안분석 및 선택과정&lt;/h2&gt;
&lt;hr&gt;
&lt;p&gt;java / spring에서 동적 쿼리를 해결하는 도구는 여럿 존재한다. 우리가 어떤 대안을 떠올렸는지와, 이를 도입하지 않은/도입한 이유를 간단하게 정리하면 아래와 같다.&lt;/p&gt;
&lt;h3&gt;&lt;strong&gt;Mybatis&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;JdbcTemplate의 동적 쿼리 한계를 효율적으로 해결하기 위해 등장한 SQL Mapper 프레임워크이다. 하지만 우리는 SQL Mapper가 아닌 JPA라는 ORM을 사용하기에 navite한 sql 쿼리를 직접 작성하지 않으므로 도입하지 않았다.&lt;/p&gt;
&lt;h3&gt;&lt;strong&gt;JPA - Criteria Query&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;JPA에서는 JPQL이라는 쿼리 기술을 사용하여 엔티티 객체를 대상으로 질의할 수 있는 기능을 제공한다. 그러나 JPQL도 sql mapper 처럼 String 형태로 작성하므로 컴파일 단계에서 오류를 잡아내기 힘든데, Criteria Query 클래스를 사용하면 자바 코드로 JPQL을 작성할 수 있어 타입 안전성을 제공한다. 또한 조건문을 활용하여 동적 쿼리를 처리할 수 있는 기능을 제공한다. 그럼 이 방법론을 써야겠다는 생각이 슬슬 들게 된다.&lt;/p&gt;
&lt;p&gt;그러나...Criteria Query에 대한 레퍼런스를 찾아보니, 대부분의 대답은 이러했다.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;쓰지 마세요 가독성 안좋습니다...&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;그래서 이게 어떤 형태를 갖는지 대충 찾아봤다. gpt 선생님에게
&lt;code class=&quot;language-text&quot;&gt;where history.pet_plant_id = 반려식물ID 
        and history_category.history_type in (타입 조건들...)&lt;/code&gt;
코드 작성을 요청드리니 다음과 같은 코드 형태가 태어났다. 아래 코드는 그냥 Criteria Query가 이런 형태를 갖는구나 정도로 생각하자.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;DynamicCriteriaQueryExample&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; args&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token class-name&quot;&gt;EntityManager&lt;/span&gt; entityManager &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// EntityManager 생성 코드&lt;/span&gt;

        &lt;span class=&quot;token class-name&quot;&gt;CriteriaBuilder&lt;/span&gt; criteriaBuilder &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; entityManager&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getCriteriaBuilder&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

        &lt;span class=&quot;token comment&quot;&gt;// Criteria Query 생성&lt;/span&gt;
        &lt;span class=&quot;token class-name&quot;&gt;CriteriaQuery&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;History&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; criteriaQuery &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; criteriaBuilder&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;createQuery&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;History&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token class-name&quot;&gt;Root&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;History&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; historyRoot &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; criteriaQuery&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;from&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;History&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

        &lt;span class=&quot;token comment&quot;&gt;// 동적으로 생성되는 조건을 위한 리스트 생성&lt;/span&gt;
        &lt;span class=&quot;token class-name&quot;&gt;List&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Predicate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; predicates &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ArrayList&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

        &lt;span class=&quot;token comment&quot;&gt;// 동적 조건 추가&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; plantId &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; 반려식물&lt;span class=&quot;token constant&quot;&gt;ID&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 동적으로 설정되는 값&lt;/span&gt;
        predicates&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;add&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;criteriaBuilder&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;equal&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;historyRoot&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;petPlantId&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; plantId&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

        &lt;span class=&quot;token class-name&quot;&gt;List&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; types &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;히스토리 타입들&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 동적으로 설정되는 값&lt;/span&gt;
        predicates&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;add&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;historyRoot&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;historyType&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;in&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;types&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

        &lt;span class=&quot;token comment&quot;&gt;// 모든 동적 조건을 AND로 결합&lt;/span&gt;
        criteriaQuery&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;where&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;predicates&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toArray&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Predicate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

        &lt;span class=&quot;token comment&quot;&gt;// 결과 쿼리 실행&lt;/span&gt;
        &lt;span class=&quot;token class-name&quot;&gt;List&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;History&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; resultList &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; entityManager&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;createQuery&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;criteriaQuery&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getResultList&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

        &lt;span class=&quot;token comment&quot;&gt;// 결과 처리 등의 로직&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;딱 봐도 뭔가 코드가 더럽고, 어떤 sql이 탄생하는지 유추가 정말 힘들다. 위 코드를 보고 주석의 상세한 설명 없이 동적 where in 절이 탄생하는게 유추되는가? 코드 형태가 sql이 아닌 객체 중심적이다보니 발생한 문제이다.&lt;/p&gt;
&lt;h3&gt;&lt;strong&gt;Querydsl&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;자바 코드로 jpql을 생성할 수 있는 Criteria Query의 이점을 유지하면서, sql과 비슷한 형태로 코드를 작성할 수 있는 장점까지 챙겨간 오픈소스 라이브러리다.&lt;/p&gt;
&lt;p&gt;따라서 피움은 &lt;/p&gt;
&lt;blockquote&gt;
&lt;ol&gt;
&lt;li&gt;가독성 : sql과 비슷한 형태의 자바 코드 작성&lt;/li&gt;
&lt;li&gt;타입 안전성 : 자바 코드로 작성해 컴파일 단계에서 오류 파악 가능&lt;/li&gt;
&lt;li&gt;생산성 : join, 서브쿼리, 집계함수 등 해당 서비스에서 필요한 복잡한 쿼리 형태를 간단하게 작성 가능한 api 제공&lt;/li&gt;
&lt;li&gt;유지보수성 : 현재 사용하고 있는 라이브러리, 프레임워크를 변경하지 않고 개발 가능&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;p&gt;동적 쿼리를 구현하는 과정에서, 다른 대안에 비해 위 네 가지의 가치를 창출할 수 있다는 결론을 내리고 Querydsl을 도입했다.&lt;/p&gt;
&lt;p&gt;다음 포스팅에서는 Querydsl 라이브러리를 우리 서비스에 어떤 형태로 적용했는지 구현 과정을 설명하도록 하겠다.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Spring Event 적용하기]]></title><description><![CDATA[이 글은 우테코 피움팀 크루 '주노'가 작성했습니다. 사건의 발단 물주기, 반려 식물 정보 등록 및 수정과 같은 행동에 대한 History를 기록해야한다. 이 과정에서 History를 기록하는 코드가 ReminderService…]]></description><link>https://pium-official.github.io/spring-event-apply/</link><guid isPermaLink="false">https://pium-official.github.io/spring-event-apply/</guid><pubDate>Sun, 13 Aug 2023 00:00:00 GMT</pubDate><content:encoded>&lt;blockquote&gt;
&lt;p&gt;이 글은 우테코 피움팀 크루 &apos;&lt;a href=&quot;https://github.com/Choi-JJunho&quot;&gt;주노&lt;/a&gt;&apos;가 작성했습니다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;사건의 발단&lt;/h2&gt;
&lt;p&gt;물주기, 반려 식물 정보 등록 및 수정과 같은 행동에 대한 History를 기록해야한다.&lt;/p&gt;
&lt;p&gt;이 과정에서 History를 기록하는 코드가 ReminderService, PetPlantService에 침투하는 상황이 발생했다.&lt;/p&gt;
&lt;p&gt;History라는 도메인이 Reminder, PetPlant 그리고 앞으로 생겨날 히스토리가 필요한 로직들에 대해 강한 의존성을 가지게 될 것을 우려했다.&lt;/p&gt;
&lt;p&gt;실제로 다음과 같은 코드가 작성되면서 그 심각성은 더욱 가깝게 다가왔다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token annotation punctuation&quot;&gt;@Transactional&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;water&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;ReminderCreateRequest&lt;/span&gt; reminderCreateRequest&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Long&lt;/span&gt; petPlantId&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Member&lt;/span&gt; member&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token class-name&quot;&gt;PetPlant&lt;/span&gt; petPlant &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; petPlantRepository&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;findById&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;petPlantId&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;orElseThrow&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;NoSuchElementException&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;일치하는 반려 식물이 존재하지 않습니다. id: &quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; petPlantId&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;checkOwner&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;petPlant&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; member&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token class-name&quot;&gt;LocalDate&lt;/span&gt; prevDate &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; petPlant&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getLastWaterDate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    petPlant&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;water&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;reminderCreateRequest&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getWaterDate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token class-name&quot;&gt;HistoryCategory&lt;/span&gt; historyCategory &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; historyCategoryRepository&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;findByHistoryType&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;HistoryType&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;LAST_WATER_DATE&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;orElseThrow&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
                    &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;NoSuchElementException&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;존재하지 않는 히스토리 타입입니다. type: &quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;HistoryType&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;LAST_WATER_DATE&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token class-name&quot;&gt;History&lt;/span&gt; history &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;History&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;builder&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;petPlant&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;petPlant&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;date&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;reminderCreateRequest&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getWaterDate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;historyCategory&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;historyCategory&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;historyContent&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;HistoryContent&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;builder&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                    &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;previous&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;prevDate&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toString&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                    &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;current&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;petPlant&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getLastWaterDate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toString&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                    &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;build&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;build&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    historyRepository&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;save&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;history&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이렇게 개발을 진행하다가는 모든 코드에 HistoryRepository, HistoryCategoryRepository들이 침투하게된다.&lt;/p&gt;
&lt;p&gt;아무리 개발이 급해도 이건 아니다 싶어서 &lt;code class=&quot;language-text&quot;&gt;History를 기록한다&lt;/code&gt; 라는 행위에 대한 관심사를 분리하는 방법을 찾아봤다.&lt;/p&gt;
&lt;h2&gt;관심사 분리&lt;/h2&gt;
&lt;p&gt;관심사를 분리하는 방법으로 다음 두가지 방법을 찾았다.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;1. AOP를 사용한다.&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;AOP의 &lt;code class=&quot;language-text&quot;&gt;@Around&lt;/code&gt;어노테이션을 이용하여 History 기록이 필요한 부분에 대해 기록하는 동작을 수행할 수 있다.&lt;/p&gt;
&lt;p&gt;해당 방식은 다음과 같은 특징을 가진다.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;포인트컷 표현식으로 대상 메소드 혹은 클래스를 지정할 수 있다.&lt;/li&gt;
&lt;li&gt;메소드의 파라미터값, 반환값, 이름 등의 정보를 구할 수 있다.&lt;/li&gt;
&lt;li&gt;내부에서 선언된 변수에 대해서는 접근할 수 없다.&lt;/li&gt;
&lt;li&gt;선언된 메소드와 동일한 트랜잭션 주기를 가진다.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;2. Spring Event를 사용한다.&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Spring에서 제공하는 Event 기능을 사용할 수도 있다.&lt;/p&gt;
&lt;p&gt;History와 관련된 Repository나 Service에 의존하지 않고 EventPublisher를 의존하게 하여 패키지간 의존성을 해결할 수 있다.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;서비스간의 강한 의존성을 줄일 수 있다.&lt;/li&gt;
&lt;li&gt;이벤트로 분리된 부분을 비동기 방식으로 처리할 수 있다.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;AOP와 Event 두가지 방식을 알아봤다.&lt;/p&gt;
&lt;p&gt;AOP를 사용하면 프로덕션 코드 내에서 History에 대해 아예 몰라도 된다는 이점이 있었지만 History 생성 간 내부 값이 필요한 경우 이에 대처하기 어렵다는 문제가 있었다.&lt;/p&gt;
&lt;p&gt;이에 내부 값을 History에 맞는 양식으로 변환한 뒤 EventListener에게 위임하는 형태를 사용하기로 했다.&lt;/p&gt;
&lt;h2&gt;Event 흐름&lt;/h2&gt;
&lt;p&gt;Event의 흐름 자체는 간단하다.&lt;/p&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/0341988b6ce821dca6455e3437516ffe/dac1b/5ba5ff42.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 40%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsTAAALEwEAmpwYAAABaElEQVR42o2SuQrCQBCGt0qhaOUFGo/gw2knvoNG1BcQBC/yCMFCxaQRBAsLz8Kk8UwrKKLxlxkwlYUDHzswy8z8/6643+84n89wHIe5XC5e/ng88I33++3huu5PqCY6nQ4CgQAikQjC4TCi0SgjSRL6/T5erxdutxtf/idEq9VCLBZDJpNhstksUqkUD9F1Hfv9HuPxGLPZDIfDAavVCo1GA71eD+1224P6HI9HiMlkglwuh2KxiEKhwFCez+exXC55Ksk5nU7Y7Xao1Wrw+/2sJh6PIxQK8UI+nw+DwQBiOp2iVCqhXq/z5S/VapUnkmTLsrBYLLDdblEulxEMBllFIpFAMplkqPFwOISoVCo8UVEU9k6WZS6Sh4ZhYL1eYz6fw7Zt9nKz2aDZbELTNJbd7Xb5JEiFUFWV1yX/qFk6nebptAXZQUFb/huCTB+NRrwNQQ9Ap2mauF6vnoffV6b8+Xz+hL7NBzbI3uR/Ic/7AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;5ba5ff42&apos; title=&apos;&apos; src=&apos;/static/0341988b6ce821dca6455e3437516ffe/ca1dc/5ba5ff42.png&apos; srcset=&apos;/static/0341988b6ce821dca6455e3437516ffe/e7570/5ba5ff42.png 170w,
/static/0341988b6ce821dca6455e3437516ffe/f46e7/5ba5ff42.png 340w,
/static/0341988b6ce821dca6455e3437516ffe/ca1dc/5ba5ff42.png 680w,
/static/0341988b6ce821dca6455e3437516ffe/dac1b/5ba5ff42.png 703w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;기존의 서비스 로직이 History라는 도메인에 대한 의존성을 가지게 되는 구조였다면&lt;/p&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/63b46f4172e2c3f1f1bf4958247806c8/85c72/aebfae33.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 57.05882352941176%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB9klEQVR42o1STYvpcRSmrEQKJS9lhhqMbDRlxZKa1CysxFew4gvYyScYFjTbWbEgL7NVYmGBIYSSsSCvZWHwzD1ncrtu997uU0+d/v9znt85zzkC/MBms0Gr1cL7+zva7TbH3W4Xh8MBF5xOJ/T7fTSbTc6h3E6nw7nb7ZZzzuczBBS8vr5CJpNBo9FAq9VCoVDg7u4O9Xod4/EYg8GAix8eHiCXy6FWq6FUKqFSqSCVSrmecDwevwUzmQxMJhPsdjvTZrPB6XSiVqthNpthOp1iOBzC7XbzP8qxWq0cUx3VXwmu12tunUa5sNfrXY1M45AoddpoNPD29sad0+i73e565L+BfCNSIvECemg0Gv0U+RWCarWK5+dnpNNppFIpJJNJZLPZq6Tfi/4pGA6HIRaLodPpmBKJhP2jMWir5CEV0SaXyyXbs1gs+AroOujbarXC5+fnt2AikcDj4yP8fj/z6ekJ9AiBxKgTKvZ4PLi5uYHFYmGazWbc39/zcug7ecqC5XIZ0WgU8XgcsViM45eXF/bu4+MDk8mEt+1yuaDX62E0GmEwGFjk9vaWt0xnlM/nvwVDoRCEQiHfFFEkEsHhcPCItMH5fI79fo9KpYJcLodSqYRisci8xIVCgW1gQVqI1+tFMBhEIBCAz+dDJBL5o+H/gy/x+qfhqftryQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;aebfae33&apos; title=&apos;&apos; src=&apos;/static/63b46f4172e2c3f1f1bf4958247806c8/ca1dc/aebfae33.png&apos; srcset=&apos;/static/63b46f4172e2c3f1f1bf4958247806c8/e7570/aebfae33.png 170w,
/static/63b46f4172e2c3f1f1bf4958247806c8/f46e7/aebfae33.png 340w,
/static/63b46f4172e2c3f1f1bf4958247806c8/ca1dc/aebfae33.png 680w,
/static/63b46f4172e2c3f1f1bf4958247806c8/85c72/aebfae33.png 863w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;다음과 같이 History 도메인에 의존하지 않는 구조로 개선될 수 있다.&lt;/p&gt;
&lt;h2&gt;Event 구현하기&lt;/h2&gt;
&lt;p&gt;Spring Event를 구현하기 위해서는 크게 3가지 요소가 필요하다.&lt;/p&gt;
&lt;h3&gt;Event Class&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;해당 실습은 SpringBoot 3.1(Spring Framework 6) 환경에서 진행됩니다. &lt;/p&gt;
&lt;p&gt;(Spring Framework 4.2 이전 버전은 설정이 상이하니 이점 유의해주시기 바랍니다.)&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;우선 이벤트 클래스다.&lt;/p&gt;
&lt;p&gt;이벤트 클래스는 이벤트를 처리하기 위해 필요한 데이터를 가지고있다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token annotation punctuation&quot;&gt;@Getter&lt;/span&gt;
&lt;span class=&quot;token annotation punctuation&quot;&gt;@Validated&lt;/span&gt;
&lt;span class=&quot;token annotation punctuation&quot;&gt;@RequiredArgsConstructor&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;HistoryEvent&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

    &lt;span class=&quot;token annotation punctuation&quot;&gt;@NotNull&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Long&lt;/span&gt; petPlantId&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token annotation punctuation&quot;&gt;@NotNull&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; previous&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token annotation punctuation&quot;&gt;@NotNull&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; current&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token annotation punctuation&quot;&gt;@NotNull&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;HistoryType&lt;/span&gt; historyType&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    
    &lt;span class=&quot;token annotation punctuation&quot;&gt;@NotNull&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;LocalDate&lt;/span&gt; date&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;Event Publisher&lt;/h3&gt;
&lt;p&gt;다음은 이벤트를 발행하는 publisher다.&lt;/p&gt;
&lt;p&gt;Spring에서는 ApplicationEventPublisher의 publish() 메소드를 사용하여 Context에 이벤트를 발행할 수 있다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token annotation punctuation&quot;&gt;@Service&lt;/span&gt;
&lt;span class=&quot;token annotation punctuation&quot;&gt;@Transactional&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;readOnly &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token annotation punctuation&quot;&gt;@RequiredArgsConstructor&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ReminderService&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ApplicationEventPublisher&lt;/span&gt; publisher&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    
    &lt;span class=&quot;token annotation punctuation&quot;&gt;@Transactional&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;water&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;ReminderCreateRequest&lt;/span&gt; reminderCreateRequest&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Long&lt;/span&gt; petPlantId&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Member&lt;/span&gt; member&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;// 반려 식물 물주기 수행&lt;/span&gt;
        publisher&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;publishEvent&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;HistoryEvent&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;EventListener&lt;/h3&gt;
&lt;p&gt;마지막으로 이벤트 리스너다.&lt;/p&gt;
&lt;p&gt;발행된 이벤트를 컨텍스트에서 잡아서 수행하는 역할을 한다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token annotation punctuation&quot;&gt;@Component&lt;/span&gt;
&lt;span class=&quot;token annotation punctuation&quot;&gt;@RequiredArgsConstructor&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;HistoryEventListener&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;PetPlantRepository&lt;/span&gt; petPlantRepository&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;HistoryRepository&lt;/span&gt; historyRepository&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;HistoryCategoryRepository&lt;/span&gt; historyCategoryRepository&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token comment&quot;&gt;// 히스토리를 저장한다.&lt;/span&gt;
    &lt;span class=&quot;token annotation punctuation&quot;&gt;@EventListener&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;savePetPlantHistory&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;HistoryEvent&lt;/span&gt; historyEvent&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

        &lt;span class=&quot;token class-name&quot;&gt;PetPlant&lt;/span&gt; petPlant &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; petPlantRepository&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;findById&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;historyEvent&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getPetPlantId&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;orElseThrow&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;NoSuchElementException&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;일치하는 반려 식물이 존재하지 않습니다. id: &quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; historyEvent&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getPetPlantId&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

        &lt;span class=&quot;token class-name&quot;&gt;HistoryCategory&lt;/span&gt; historyCategory &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; historyCategoryRepository&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;findByHistoryType&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;historyEvent&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getHistoryType&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;orElseThrow&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;NoSuchElementException&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;존재하지 않는 히스토리 타입입니다. type: &quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; historyEvent&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getHistoryType&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

        &lt;span class=&quot;token class-name&quot;&gt;History&lt;/span&gt; history &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;History&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;builder&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;petPlant&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;petPlant&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;date&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;historyEvent&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getDate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;historyCategory&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;historyCategory&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;historyContent&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;HistoryContent&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;builder&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                        &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;previous&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;historyEvent&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getPrevious&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                        &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;current&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;historyEvent&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getCurrent&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                        &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;build&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;build&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

        historyRepository&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;save&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;history&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;결론&lt;/h2&gt;
&lt;p&gt;Spring Event를 도입하여 도메인간의 결합도를 줄여봤다.&lt;/p&gt;
&lt;p&gt;이벤트를 다루면 비동기 처리에 대한 이야기가 많이 보이는 것 같은데 아직 해당 작업이 비동기처리가 필요할 만큼 오래 걸리는 작업이라는 판단을 내리지 못했다.&lt;/p&gt;
&lt;p&gt;비동기 처리는 나중에 추가로 다뤄보도록 하자.&lt;/p&gt;
&lt;h2&gt;Reference&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://wildeveloperetrain.tistory.com/217&quot;&gt;https://wildeveloperetrain.tistory.com/217&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://mangkyu.tistory.com/292&quot;&gt;https://mangkyu.tistory.com/292&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[RestDocs로 API 문서화하기]]></title><description><![CDATA[이 글은 우테코 피움팀 크루 '주노'가 작성했습니다. 사건의 발단  3차 스프린트를 진행하기 하루 전날 프론트가 배포되었다.  그런데 배포된 사이트에 들어가보니 반려 식물의 타임라인을 보는 페이지가 404를 띄우고있었다. 당황하지 않고 침착하게 f1…]]></description><link>https://pium-official.github.io/restdocs-start/</link><guid isPermaLink="false">https://pium-official.github.io/restdocs-start/</guid><pubDate>Fri, 11 Aug 2023 00:00:00 GMT</pubDate><content:encoded>&lt;blockquote&gt;
&lt;p&gt;이 글은 우테코 피움팀 크루 &apos;&lt;a href=&quot;https://github.com/Choi-JJunho&quot;&gt;주노&lt;/a&gt;&apos;가 작성했습니다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;사건의 발단&lt;/h2&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/08fceeea03b3158d2d5d7a1fb9d913b6/5f864/c4fe129c.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 17.64705882352941%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAXElEQVR42qWPSw6AIBTEOIbK7yEgCmLU+99tRNYGTVx013QyjGyAMh5CW3A1NpHkEPMOshMGaR4dlvKJack12guqYouO66ZXggf8vJb1b8E3WIgbXEj1zt/YHbwAs15swuYRErsAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;c4fe129c&apos; title=&apos;&apos; src=&apos;/static/08fceeea03b3158d2d5d7a1fb9d913b6/ca1dc/c4fe129c.png&apos; srcset=&apos;/static/08fceeea03b3158d2d5d7a1fb9d913b6/e7570/c4fe129c.png 170w,
/static/08fceeea03b3158d2d5d7a1fb9d913b6/f46e7/c4fe129c.png 340w,
/static/08fceeea03b3158d2d5d7a1fb9d913b6/ca1dc/c4fe129c.png 680w,
/static/08fceeea03b3158d2d5d7a1fb9d913b6/02d09/c4fe129c.png 1020w,
/static/08fceeea03b3158d2d5d7a1fb9d913b6/5f864/c4fe129c.png 1066w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;3차 스프린트를 진행하기 하루 전날 프론트가 배포되었다.&lt;/p&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 386px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/9a5284a76d1e03ec6ea7c392f6bdb02f/d999c/dbb1d706.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 147.05882352941174%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAdCAYAAACqhkzFAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEAUlEQVR42q1T20tjZxDPH6CPCooXFKQvFkpLKaVCRQrFPrguXurdgiJ4QV+841q0226hyxbWS7FqaERUCopYfVDX7GrUJOvGCzGSRJMY7eJaY1ZNTHP113xjTszFy7b0wJxvzpyZ38xvZj4ebnkuLi7YO8Dmui0EvJvRLgNdTjtMByqcvVbAabPcCcq7vrLLAAby6tc8PP/2A4jaP4K04x6OtxdvBeXdwJXAxE++hORxCt7Kx6GeF2DpyVcQff8p/lLM4sJducf5ZkAuq/bZU7xo+xDinz6Hbl2ILbUOM3PzUMtfQtZ1D8+a34N66sdrK+X5DwCwnhxA9OgzzH/3MWTd9/HmtR7PhXNQbm3CarNjnf8Nlh9/gc3f6+D4+yyoyiBA8+EO3mql0Iv4ED54H6b9NZgsNmwqNTAb9iB6+AnUkz9cDsxhe4ceeoBtJgMkP7t79igJ+kUBjuV/4OXTNCy4Ac1vVDcO5lpAl9NBqulAifXfSvHCPeW5B4lY+eVrGDVSv8TvvIdcC1wuByzGP2Ex6N0UrX7//t1ieyix4Kv74tZd//Wm+CF7XndcOy+gy53V6XTSyelMaOpmMzY2NqBSqS6r9UhgDNeGO3toNBoxMjKC2dnZO/vnBWTZWRVqtRpKpXuy6+tYW1uDXq8nfW9vDwqFAru7uzg8PITBYMDW1hbkcjm2t7cp/vz8/AqwpaUF+fn5aG1tRXt7O4qKipCdnY2Ojg6kpKSgrq4OqampaGtrg0AgwMTEBNnKy8vR1NSEkpISSugFNJlMODk5gcViIWHfrHdWqxWnp6eU/ezsjE6HwwG73U525svsR0dHsNlsV4C+/WK0GCV2MjpMtFotfWs0Guzs7BBtnU5HtsCeEiA3URYwPj6OpaUlTE1Noa+vDwMDA5icnCQZHh7G0NAQpqenMTg4SDqrjJt8UIWMkkQioSoWFxchk8mo8fv7+5RsYWGBhrSysgKxWEzDCJy8dw85yqOjoxTEKpyZmSGQ1dVVSKVSjI2NQSgUEgOmLy8vg2MYVKFv2b4nt7jc8gb2LNBGgHw+H+np6bQuubm5tEI5OTkoLS1FZWUlSXV1NSoqKlBQUEA+eXl55FdYWEi+bEBewIaGBoSGhiI+Ph4xMTGIjY1FREQEkpKSkJGRgbS0NGRmZlLShIQEREVFkR/nGx4eTr32ArJedHV1ob+/nybLSU9PD9nZgnd2dpLe29vr58OE2Y6Pj68A2ToUFxejqqqKaHHCbkJtbS2am5vR2NiImpoasvn6sHaUlZXRJngB6+vrERISgri4OERHR5MwOox2cnIyXcOsrCwkJiYiMjKS/vn6hYWFBVPu7u6m4TDavsJR4ugF/ud8/Cj/n88/kgfM4ZMxzOQAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;dbb1d706&apos; title=&apos;&apos; src=&apos;/static/9a5284a76d1e03ec6ea7c392f6bdb02f/d999c/dbb1d706.png&apos; srcset=&apos;/static/9a5284a76d1e03ec6ea7c392f6bdb02f/e7570/dbb1d706.png 170w,
/static/9a5284a76d1e03ec6ea7c392f6bdb02f/f46e7/dbb1d706.png 340w,
/static/9a5284a76d1e03ec6ea7c392f6bdb02f/d999c/dbb1d706.png 386w&apos; sizes=&apos;(max-width: 386px) 100vw, 386px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;그런데 배포된 사이트에 들어가보니 반려 식물의 타임라인을 보는 페이지가 404를 띄우고있었다.&lt;/p&gt;
&lt;p&gt;당황하지 않고 침착하게 f12를 눌러 개발자도구를 열고 네트워크탭을 확인해보니 API가 이상하게 호출되고있었다.&lt;/p&gt;
&lt;p&gt;평소 프론트분들을 굉장히 신뢰하던 주노는 설마 하는 마음에 Notion을 열어봤다. 아니나다를까 Notion에 API 명세가 이상하게 작성되어있었다.&lt;/p&gt;
&lt;p&gt;범인은 바로 이것저것 끄적이다가 되돌리기를 하지 않은 주노...&lt;/p&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/d7555226dc6d80df7c93e19c30af3caa/69dce/03624593.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 89.99999999999999%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAAAsTAAALEwEAmpwYAAACIElEQVR42p1Uy27bMBDMFwS9FEltS6REkaJEiqJsWH4ocNxLAvQPiqJAC/RcFOih7ddPl1Lc2ogdBz4Mdi3Js5zZXV79+v0H33/8BB8zZIlEkmlM4hTjKLkIV1++fsPHT5/BmIAgsjQQhpcT3sdTOEl4/eYtbkYxXDNHM1v0kLnBKErxjkgPMP6fjyYnCIM8keWwxsJWDrWrUdc1lMqRiQxSSshsgKJcPeUxS6noEcIRVUuFxKzxcJWFMyUaIqwoapWhUJIwRKslylz2OePp0VP2hInQJHUJT3LrpiXJFhHLcEsS93Gzl5+UHAjjJIMuHZS24NTp3ctgx3OcacotjYvKS3x4eIS5r7DqOqzXHeZtS1j0WC5XaBcLaF0goeKnTrfnocJiPkc9831DaudgrT2AMYaiQSZzhP+8QJiAUdWmmWKzeU8n3FDcYL5cY3O/xXa7xWq1RkVFvPfUfX2OkIOnikamQWmpu26KTJUQUiPigjzjg297Pr64KYNkDU/dreoZ/LRFYeo+L63v8xAtFQq5ocLWDQjPjxIyGuBqSh8YR6bTPpOnKQ17sCKiAY7ppDtE7BDPCMcjkmM4mocG3bLD3V2Hljocuqqkoh1n4Jz/Q8zOXA5hfcLFIEVYpxjetbQhhk5KA5+kB2SvIwxdJim60BBCwFcVCpo3rYffFxEGb1SeI0lTGJ33MmMCY+QvP8QrCIexMZVHXlQXX6w7wr8h4f39b7d19wAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;03624593&apos; title=&apos;&apos; src=&apos;/static/d7555226dc6d80df7c93e19c30af3caa/ca1dc/03624593.png&apos; srcset=&apos;/static/d7555226dc6d80df7c93e19c30af3caa/e7570/03624593.png 170w,
/static/d7555226dc6d80df7c93e19c30af3caa/f46e7/03624593.png 340w,
/static/d7555226dc6d80df7c93e19c30af3caa/ca1dc/03624593.png 680w,
/static/d7555226dc6d80df7c93e19c30af3caa/02d09/03624593.png 1020w,
/static/d7555226dc6d80df7c93e19c30af3caa/69dce/03624593.png 1194w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;위와 같은 사건을 겪으면서 사람 손으로 작성되는 문서의 신뢰도 문제를 인지했고, API 문서화를 자동화할 수 있는 기술의 필요성을 느꼈다.&lt;/p&gt;
&lt;h2&gt;서론&lt;/h2&gt;
&lt;p&gt;API 문서화 방식에 대해 찾아본 결과 크게 두가지 방법을 알 수 있었다.&lt;/p&gt;
&lt;h3&gt;알아보기&lt;/h3&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;1. Spring RestDocs&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Spring Rest Docs는 Spring에서 제공하는 문서화 도구다.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;테스트 작성이 강제된다는 특징이 있다.&lt;/li&gt;
&lt;li&gt;테스트를 통해 도출된 결과를 문서로 작성하기 프로덕션 코드에 영향이 없다는 특징이 있다.&lt;/li&gt;
&lt;li&gt;아래 설명할 Swagger와 비교했을 때 설정이 약간 번거롭다는 단점이 있다. &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;2. Swagger&lt;/code&gt; &lt;/p&gt;
&lt;p&gt;Swagger는 API 문서화를 돕는 오픈소스 툴이다.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;테스트 작성이 필수가 아니라는 특징이 있다.&lt;/li&gt;
&lt;li&gt;swagger 이용 시 실제 API가 호출된다는 특징이 있다.&lt;/li&gt;
&lt;li&gt;테스트 작성을 안하는 대신 프로덕션 코드에 문서화와 관련된 코드가 작성된다. (DTO, Controller 등)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Spring RestDocs&lt;/h3&gt;
&lt;p&gt;피움 팀은 RestDocs를 사용하기로 결정했고 이유는 다음과 같다.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;현재 피움팀은 각 계층별 테스트를 꼼꼼하게 작성하고있고 인수테스트까지 작성하고 관리하고있으므로 테스트가 강제된다는 점은 큰 단점으로 다가오지 않았다.&lt;/li&gt;
&lt;li&gt;코드리뷰가 필수적으로 이뤄지는 현 스프린트 단계에서 프로덕션 코드의 가독성을 해치는 방향이 오히려 큰 단점이 될 수 있다.&lt;/li&gt;
&lt;li&gt;성공하는 테스트에 대해서만 문서화가 이뤄지기 때문에 문제상황에서 필요했던 문서의 신뢰성을 충족시킨다.&lt;/li&gt;
&lt;li&gt;(프론트 쵸파가 RestDocs를 좋아한다 🦌)&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/woowacourse-teams/2023-pium/discussions/181&quot;&gt;피움🌱 문서화 도입 관련 discussion&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;시작하기&lt;/h2&gt;
&lt;p&gt;RestDocs를 설정하는 과정을 정리하려고한다.&lt;/p&gt;
&lt;h3&gt;RestAssured vs MockMvc?&lt;/h3&gt;
&lt;p&gt;RestDocs를 적용하는 방법은 RestAssured를 기반으로 문서를 생성하는 방법과 MockMvc를 기반으로 문서를 생성하는 방법으로 크게 두가지가 있다.&lt;/p&gt;
&lt;p&gt;피움팀은 현재 인수테스트도 작성되어있기 때문에 RestAssured를 사용해도 충분히 문제가 없다.&lt;/p&gt;
&lt;p&gt;하지만 여러 계층이 협업하는 인수테스트 환경에 문서화와 관련된 코드가 작성된다면 안그래도 복잡한 인수테스트 코드의 가독성을 해칠 것이라고 우려되었다.&lt;/p&gt;
&lt;p&gt;슬라이스 테스트를 수행하여 비교적 코드의 무게가 가벼운 Controller 테스트가 MockMvc로 작성되어있었기 때문에 MockMvc를 기반으로 RestAssured를 적용하기로 결정했다.&lt;/p&gt;
&lt;h3&gt;Gradle 설정&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;TIP : &lt;code class=&quot;language-text&quot;&gt;asciidoctor&lt;/code&gt;는 adoc 파일을 html 등으로 변환해주는 도구입니다&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;gradle&quot;&gt;&lt;pre class=&quot;language-gradle&quot;&gt;&lt;code class=&quot;language-gradle&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;plugins&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;...&lt;/span&gt;
    id &lt;span class=&quot;token interpolation-string&quot;&gt;&lt;span class=&quot;token string&quot;&gt;&quot;org.asciidoctor.jvm.convert&quot;&lt;/span&gt;&lt;/span&gt; version &lt;span class=&quot;token interpolation-string&quot;&gt;&lt;span class=&quot;token string&quot;&gt;&quot;3.3.2&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// asciidoctor 플러그인 추가&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

configurations &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    asciidoctorExt &lt;span class=&quot;token comment&quot;&gt;// asciidoctorExt에 대한 선언&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;...&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;


&lt;span class=&quot;token keyword&quot;&gt;dependencies&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;...&lt;/span&gt;
    asciidoctorExt &lt;span class=&quot;token string&quot;&gt;&apos;org.springframework.restdocs:spring-restdocs-asciidoctor&apos;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// asciidoctorExt에 spring-restdocs-asciidoctor 의존성 추가&lt;/span&gt;
    testImplementation &lt;span class=&quot;token string&quot;&gt;&apos;org.springframework.restdocs:spring-restdocs-mockmvc&apos;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// mockMvc 사용&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

ext &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    snippetsDir &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;file&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;build/generated-snippets&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 스니펫이 생성되는 디렉터리 경로를 설정&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

test &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    outputs&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;dir snippetsDir &lt;span class=&quot;token comment&quot;&gt;// 스니펫이 생성되는 디렉터리를 설정&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

asciidoctor &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// Gradle이 asciidoctor Task를 수행하는 설정 (함수 선언)&lt;/span&gt;
    configurations &lt;span class=&quot;token string&quot;&gt;&apos;asciidoctorExt&apos;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// asciidoctor 확장 설정&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;baseDirFollowsSourceFile&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// .adoc 파일을 include 하면서 사용하기 위한 설정&lt;/span&gt;
    inputs&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;dir snippetsDir &lt;span class=&quot;token comment&quot;&gt;// 스니펫을 불러올 위치 설정&lt;/span&gt;
    dependsOn test &lt;span class=&quot;token comment&quot;&gt;// Gradle의 test Task 이후 asciidoctor를 수행&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

asciidoctor&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;doFirst &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// asciidoctor Task가 수행될 때 가장 먼저 수행&lt;/span&gt;
    delete &lt;span class=&quot;token function&quot;&gt;file&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;src/main/resources/static/docs&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

task &lt;span class=&quot;token function&quot;&gt;copyDocument&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;type&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Copy&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 생성된 html 파일을 옮긴다&lt;/span&gt;
    dependsOn asciidoctor &lt;span class=&quot;token comment&quot;&gt;// Gradle의 asciidoctor Task 이후 수행&lt;/span&gt;
    from &lt;span class=&quot;token function&quot;&gt;file&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token interpolation-string&quot;&gt;&lt;span class=&quot;token string&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;token expression&quot;&gt;asciidoctor&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;outputDir&lt;/span&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    into &lt;span class=&quot;token function&quot;&gt;file&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token interpolation-string&quot;&gt;&lt;span class=&quot;token string&quot;&gt;&quot;src/main/resources/static/docs&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

build &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    dependsOn copyDocument &lt;span class=&quot;token comment&quot;&gt;// build 이후 html 파일 복사&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

bootJar &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    dependsOn asciidoctor &lt;span class=&quot;token comment&quot;&gt;// asciidoctor 이후 bootJar 수행&lt;/span&gt;
    from &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token interpolation-string&quot;&gt;&lt;span class=&quot;token string&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;token expression&quot;&gt;asciidoctor&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;outputDir&lt;/span&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        into &lt;span class=&quot;token string&quot;&gt;&apos;static/docs&apos;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;...&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;테스트 코드 작성하기&lt;/h3&gt;
&lt;p&gt;우선 다음과 같은 방식으로 코드를 작성할 수 있다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token annotation punctuation&quot;&gt;@AutoConfigureRestDocs&lt;/span&gt;
&lt;span class=&quot;token annotation punctuation&quot;&gt;@WebMvcTest&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;controllers &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;PetPlantController&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;PetPlantControllerTest&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

    &lt;span class=&quot;token annotation punctuation&quot;&gt;@Autowired&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;MockMvc&lt;/span&gt; mockMvc&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token annotation punctuation&quot;&gt;@MockBean&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;PetPlantService&lt;/span&gt; petPlantService&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    
    &lt;span class=&quot;token annotation punctuation&quot;&gt;@Test&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; 반려_식물_단건_조회_정상_요청시_200을_반환&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;throws&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Exception&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token class-name&quot;&gt;PetPlantResponse&lt;/span&gt; response &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;RESPONSE&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;피우미_응답&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token function&quot;&gt;given&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;petPlantService&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;read&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;anyLong&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;any&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Member&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;willReturn&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;response&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    
        mockMvc&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;perform&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;/pet-plants/{id}&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1L&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                        &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;header&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Authorization&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;pium@gmail.com&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                        &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;contentType&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;MediaType&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;APPLICATION_JSON&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                        &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;characterEncoding&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;StandardCharsets&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;UTF_8&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;andDo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;document&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
                            &lt;span class=&quot;token string&quot;&gt;&quot;petPlant/findById/&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                            &lt;span class=&quot;token class-name&quot;&gt;Preprocessors&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;preprocessRequest&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Preprocessors&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;prettyPrint&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                            &lt;span class=&quot;token class-name&quot;&gt;Preprocessors&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;preprocessResponse&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Preprocessors&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;prettyPrint&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                            &lt;span class=&quot;token function&quot;&gt;requestHeaders&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
                                    &lt;span class=&quot;token function&quot;&gt;headerWithName&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Authorization&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;description&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;사용자 인증 정보&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                            &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                            &lt;span class=&quot;token function&quot;&gt;pathParameters&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
                                    &lt;span class=&quot;token function&quot;&gt;parameterWithName&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;id&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;description&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;반려 식물 ID&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                            &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                        &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;andExpect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;status&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;isOk&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;andDo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;andDo(document(...))&lt;/code&gt; 부분이 문서화와 관련된 내용들이다.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;document()&lt;/code&gt; 내부의 파라미터를 하나씩 살펴보자&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;&quot;petPlant/findById/&quot;&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;스니펫이 생성되는 대상 디렉터리 명이다. &lt;/p&gt;
&lt;p&gt;해당 테스트가 완료되면 문서화 대상으로 지정한 값들에 대해 &lt;code class=&quot;language-text&quot;&gt;.adoc&lt;/code&gt; 문서가 생성된다.&lt;/p&gt;
&lt;p&gt;생성 흐름과정은 뒤에서 설명한다.&lt;/p&gt;
&lt;p&gt;우선 각 파라미터가 어떤 결과물을 도출하는지 확인해보자.&lt;/p&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 357px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/91225d4e5198fcd228bbb02a944f8ffa/e07d4/22e5bb11.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 148.8235294117647%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAeCAYAAAAsEj5rAAAACXBIWXMAAAsTAAALEwEAmpwYAAACw0lEQVR42qVVa3PSUBTkd/iAJEDI6z4CaaCPQa3T1hmtOqOf9JP9//9h3b1JO+iADfhhgYGbZffsOeeOojiGzwt82W7hiwyWiKIIMb8/BSMR5vM5tptzFFWJPJ0jOpEsEOolmUR4aXKk11doqwKXS4tiMcfkBKUdYTTG1DQwVzfwWYqMiuPkfxRGExKu4LYf4Kgsnc+e1CU7GESog6/iCG9Sg5/+EtZkaEyJjTfIWM/xZBLIhwYVFE6IOivwztQwxQI2z+CYdrlIQy0rlmFB1dFQhWMqPC8M7uszlCT0RY5llZNogRVDkmKTL6hyaA2JFwxmQ9KvdQtbZqjLjrR1FWq+T46xLERU2dD2W+NQUY3tLasvheSolHvbF6XFx7pBRds1rYb6hkCObZudOt65JYPpki6o8NgxfLLcJZ3j2np41k9QuicThmAmY1xWFve+gasUSnHCcuibVlC9ZPu98SGYuuwId888h1GSJJhOpwHRNMFF5XDDOnoppO3d34dglOc5nHOw1sL5Ep/aBj+u7/D5+zf8enjAze0tdEa/G2MC9PkQRrPZDGmaBsyJisFsSoN17bFZr7H0DgUnpiRpxQnS++P5ffijhjHxmpsnJWrar9g2NXuytWXY5o0pwgTF/6rh3ymFDc66rbgU6koznIW01UaaHt/X9dm22e3HnMu15nZRg2vsRKRFIWgTTU8hPKPdFa1qjbW2wop2pVSfbdg80TBCWc40Nek8zLMU+d6qVpj+QDvyaIWelh1JtHFk1RXdKIpQd85ghY+ELR9uaFmpKl3hrC/BOa8HLY59O3Kv5YUu/z4MEbj+Sni0rOvgUNKHU047y7oOTNYRCUvOd5LEBzf4XsKCD6xIqFBWfTDL/m7RHyjpcGkNtkxCywcsH1aLlKynSAXZFqbHWC55uGVrNFQiVVInq1K25qWlFjp0pf4GnK1c8eSPEpQAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;22e5bb11&apos; title=&apos;&apos; src=&apos;/static/91225d4e5198fcd228bbb02a944f8ffa/e07d4/22e5bb11.png&apos; srcset=&apos;/static/91225d4e5198fcd228bbb02a944f8ffa/e7570/22e5bb11.png 170w,
/static/91225d4e5198fcd228bbb02a944f8ffa/f46e7/22e5bb11.png 340w,
/static/91225d4e5198fcd228bbb02a944f8ffa/e07d4/22e5bb11.png 357w&apos; sizes=&apos;(max-width: 357px) 100vw, 357px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;Preprocessors.preprocessRequest(prettyPrint())&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;요청값을 읽기 쉬운 서식으로 지정한다.&lt;/p&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 443px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/c5eadf173fb53dedbb2f78124513b849/4d697/f25529d5.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 38.82352941176471%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsTAAALEwEAmpwYAAABAElEQVR42qWR626EIBCFff/X25rUVRQviKy6q9aKgvUU2Jha/zRtSb7ADORwZsZbp3d8aIVVSmxa47/Lk7yAFBySM+jx7Zndtr8LLkphWRbodYUyDtWioNQX9u4Y/4R3ebmAM4YpyjFmHCMxO8kgmUBT1yCEgHOOrusgTVvOTNPkmOfZ4aVpgzC6ISI3MPbAa1ChbTvEMUFRFMjzHFmWoaoqpGnqxG1+x97bXN/3rhovTmoEV4GENrDnMBJgZYuyZAiCK3zfN+Kx+aQFpRTDMDgnR5d77BxaZ1ne4n5/IEmoc0NpagRLhGEIIYR7eC5t59wC79n47wNYDoPRZlC/4RO2BmeFDyWLPgAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;f25529d5&apos; title=&apos;&apos; src=&apos;/static/c5eadf173fb53dedbb2f78124513b849/4d697/f25529d5.png&apos; srcset=&apos;/static/c5eadf173fb53dedbb2f78124513b849/e7570/f25529d5.png 170w,
/static/c5eadf173fb53dedbb2f78124513b849/f46e7/f25529d5.png 340w,
/static/c5eadf173fb53dedbb2f78124513b849/4d697/f25529d5.png 443w&apos; sizes=&apos;(max-width: 443px) 100vw, 443px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;Preprocessors.preprocessResponse(prettyPrint())&lt;/code&gt; &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;응답값을 읽기 쉬운 서식으로 지정한다.&lt;/p&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/f0e284aab965e9d02175c301d2b3fc99/a27c6/207cbfe0.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 80.58823529411765%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAAAsTAAALEwEAmpwYAAABdklEQVR42qWUW2+CQBCF+f8/r0mj1qLlVkSWy8LeWLSnM6v1pQ8FSzJZApMvczhniPwg4bsOM51flwv+e0WTtTBqwGQNtDPwfsL1esWF4Fze+0U1TRMssaKmlXjdJDimZ2ziAkmSoKoq1HUdSikF51xo/qu4L9LaEWBALQaUpYRoWgzDAGsMDBU3LS2eMmKyUuPjIUueqBy95AY+VwFZP0vM8xyCzLFNB1OeYTVNRxOG8y5nEXCe5wB83+/REtDULdQhh+lkABvR3aBrgEVRYLvdEvgEk1cYX96gPwqYXsKRglWSfyasyFGWq+IM6lgQ8BNmIIcntx6YpRniOMapLCGlhNKacslRcetdZmCapqHavg9xsT3FZqTp+Ns947IQIgQ6zzJ0lENT1tAkXRdVMGep7MeEHBk2Zbfb4ZB8YCQzVFbCnBuYtl8vmb8bG8PnKGjCcYTlcPsngs03IwFYtqUfhKXddmrdyv1aPd5Zf8/bbe3c08BvzQLWfhCNqasAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;207cbfe0&apos; title=&apos;&apos; src=&apos;/static/f0e284aab965e9d02175c301d2b3fc99/ca1dc/207cbfe0.png&apos; srcset=&apos;/static/f0e284aab965e9d02175c301d2b3fc99/e7570/207cbfe0.png 170w,
/static/f0e284aab965e9d02175c301d2b3fc99/f46e7/207cbfe0.png 340w,
/static/f0e284aab965e9d02175c301d2b3fc99/ca1dc/207cbfe0.png 680w,
/static/f0e284aab965e9d02175c301d2b3fc99/a27c6/207cbfe0.png 700w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;a href=&quot;https://docs.spring.io/spring-restdocs/docs/current/reference/htmlsingle/#customizing-requests-and-responses-preprocessors&quot;&gt;Preprocessors 관련 공식문서&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;requestHeaders(headerWithName(&quot;Authorization&quot;).description(&quot;사용자 인증 정보&quot;))&lt;/code&gt; : RequestHeader에 대한 명세를 한다.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/378b19d96d390b9202145c76f9fa25d7/4ad28/4282f935.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 11.176470588235293%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAAAsTAAALEwEAmpwYAAAATklEQVR42nXKQQrAIAxEUe9/UYsLrUjU1CQj6bLYxWdgeKHcBblk8MOYPN/95n9KCfGKGHMcjbdkIRARaq3ovUNVj4kI3LXWwMwws1+7AUG4nFkh8gR+AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;4282f935&apos; title=&apos;&apos; src=&apos;/static/378b19d96d390b9202145c76f9fa25d7/ca1dc/4282f935.png&apos; srcset=&apos;/static/378b19d96d390b9202145c76f9fa25d7/e7570/4282f935.png 170w,
/static/378b19d96d390b9202145c76f9fa25d7/f46e7/4282f935.png 340w,
/static/378b19d96d390b9202145c76f9fa25d7/ca1dc/4282f935.png 680w,
/static/378b19d96d390b9202145c76f9fa25d7/4ad28/4282f935.png 1004w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;queryParameters(parameterWithName(&quot;name&quot;).description(&quot;사전 식물 검색 파라미터&quot;))&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/0a19b8264bdc169c7acd1edb123e2aa4/1263b/c9dbf6a8.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 28.82352941176471%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAk0lEQVR42oVPiwrEIAzz/z9UBGGe77c5WrhjbI4FArakiRFKKYQYUFtFqeVG2jvvIKXEYY5HHbGPDqG1RsoJc02MOW6kfSkF5mM4eK211bF2TggSv6H3jpQSYozIOWOMsdVRmGit/YcdCbVWNiPj8353J0j0Bgr13sNayzTGMK+3bOice6xwrkw//FUm8xACv6+GXwwl2ApT8L5OAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;c9dbf6a8&apos; title=&apos;&apos; src=&apos;/static/0a19b8264bdc169c7acd1edb123e2aa4/ca1dc/c9dbf6a8.png&apos; srcset=&apos;/static/0a19b8264bdc169c7acd1edb123e2aa4/e7570/c9dbf6a8.png 170w,
/static/0a19b8264bdc169c7acd1edb123e2aa4/f46e7/c9dbf6a8.png 340w,
/static/0a19b8264bdc169c7acd1edb123e2aa4/ca1dc/c9dbf6a8.png 680w,
/static/0a19b8264bdc169c7acd1edb123e2aa4/1263b/c9dbf6a8.png 1000w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;pathParameters(parameterWithName(&quot;id&quot;).description(&quot;반려 식물 ID&quot;))&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/c051d52975720559003d3c9c97d664cd/9d874/f0d0524b.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 14.705882352941178%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAYUlEQVR42m3NWw6AIAxEUfa/UR4aNAq0VGAUv/DR5HxNk6s277HOE8LibxR21FofSinIOd/e26i1BjU5B2sNYgwgiiBO4MwPiRLM9aON/mwjOQSq18frlbdeFxEw8+8+OgEfu+sIXieDBAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;f0d0524b&apos; title=&apos;&apos; src=&apos;/static/c051d52975720559003d3c9c97d664cd/ca1dc/f0d0524b.png&apos; srcset=&apos;/static/c051d52975720559003d3c9c97d664cd/e7570/f0d0524b.png 170w,
/static/c051d52975720559003d3c9c97d664cd/f46e7/f0d0524b.png 340w,
/static/c051d52975720559003d3c9c97d664cd/ca1dc/f0d0524b.png 680w,
/static/c051d52975720559003d3c9c97d664cd/9d874/f0d0524b.png 1012w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;pathParameters&lt;/code&gt;를 사용하기 위해&lt;/p&gt;
&lt;p&gt;mockMvc.perform(&lt;code class=&quot;language-text&quot;&gt;get&lt;/code&gt;(&quot;/pet-plants/{id}&quot;, 1L) 에서&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;RestDocumentationRequestBuilders&lt;/code&gt;의 &lt;code class=&quot;language-text&quot;&gt;get()&lt;/code&gt; 메서드를 사용해야한다는 부분을 신경써야한다.&lt;/p&gt;
&lt;p&gt;자세한 내용은 &lt;a href=&quot;https://docs.spring.io/spring-restdocs/docs/current/api/org/springframework/restdocs/mockmvc/RestDocumentationRequestBuilders.html&quot;&gt;공식문서 참고&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/78ac84a758220ae494519c4d6294ad42/9104d/cc09df18.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 61.76470588235294%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAACEklEQVR42m1T2XLaQBDkKSnjgIxAF0InIEASkixhcVpgO8YOTpxUKkel8pC3/P8fdGbXQOHAQ9dM7c729kzvlr7/+YvnSYFffgjHT9D2Qii6S3CgGW2esyjKLZwLEt5dyFtIEJQOBD2A0PRxYUSoNlooBckVbKsLv+vDJjKVkbRcyEQoKgbqqvkCysUjmJDY5a0O6poNodFE6c2ZgIqooZ/kGKYTGG4fVieA2fb3xFLTPomGZkG3PaodUK3DuyhVRRVCXYVOKu2O/xK7AVyPIaQ9DeVqg7dbqSlHYO3v9hhXiSdE2A9TXOYLRNkUyWiGwTBDNllhlOeIY4/atviBU6Q7vCJkarqDGG5viA7FNsVBNEIvSOiyhFq08Pa8hrNKnSvaqS5X5ROElMxXazx/+43N5x94+vITD09fcbv+hDXF4m5DapeI0iksmi2blbydoaIbNJb/CBnS8TVW9x+xuHnkmK8eMFuuMV7cIRsXuKa1aXGPq9kNgq2BjhchHHoQJTZHhXuxV2i2+9RqREUhd5o5x8bQ7kXohZfcKDYGwx3AC1J0+hE9JZPEqKTYQE3Sj03JSGVMpuSzFYrbDyjeb7hS1vKSMCXFGZmU5nPEowU3MR7NEZJiiwQwx/cKmYIWvSn2Q0z2FqnAoTWWG06Pcp8irTkmGrJKZzR+7tD5V6Y06DfsvhVz79DJQ5QF+eRz2eEfOJZLc9kpfSEAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;cc09df18&apos; title=&apos;&apos; src=&apos;/static/78ac84a758220ae494519c4d6294ad42/ca1dc/cc09df18.png&apos; srcset=&apos;/static/78ac84a758220ae494519c4d6294ad42/e7570/cc09df18.png 170w,
/static/78ac84a758220ae494519c4d6294ad42/f46e7/cc09df18.png 340w,
/static/78ac84a758220ae494519c4d6294ad42/ca1dc/cc09df18.png 680w,
/static/78ac84a758220ae494519c4d6294ad42/9104d/cc09df18.png 905w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
고마워요 ! 리뷰어 그레이 ! &lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;문서화를 수행하고자 하는 나머지 테스트들에도 동일한 방법으로 작성해준다. &lt;/p&gt;
&lt;h3&gt;adoc 스니펫 생성하기&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;Snippet : 단편, 부분적, 작은 조각이라는 뜻으로 여기서는 &lt;code class=&quot;language-text&quot;&gt;문서 조각&lt;/code&gt; 정도로 이해하면 된다.&lt;/p&gt;
&lt;p&gt;문서 조각을 모아서 하나의 문서를 만들게 된다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;이렇게 작성한 테스트들을 수행해보자.&lt;/p&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 487px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/8a9101243d077cdc58b7ce695c3ff82c/6a170/35bc712c.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 33.529411764705884%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsTAAALEwEAmpwYAAABRElEQVR42oWR227CMBBE+ZA2jh3nfnESQ9ICCQFFIPUBCZXw/38y3bVanlr1YeXVeud4JlkJKWCiBuvEQocKcZxASolAB5g/Trher7jdbng8Ftff759YlgWXywXb7RbDMLjzfD67+5UvfeRBjqoeEBUFkjgmoIIi6GGzJsGIwzRhmo7Yk3ji/nTCbj+gNjWqqkJZlrDWou97rFgsxSteuiPiuoNWEj7BpO/DqpAEBqZpkZOoIkCaZciLEiXNlVLwPA9CCPi0z6m+gR50P6GwHeIodJF5ySP3pmlQty3a9Qbd27uD/kAUPc5QLtbIwAHJkScQ5hlKY1BS7IIqDEMXO01TcpVDa/0U/1kMjLIUxbTHPM8OwhVF0fNVUzfOZUDLHOtfoKSmsi3GcURG34fd8clQBsT0k3Ka1QRNyC3PXLzfSil8Aaos0tigVlRkAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;35bc712c&apos; title=&apos;&apos; src=&apos;/static/8a9101243d077cdc58b7ce695c3ff82c/6a170/35bc712c.png&apos; srcset=&apos;/static/8a9101243d077cdc58b7ce695c3ff82c/e7570/35bc712c.png 170w,
/static/8a9101243d077cdc58b7ce695c3ff82c/f46e7/35bc712c.png 340w,
/static/8a9101243d077cdc58b7ce695c3ff82c/6a170/35bc712c.png 487w&apos; sizes=&apos;(max-width: 487px) 100vw, 487px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;그러면 &lt;code class=&quot;language-text&quot;&gt;build/generated-snippets/{파라미터에서 설정한경로}&lt;/code&gt;에 adoc 파일이 생성된 것을 확인 할 수 있다.&lt;/p&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 292px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/af673976bc63fe606542fe3f51b22cac/73e11/5dd3f00f.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 162.94117647058826%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAhCAYAAADZPosTAAAACXBIWXMAAAsTAAALEwEAmpwYAAADjElEQVR42qWWWW8jRRSF/UMS975VV29u2x3bsQYSgQQjIDAg8oY0DzASQuKBF3794ZzqtuMZZTzO8HBS5V5OvrvUtWdxEuHV6mus+w36ZY+2bZFlmVurqkJd125tmub4ueu6431Je0nPzIIwQJnXMHmJJIkRJwmCMERK0yxNnflzSnkvPbmf57lbZ0EQIPbm8F8/oHl4gxuTkrhDbw3mngff9y+SNz3rDENuwrpBsehgSJmnCTKuPu8FL5QzTKMQ3jcPSHZfYd+UWNWWdP6LzY6GQeAjLUrEaYGcZKL7HDNnGPLPnPr9/h5///Qj6Qw2bYWQhflsQuXKpBkatkRMuiSK3DX//xgmfoCrYYn8lwfsKoPbvsHtokEsc//FORxVxClsZhhu4Chlpn34UkK9cBUF+MHe4N/t91gvLPZd4yhfLVsUbCPPH6vuX0rosdJlkqJXteORTpQp9xHbKmKRVKhxvYBwzpded2v8tbvHsi2xZ/72/aihsdgtanzBEySVWXokfrZtjpR8yJByIGVEOoWqU+NyqSMquk+FPPeeku7xhX3V4s/NHYbWsh8tbjtOmDzF1fX1ZUVZV6woK2uKAgWVFzmqssBdt8SwWmMYBmy3W/R9D2OMe+acZt9tPaSG86zh3NOs4ym5Gxr88+W3eHzzM357+xZ/vHuHXx8fYTn77DQDD3vNx1PNVLk4jo+KqDCKcc3rlspZ0XQ63ybPUHDmaS2lIkNy8q40ez4XYwV3nOa9ybGsSyw4H3VybprKVX3bamWLsTv8j52UU+khEZbTfEz44mFOHqQuiD4YImcNNyRcMKwte7BjoXZd7SbRmoRrUmvvBvFJT541rKOR0LCRXQ6zxFG5/uRny3bS/vTknDUceOxaJv+GJDXbaTPlr+c0WlYkJPHCFu+FfdawJWFFAktTSTQlqXT0tK+maxcTruIQDQ2UsyWpGlZchCvSKafKYVvm7w3js4YLGlrmqqaR8qeciVThy1x5bLnq+uErY3buXPY0VA7VhzLpq9LlbMyhQcUOEL1oD2GfJVzSsCaZCEUkg5o67NXsqv78kraROhbFMum9JVnJHCpUSkSSfl0obP3CuKgoa7UNK9ra0UBkLVe1zIppMPxnClmFuYiwmRpbJpLNxqJ002cVSnuF/0lDb2rsjhVUrkbTKVwSL+xT2FH49FV7WQ4ZYmsKVxxJraJ/0kyrvsgOhv8B4Y+9ts5zqjcAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;5dd3f00f&apos; title=&apos;&apos; src=&apos;/static/af673976bc63fe606542fe3f51b22cac/73e11/5dd3f00f.png&apos; srcset=&apos;/static/af673976bc63fe606542fe3f51b22cac/e7570/5dd3f00f.png 170w,
/static/af673976bc63fe606542fe3f51b22cac/73e11/5dd3f00f.png 292w&apos; sizes=&apos;(max-width: 292px) 100vw, 292px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;adoc&quot;&gt;&lt;pre class=&quot;language-adoc&quot;&gt;&lt;code class=&quot;language-adoc&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// http-request.adoc 파일&lt;/span&gt;
&lt;span class=&quot;token attributes&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;source&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;http&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;options&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;nowrap&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token literal-block&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;----&lt;/span&gt;
GET /pet-plants/1 HTTP/1.1
Content-Type: application/json;charset=UTF-8
Authorization: pium@gmail.com
Host: localhost:8080

&lt;span class=&quot;token punctuation&quot;&gt;----&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;asciidoc 문서 생성하기&lt;/h3&gt;
&lt;p&gt;위에서 생성한 adoc 스니펫들을 모아 하나의 API 문서를 만든다.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;src &gt; docs &gt; asciidoc&lt;/code&gt; 디렉터리를 생성하고 &lt;code class=&quot;language-text&quot;&gt;.adoc&lt;/code&gt; 파일을 생성한다.&lt;/p&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 270px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/42a4818f1fd7d4a9279ceea76b0dd766/8c112/850cce57.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 84.70588235294117%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAAAsTAAALEwEAmpwYAAABjUlEQVR42qWUS0/DMBCE80MQedh52EmcpIS0BFSBOOfAKfeicun/Pw+7Jq5CCRUth9Hahx1/9qzsiShCnGhSDikFhBAIw/BqeVJGKJst2u0AU2ikaYogCK43DAJaBD5CEcNPC0REzPqXYRJLCG3wOH6g7dao68qS+r5/ueF8I5MECUlMlFLKi2mPhtyosgxN0xBhjZpq13V2z8ZXER5JyVxMZI6Qg/oL7TfDiHRLeooFekW0bWsJnVrar1YrlGVpK9/k9JBfCL8oI5pJl7qbT678BE4LKQdwCkk3pJ5m8yFLUU0UTMSVqdiE05/3zeUlU7JzaRoZRTWO4yMJr3mUMgpuqcfJq6oKTjWpqGq8mhJvL8/Y7fd43+0wjiMOhwOGYbC0855TeUopnMpQIDU1dus1NpuNHZ++720wTLnU47SY8oZS7tIEeWlQGWOp+KpMYGh/bnx+pByQMkpZ0buls/dyb8jri+fwnr6xuySGyguURWGp+DoFrbXWZ7+4RUIj6EujD0PnuTXKp/oXw09TReqSgoWIfQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;850cce57&apos; title=&apos;&apos; src=&apos;/static/42a4818f1fd7d4a9279ceea76b0dd766/8c112/850cce57.png&apos; srcset=&apos;/static/42a4818f1fd7d4a9279ceea76b0dd766/e7570/850cce57.png 170w,
/static/42a4818f1fd7d4a9279ceea76b0dd766/8c112/850cce57.png 270w&apos; sizes=&apos;(max-width: 270px) 100vw, 270px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;API가 여러개인 경우 각각을 파일로 관리한 뒤 하나의 adoc 파일로 include하여 합칠 수도 있다.&lt;/p&gt;
&lt;h4&gt;index.adoc&lt;/h4&gt;
&lt;p&gt;다음과 같이 adoc 파일을 작성할 수 있다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;adoc&quot;&gt;&lt;pre class=&quot;language-adoc&quot;&gt;&lt;code class=&quot;language-adoc&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// index.adoc&lt;/span&gt;
&lt;span class=&quot;token title important&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt; Pium Application API Document&lt;/span&gt;
&lt;span class=&quot;token attribute-entry tag&quot;&gt;:doctype: book&lt;/span&gt;
&lt;span class=&quot;token attribute-entry tag&quot;&gt;:source-highlighter: highlightjs&lt;/span&gt;
&lt;span class=&quot;token attribute-entry tag&quot;&gt;:sectlinks:&lt;/span&gt;
&lt;span class=&quot;token attribute-entry tag&quot;&gt;:toc: left&lt;/span&gt;
&lt;span class=&quot;token attribute-entry tag&quot;&gt;:toclevels: 3&lt;/span&gt;

&lt;span class=&quot;token macro&quot;&gt;&lt;span class=&quot;token function&quot;&gt;include&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;::&lt;/span&gt;dictionaryPlant.adoc&lt;span class=&quot;token attributes&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token macro&quot;&gt;&lt;span class=&quot;token function&quot;&gt;include&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;::&lt;/span&gt;petPlant.adoc&lt;span class=&quot;token attributes&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token macro&quot;&gt;&lt;span class=&quot;token function&quot;&gt;include&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;::&lt;/span&gt;reminder.adoc&lt;span class=&quot;token attributes&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token macro&quot;&gt;&lt;span class=&quot;token function&quot;&gt;include&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;::&lt;/span&gt;history.adoc&lt;span class=&quot;token attributes&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;adoc&quot;&gt;&lt;pre class=&quot;language-adoc&quot;&gt;&lt;code class=&quot;language-adoc&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// petPlants.adoc&lt;/span&gt;
&lt;span class=&quot;token title important&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;==&lt;/span&gt; 반려 식물(PetPlants)&lt;/span&gt;

&lt;span class=&quot;token title important&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;===&lt;/span&gt; 반려 식물 단건 조회&lt;/span&gt;

&lt;span class=&quot;token title important&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;====&lt;/span&gt; Request&lt;/span&gt;

&lt;span class=&quot;token macro&quot;&gt;&lt;span class=&quot;token function&quot;&gt;include&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;::&lt;/span&gt;{snippets}/petPlant/findById/http-request.adoc&lt;span class=&quot;token attributes&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token macro&quot;&gt;&lt;span class=&quot;token function&quot;&gt;include&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;::&lt;/span&gt;{snippets}/petPlant/findById/request-headers.adoc&lt;span class=&quot;token attributes&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token macro&quot;&gt;&lt;span class=&quot;token function&quot;&gt;include&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;::&lt;/span&gt;{snippets}/petPlant/findById/path-parameters.adoc&lt;span class=&quot;token attributes&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;

&lt;span class=&quot;token title important&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;====&lt;/span&gt; Response&lt;/span&gt;

&lt;span class=&quot;token macro&quot;&gt;&lt;span class=&quot;token function&quot;&gt;include&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;::&lt;/span&gt;{snippets}/petPlant/findById/http-response.adoc&lt;span class=&quot;token attributes&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
...&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;adoc 파일의 자세한 문법은 &lt;a href=&quot;https://docs.asciidoctor.org/asciidoc/latest/syntax-quick-reference/&quot;&gt;asciidoctor 공식문서 참고&lt;/a&gt;&lt;/p&gt;
&lt;h3&gt;HTML 문서 생성하기&lt;/h3&gt;
&lt;p&gt;이제 웹 페이지가 읽을 수 있도록 HTML 문서를 생성해보자.&lt;/p&gt;
&lt;p&gt;HTML 문서는 &lt;code class=&quot;language-text&quot;&gt;src &gt; docs &gt; asciidoc&lt;/code&gt;에 생성된다.&lt;/p&gt;
&lt;p&gt;다음 명령어를 수행해보자.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;./gradlew asciidoctor&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/03d98aab1aeef4f4e04c6c7ed575d35f/ca1dc/3b9772e1.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 30%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsTAAALEwEAmpwYAAABB0lEQVR42lWRa3KDMAyEfZKCoYS3HcDGEAg0THL/I20lpXTaH9/I1sirlazSokJU1ESDj7yAziMkeYw006ibRkiSFFrrHxLEcYwoigRN5/gPal4C3NjDXlt47xGmCbazlBvh6cyCtjPoXI9wu8EFB2MNYYWiLAWu46gGEnGjF4GB6IYePoxyF9EQSLBDY1q5985JI37HtMYIXFO3LdT+OLDuO/bjwHK/w9Ojx+uF27pi2TZ8PZ+YlwVXesBx3XapZ0dlVQlpmtJaEkGdXZ24G2SMiUZ7Ox8R5vnthPLiLgTJN+SmYlEak4V4l7xjZboaja1xueT4zDLpdi785Fx4dEb+jN9P+s832QK3AJilul8AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;3b9772e1&apos; title=&apos;&apos; src=&apos;/static/03d98aab1aeef4f4e04c6c7ed575d35f/ca1dc/3b9772e1.png&apos; srcset=&apos;/static/03d98aab1aeef4f4e04c6c7ed575d35f/e7570/3b9772e1.png 170w,
/static/03d98aab1aeef4f4e04c6c7ed575d35f/f46e7/3b9772e1.png 340w,
/static/03d98aab1aeef4f4e04c6c7ed575d35f/ca1dc/3b9772e1.png 680w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;그러면 &lt;code class=&quot;language-text&quot;&gt;build &gt; docs &gt; asciidoc&lt;/code&gt; 경로에 문서가 생성된다.&lt;/p&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 271px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/b3243adbf8ff9a7a8cbfb86fc9e7fd03/63d17/5daac1d0.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 94.70588235294117%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAYAAACQjC21AAAACXBIWXMAAAsTAAALEwEAmpwYAAACKklEQVR42p2US28aMRSF+SEBxvOw52GPDQwBEh6pmkqVoop0USJVyqpdVIpI/0AX3fZXnx4bQtMKVGBxGQ+2jz/fe+604jhGmiRoqgqlUlBZGkIIcVa0Eop5waf7j/h0+xbXTmPsDLpRdJ6g/4kYHQpcFDkimSHhe5J48vg8QcFr50mKzt0teh/e48ZWmA97WDQOPiWnCzJiT5obJKpARrKEQqeKBcGIV/VXzkQH4v4JNw9fMTcS417NQ2KE+ROiJaWEYnWlVCiZQ2sMq52H/wq+F0URxsdGS2sN5yzq2qEZFPgyX+Dn3QoPj494Xq+xZiyXS/h11tr/xo4wUHoq0vV0hcloAENabTTKskSaZWHer8sy7uG+7NXeHeHr+wtvnXYXTis8f15g1q8xZS4n9OXUj/sWb1h979Ox1ZgNLCol0el2/+Tw3ypF0caDNUWzNGHFN8b33fPXmHMyTYMb9tpmJ9gVkAVbcaEw6RtSOIxIc1lrzDkemCp0UbQ9/KAPd8HFMU9XPY2UBL5b5I4uDmRHGfulY0T7AvFwhOTHLzR9hzlzd2l9zgyut948XnBLKFhFMZkGwoK97XMm003uXgpwlKBvv3Ynom0kvq+uSFbhilS+mg1z19dlqHTJQw59jfZW2edp3Gjogt1DW1S5DKS5TINNfGWj0wgVvq1maOqSlBrDugqVHpgyPA0P2lfhvYT+Kp7k3dSFja4qYEt2D586V2Gcs2sOEf4GgsUpNWTQ/EoAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;5daac1d0&apos; title=&apos;&apos; src=&apos;/static/b3243adbf8ff9a7a8cbfb86fc9e7fd03/63d17/5daac1d0.png&apos; srcset=&apos;/static/b3243adbf8ff9a7a8cbfb86fc9e7fd03/e7570/5daac1d0.png 170w,
/static/b3243adbf8ff9a7a8cbfb86fc9e7fd03/63d17/5daac1d0.png 271w&apos; sizes=&apos;(max-width: 271px) 100vw, 271px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h3&gt;애플리케이션에서 확인해보기&lt;/h3&gt;
&lt;p&gt;&lt;a href=&quot;http://localhost:8080/docs/index.html&quot;&gt;http://localhost:8080/docs/index.html&lt;/a&gt; 으로 접속해서 문서를 확인해보자.&lt;/p&gt;
&lt;p&gt;우선 gradle build를 수행한다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;./gradlew build&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/ecddf350bb6d029dc3e16f20abe4b393/fe4f1/adb0a6ab.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 37.64705882352941%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsTAAALEwEAmpwYAAABDklEQVR42oWQ6ZKDIBCEfRRFUQ7FC0FdK3n/p+rMkMRKUrvZH13DcHzTdCaUAUsaiVLm6EcH01oURYGyKkkVhBC/qizv509VUiJbokeIAXHb4JcF67Zj9gvGaSKNCGvENM+p5zp5D20tDMm2LbTW0MZAKYW6rpFtPwf24yBoxHG9Yt13HJdL2uuHAXFdUz/TsGEc4fo+PVYPEDvN8/wUOYzJGTsI9JjXqYaAzjly68n1ltYNgSS5eAVwNK/K+CJP4i/w1Odk7hnQNM15mTNjR5+QNyBnMnJGD3E/zR5t16EmmKSgKwr8G+QNaLUCq7OGZOGoupYc6vv3GMou/3N2Aoe+hSIXUhQfEl+z+gt4A3WH67kVAxZIAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;adb0a6ab&apos; title=&apos;&apos; src=&apos;/static/ecddf350bb6d029dc3e16f20abe4b393/ca1dc/adb0a6ab.png&apos; srcset=&apos;/static/ecddf350bb6d029dc3e16f20abe4b393/e7570/adb0a6ab.png 170w,
/static/ecddf350bb6d029dc3e16f20abe4b393/f46e7/adb0a6ab.png 340w,
/static/ecddf350bb6d029dc3e16f20abe4b393/ca1dc/adb0a6ab.png 680w,
/static/ecddf350bb6d029dc3e16f20abe4b393/02d09/adb0a6ab.png 1020w,
/static/ecddf350bb6d029dc3e16f20abe4b393/9d567/adb0a6ab.png 1360w,
/static/ecddf350bb6d029dc3e16f20abe4b393/fe4f1/adb0a6ab.png 1830w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;이전에 Gradle에서 작성했던 스크립트 내용 중 copyDocument Task가 build가 일어난 뒤 수행되기 때문이다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;gradle&quot;&gt;&lt;pre class=&quot;language-gradle&quot;&gt;&lt;code class=&quot;language-gradle&quot;&gt;task &lt;span class=&quot;token function&quot;&gt;copyDocument&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;type&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Copy&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 생성된 html 파일을 옮긴다&lt;/span&gt;
    dependsOn asciidoctor &lt;span class=&quot;token comment&quot;&gt;// Gradle의 asciidoctor Task 이후 수행&lt;/span&gt;
    from &lt;span class=&quot;token function&quot;&gt;file&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token interpolation-string&quot;&gt;&lt;span class=&quot;token string&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;token expression&quot;&gt;asciidoctor&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;outputDir&lt;/span&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    into &lt;span class=&quot;token function&quot;&gt;file&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token interpolation-string&quot;&gt;&lt;span class=&quot;token string&quot;&gt;&quot;src/main/resources/static/docs&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

build &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    dependsOn copyDocument &lt;span class=&quot;token comment&quot;&gt;// build 이후 html 파일 복사&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;그러면 &lt;code class=&quot;language-text&quot;&gt;src &gt; main &gt; resources &gt; static &gt; docs&lt;/code&gt; 경로에 HTML 문서가 생성된다.&lt;/p&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 268px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/a65ffe8f709f1f4d3b5487ce8c38c98e/baf7c/6b2555b4.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 139.41176470588235%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAcCAYAAABh2p9gAAAACXBIWXMAAAsTAAALEwEAmpwYAAACtElEQVR42qWU2W7TQBSG8xaUlnjsWb1v2dMmbUMLUkFIoCIkUJFQJcQNIHgALrjkpX/OjJPQqqFK3Itjz4zt399ZO77vIwgC+IyBka32ba0jBUNv/BKnr34iy2KEYfQg0U4Q+JAqQpT2wJnnDh9C2vHporgPL8yQXv/GcDxBWRSIonakHXvhnIMFAqaawpDLQnB31tLlAIIsqkrMvnxCVVXo1TXFM3OEuwo3hFbUGAxfXIDHBmEcwWgNz/Oc6C4x7aw39MHBoz18Lc+xyAbQJJqlKVIyS6uU2kq0c3PDyN7kQ8zLHsIkQRIna0Ep5W6CNlZaKzzLXqOfjqGNghTSudvKZSvIOREO3+Jsek5xDKGV3rkmb7kspMBEzZGbCkIJItbUOSEMJWzbbN8iFELgXXGN82pB8ZPI84IsR0GFbp/tTGhd6/p7eEyJ6RYTqk/rKndut3LZtmFMXeKdXiK4+IiahoU2ofuR30awKXL6OMwhoxRGchgloSi2hspGcrGjIMXRcAb+/ApHV98xSTTm/QrjMqN7iWGerkOz8mhl/yV0L3pdpJHEpJ80bbksKftMUnIssT2za2viRgXcdZk+POgyHJLYtw8nOKoLnAwqzHoF5r0Sp7RejGpMqhxTsmPyII8M2JJ6I2HgB26E6VDcqr9mrC3Xy/PV/l6XGQuolwVGc02ElqJ0NDaWlrafJdtneTV5uNFQNCOFK/h/8ZK0Fvd0zV1B+/L+PoLjM8hffxzVYtBk+pBordkftCA0UMORm+ZaNWRySWoT4PvbFvY6yzF+vJ9jVGQuhtZGRepIZ5TthELCNkyhzXVILxotMahiRHbiULdENCs13TV1jO0eSaHxtyV8QoTjOsbnyxkKmou2Q5wRYZFEjnInQsZ8pLHG08MCaWhQk0hFVqdxs08jR71p8P4Ftp8igi2jbWAAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;6b2555b4&apos; title=&apos;&apos; src=&apos;/static/a65ffe8f709f1f4d3b5487ce8c38c98e/baf7c/6b2555b4.png&apos; srcset=&apos;/static/a65ffe8f709f1f4d3b5487ce8c38c98e/e7570/6b2555b4.png 170w,
/static/a65ffe8f709f1f4d3b5487ce8c38c98e/baf7c/6b2555b4.png 268w&apos; sizes=&apos;(max-width: 268px) 100vw, 268px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;로컬에서 구동되는 애플리케이션은 해당 경로를 참조하기 때문에 파일을 복사해줬다.&lt;/p&gt;
&lt;p&gt;이제 어플리케이션을 구동하고 &lt;a href=&quot;http://localhost:8080/docs/index.html&quot;&gt;http://localhost:8080/docs/index.html&lt;/a&gt; 로 접속하면 다음과 같이 문서를 확인할 수 있다.&lt;/p&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/ed778918ebc48e6596513bba052388d6/c6957/ad2fa30b.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 57.64705882352942%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAAB+ElEQVR42nWSz2rbQBDG9SAhoq1xU3KoCyGHHvsq8SXQ4ofxyRSEsQl2RF4gdpsSu7Eh/XM1lcG30hq3sbRaSbva1U53VlJdJ+7Aj9XufvMxmlmrVqudHx+/dJ6/OGrb9pP23p5t2N9/tJPyHrHtSrtSedquVp85B4eH7uNq9ZU1nUxhNBqLyWQC4/FHuL4eGYbD93A5GBoGw3cwwO/LAVxdfUC90dzcTOH29hN8+fxVfPM8cC8uGpYEAJkBx2ULpaRKU6lEKkEKs3+g2YD5sFgs3lg+FUBCKpIkBiklZFmWk3LIWAJKiBx9pnSSUmqLQi/QcDabNSySZBDFseCc6QRMySNcBxD+9oGSEGgUQZIkILTxfdBUhzH0PK9hRVxtDNXG0NeGv5ZLCEkAjDFDoitmWsd19SU7DePCsAwUsTjSLRCQqbwFMpNAKTWGeIZ7ZKeh/p0tQwxKKBAN5xxEKsxcsMf3eWAYmwojwXAA/zT7bh3CarWGgBBsielhrME10fu4OMPqS0MzlDvC8SJOU86L8Rv8wOf+zyVP14QzGnEW0hxSriHnCSv1MRrO5/PXFph3KIVSWdG/YihBAKvvPyDzQ/1kVP5sDNvPpohNhWdnndNOp3PS7Xbr/X7/L47j1JvNZr391qnj3f9Aba/XO3Fd97TVah38AbX/PTjIaWwwAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;ad2fa30b&apos; title=&apos;&apos; src=&apos;/static/ed778918ebc48e6596513bba052388d6/ca1dc/ad2fa30b.png&apos; srcset=&apos;/static/ed778918ebc48e6596513bba052388d6/e7570/ad2fa30b.png 170w,
/static/ed778918ebc48e6596513bba052388d6/f46e7/ad2fa30b.png 340w,
/static/ed778918ebc48e6596513bba052388d6/ca1dc/ad2fa30b.png 680w,
/static/ed778918ebc48e6596513bba052388d6/02d09/ad2fa30b.png 1020w,
/static/ed778918ebc48e6596513bba052388d6/9d567/ad2fa30b.png 1360w,
/static/ed778918ebc48e6596513bba052388d6/c6957/ad2fa30b.png 2032w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h2&gt;Reference&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://spring.io/projects/spring-restdocs&quot;&gt;https://spring.io/projects/spring-restdocs&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://hudi.blog/spring-rest-docs/&quot;&gt;https://hudi.blog/spring-rest-docs/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://techblog.woowahan.com/2597/&quot;&gt;https://techblog.woowahan.com/2597/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://dallog.github.io/apply-rest-docs/&quot;&gt;https://dallog.github.io/apply-rest-docs/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[내가 이해한 OAuth2.0]]></title><description><![CDATA[이 글은 우테코 피움팀 크루 '클린'가 작성했습니다. OAuth…]]></description><link>https://pium-official.github.io/OAuth2.0/</link><guid isPermaLink="false">https://pium-official.github.io/OAuth2.0/</guid><pubDate>Thu, 10 Aug 2023 00:00:00 GMT</pubDate><content:encoded>&lt;blockquote&gt;
&lt;p&gt;이 글은 우테코 피움팀 크루 &apos;&lt;a href=&quot;https://github.com/hozzijeong&quot;&gt;클린&lt;/a&gt;&apos;가 작성했습니다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;OAuth란?&lt;/h2&gt;
&lt;p&gt;현재 개발하고 있는 서비스에서 구글 캘린더에 접근을 한다고 가정을 해봅시다. 현재 접근하는 사용자의 구글 캘린더 정보를 얻고자 한다면 구글 계정으로 로그인을 해야합니다. 진짜 간단한 방법이 있습니다. 사용자로부터 구글 id와 password를 받고 저희가 대신 로그인 해서 해당 사용자의 계정 정보를 받아오는 것입니다.&lt;/p&gt;
&lt;p&gt;하지만 이 방법은 매우 위험합니다. 계정 정보가 탈취당할 수도 있고, 애초에 &lt;strong&gt;대리 로그인&lt;/strong&gt;이라니 신개념 보이스피싱으로 오해받을 수도 있습니다.&lt;/p&gt;
&lt;p&gt;제일 괜찮은 방법은 구글 자체에서 로그인 서비스를 대체할 수 있는 방식을 만들어서 제공을 하는 것입니다. 실제로  과거에 AuthSub라는 자체 개발한 방법을 통해 구현을 했지만 이 정형화 되지 않은 방법은 다양한 문제를 야기할 수 있었습니다. 흔히 카카오 로그인, 구글 로그인, 깃헙 로그인 등등 여러가지의 방식이 존재하는데 형식이 통일되어 있지 않다면 이 모든 것들을 각각 구현해서 사용을 해야하는 문제점이 있습니다. &lt;/p&gt;
&lt;p&gt;이러한 문제점을 해결하기 위해 나타난 개념이 OAuth입니다. 초기 버전인 1.0은 범위문제, 불확실한 역할, 보안 문제등으로 인해서 많이 사용 되지 않고 OAuth 2.0이 통상적으로 많이 사용 되고 있습니다. &lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;💡 &lt;strong&gt;인증과 인가&lt;/strong&gt;: 인증은 요청자의 신원을 확인하는 것이고, 인가는 신원이 확인된 어느 사람이 권한이 있는지를 확인하는 것입니다. 개인적으로 생각했을때 인증은 사람의 직업 검증하는 것이고 인가는 그 사람의 직책을 통해 권한을 접근한다고 생각합니다. (직책에 따른 정보 접근 권한이 다르기 때문)&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;OAuth 2.0&lt;/h2&gt;
&lt;p&gt;OAuth2.0을 이해하기 위해서는 크게 4가지 용어를 알고 있으면 됩니다. 바로 Resource Owner, Client, Resource Server, Authorization Server입니다. 각각의 역할과 설명은 다음과 같습니다.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://github.com/pium-official/pium-official.github.io/assets/50974359/c65c8e80-b04a-4b51-b66a-dbdd6d43b543&quot; alt=&quot;image&quot;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;Resource Owner&lt;/code&gt;&lt;strong&gt;:&lt;/strong&gt; 리소스(정보)의 주인. 즉,서비스를 이용하고자 하는 사용자를 의미합니다.&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;Client&lt;/code&gt;: 리소스(정보)를 가공 혹은 Resource Owner에게 제공하는 주체. OAuth 2.0을 개발하는 어플리케이션(서비스)을 의미한다.&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;Resource Server&lt;/code&gt;: 리소스(정보)를 갖고 있는 주체. 흔히 카카오, 구글, Github등 사용자 정보를 제공하는 주체를 의미한다.&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;Authorization Server&lt;/code&gt;: Resource Owner를 인증하고, Client에 인가를 할당하는 역할이다.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;OAuth를 가장 많이 도입한 기능 중 하나는 소셜 로그인입니다. 하나의 예시를 들어보겠습니다. 사용자가 Todo앱에 접근하려고 합니다. 사용자의 Todo인지를 확인하기 위해서는 로그인 기능이 필요합니다. 그런데 사용자는 회원가입을 하기 귀찮습니다. 이 과정에서 사용자의 기본 정보 (이메일, 닉네임, 프로필 사진 등)를 갖고 있는 소셜 네트워크가 있다고 생각해 봅시다. Client는 이 소셜 네트워크를 통해서 사용자에게 간단한 회원가입/로그인 기능을 제공할 수 있습니다. 이제 본인이 Todo앱에 회원가입을 하고, 나의 Todo를 카카오 스토리에 공유한다고 상상하고 OAuth의 동작과정에 대해 한번 알아보겠습니다.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;💡 OAuth에는 크게 4가지 grant(승인 방식)가 있는데, 이번에 다루는 승인 방식은 기본적으로 사용되고 있는 &lt;strong&gt;Authorization Code Grant(권한 부여 승인 코드 방식)&lt;/strong&gt; 을 통해 기준으로 설명하겠습니다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&quot;https://github.com/pium-official/pium-official.github.io/assets/50974359/e4f90a4b-6783-4d32-974a-2fdc2c5d3ae3&quot; alt=&quot;image&quot;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;첫 번째는 로그인 요청입니다. 흔히 우리가 알고있는 “카카오로 로그인하기”를 클릭 했을 때 나오는 설정되는 방식입니다. 이때 Authorization Server에 4가지 파라미터를 동봉해서 보냅니다.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;client_id(required): Server에서 발급받은 인증 id입니다.&lt;/li&gt;
&lt;li&gt;redirect&lt;em&gt;uri(optional): Server에 등록할 때 함께 입력한 redirect&lt;/em&gt;uri입니다.&lt;/li&gt;
&lt;li&gt;response_type(required): 반드시&lt;code class=&quot;language-text&quot;&gt;code&lt;/code&gt;로 설정해야 합니다.&lt;/li&gt;
&lt;li&gt;scope(optional): 제공하는 정보 범위를 설정합니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Authorization Server에서 Resource Owner에게 아이디와 비밀번호를 요구합니다. 사용자 인증이 된다면, 미리 입력받은 redierct_uri로 이동합니다.&lt;/li&gt;
&lt;li&gt;해당 uri로 리다이렉트 되면서 함께 동봉되어 온 Authorization Code를 받고 이 코드를 Access Token으로 교환합니다.&lt;/li&gt;
&lt;li&gt;교환한 Access Token을 통해서 Resource Server에서 원하는 데이터를 얻을 수 있습니다. (Todo일정을 카카오 스토리에 공유할 수 있습니다!!)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;위와 같은 과정을 통해서 OAuth를 통해서 제 3의 서비스에서 사용자의 정보에 인가를 받아서 가공하거나 직접적으로 제공할 수 있습니다.&lt;/p&gt;
&lt;p&gt;사용자로부터 로그인 정보를 받아서 로그인을 하고 사용자의 권한을 부여받은 Access Token을 통해서 Reource Server로부터 데이터를 얻는 것입니다.&lt;/p&gt;
&lt;hr&gt;
&lt;h3&gt;OAuth공부를 하면서 들었던 의문점&lt;/h3&gt;
&lt;p&gt;Access Token을 통해서 Resource에 있는 데이터를 얻는 것은 알겠는데, 그래서 이게 로그인이랑 어떤 관련이 있는가? 그리고, Client DB에 있는 데이터나 API랑도 관련이 있나?&lt;/p&gt;
&lt;p&gt;Authorization Server를 통해서 넘겨받은 Access Token을 활용하면 소셜 로그인을 구현할 수 있었고, 해당 토큰을 통해서 모든 정보에 접근이 가능하겠구나 생각을 했었습니다. 하지만, 이 Access Token은 Resource Server에 있는 데이터를 얻는데 필요한 Access Token이고 &lt;strong&gt;Client 내부에서 접근하는 DB와 API랑은 관련이 없다는 것입니다.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Client에서는 넘겨받은 Access Token을 통해서 개별적으로 구축한 member DB에서 해당 유저를 식별하고, 그에 맞는 로그인 기능을 구현해야 합니다.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://github.com/pium-official/pium-official.github.io/assets/50974359/e6c1a44b-6e6e-4034-bca6-cfe9e2c5d8c0&quot; alt=&quot;image&quot;&gt;&lt;/p&gt;
&lt;p&gt;로그인 기능을 개별적으로 구현해야 한다는 얘기를 듣고, Client의 역할을 어떻게 분리가 되는지에 대해 의문이 들었습니다. 여기서 Client는 사용자가 이용하는 앱 서비스인데, 사용자와 직접적인 인터렉션을 하는 Client(FE)와 데이터를 제공하는 Sever(BE)로 분리가 됩니다. &lt;/p&gt;
&lt;p&gt;그렇다면 OAuth를 이용한 서비스를 구현할 때 Client안에서는 어떤 일이 일어날까요?&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;사용자 로그인 페이지 제공 (FE)&lt;/li&gt;
&lt;li&gt;redirect_uri로 이동시키고, 넘겨받은 Autorization Code를 BE로 넘겨줌 (FE)&lt;/li&gt;
&lt;li&gt;FE로부터 넘겨받은 Autorization Code를 Authorization Server에 전달하고, Access Token과 Refresh Token을 받음(BE)&lt;/li&gt;
&lt;li&gt;넘겨 받은 Access Token을 통해 Resource Owner 정보 조회(BE)&lt;/li&gt;
&lt;li&gt;DB Table에 해당 유저 확인 후 Client Session이나 Client Token 전달(BE)&lt;/li&gt;
&lt;li&gt;전달 받은 Session이나 Token을 통해서 유저 로그인 유지 (FE)&lt;/li&gt;
&lt;li&gt;사용자가 Client의 서비스를 이용하고자 할 때 Client Session을 통해 인증을 함 (FE)&lt;/li&gt;
&lt;li&gt;Client에서 제공하고자 하는 데이터가 Resource Server에서 얻어야 하는 데이터라면, 저장해 놓았던 Access Token을 통해 Resource Server로 부터 데이터를 받아옴. 그리고 Client에서 제공하는 API와 잘 조합해서 데이터 제공(BE)&lt;/li&gt;
&lt;li&gt;사용자가 확인 가능하게 UI제공 (FE)&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img src=&quot;https://github.com/pium-official/pium-official.github.io/assets/50974359/a668a660-8b62-4fbd-8caf-e3998c570a1c&quot; alt=&quot;image&quot;&gt;&lt;/p&gt;
&lt;p&gt;Client에서의 역할을 나눠보면 다음과 같습니다.&lt;/p&gt;
&lt;h3&gt;FE&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;로그인 페이지 제공&lt;/li&gt;
&lt;li&gt;redirect_uri를 통해 Authorization Code 전달&lt;/li&gt;
&lt;li&gt;Resource Server에 맞는 UI 제공&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;BE&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;전달받은 Authorization Code를 통해 Access Token 교환&lt;/li&gt;
&lt;li&gt;Access Token을 통해 Resource Server에 있는 데이터 요청 및 가공&lt;/li&gt;
&lt;li&gt;Access Token만료 시 Refresh Token으로 Access Token 갱신&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3&gt;참조&lt;/h3&gt;
&lt;p&gt;&lt;a href=&quot;https://blog.naver.com/mds_datasecurity/222182943542&quot;&gt;OAuth의 인증 종류&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://hudi.blog/oauth-2.0/&quot;&gt;OAuth의 개념과 동작 원리&lt;/a&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[stylelint와 husky를 통해 컨벤션 통일하기]]></title><description><![CDATA[이 글은 우테코 피움팀 크루 '클린'가 작성했습니다. style-lint, husky…]]></description><link>https://pium-official.github.io/stylelint-and-husky/</link><guid isPermaLink="false">https://pium-official.github.io/stylelint-and-husky/</guid><pubDate>Mon, 07 Aug 2023 00:00:00 GMT</pubDate><content:encoded>&lt;blockquote&gt;
&lt;p&gt;이 글은 우테코 피움팀 크루 &apos;&lt;a href=&quot;https://github.com/hozzijeong&quot;&gt;클린&lt;/a&gt;&apos;가 작성했습니다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1&gt;style-lint, husky를 통한 컨벤션 자동화 하기&lt;/h1&gt;
&lt;p&gt;프로젝트는 혼자 할 수 도 있지만 팀원들과 함께 진행하는 경우도 있습니다. 피움의 경우에 팀원들과 함께 진행하고 있습니다. 개인적으로 생각했을 때 코드를 작성한다는 것은 그 자체로 하나의 문서를 만드는 것이라고 생각합니다. 그리고 그 문서의 양식을 통일하는 것이 가독성이나 유지 보수를 수월하게 한다고 생각합니다. 그렇기에 각각의 팀바다 코드 컨벤션이 존재하고, 그 컨벤션을 강제하도록 하는 플러그인 (&lt;code class=&quot;language-text&quot;&gt;eslint&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;prettier&lt;/code&gt;)이 존재합니다. &lt;/p&gt;
&lt;p&gt;이번에 소개할 기능은 css컨벤션을 맞출 수 있게 도와주는 style-lint와 git 메세지 양식을 지정해주는 husky에 대해 소개해 보려 합니다. &lt;/p&gt;
&lt;h3&gt;Stylelint&lt;/h3&gt;
&lt;p&gt;&lt;a href=&quot;https://stylelint.io/&quot;&gt;링크&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;A mighty CSS linter that helps you avoid errors and enforce conventions.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;stylelint의 소개글 입니다. 간단하게 말해서 css 에러를 피하고 컨벤션을 강요하도록 하는 기능입니다. 설치는 다음과 같습니다. 저희는 styled-component를 사용하기 때문에 해당 요건에 맞는 라이브러리를 설치하겠습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;npm&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; --save-dev stylelint stylelint-config-styled-components&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;라이브러리 설치가 끝나면 &lt;code class=&quot;language-text&quot;&gt;.stylelintic&lt;/code&gt;이라는 파일에서 원하는 css규칙을 결정할 수 있습니다. &lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;extends&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;stylelint-config-clean-order&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;stylelint-config-styled-components&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;plugins&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;stylelint-order&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;customSyntax&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;postcss-styled-syntax&quot;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;피움에서는 &lt;code class=&quot;language-text&quot;&gt;stlyelint-order&lt;/code&gt;라는 플러그인을 설치한 뒤에 해당 규칙에 따라 css 컨벤션을 정했습니다. 실행시키는 방법은 다음과 같습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token property&quot;&gt;&quot;scripts&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token property&quot;&gt;&quot;stylelint&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;stylelint --ignore-path .gitignore &apos;**/*.(ts|tsx)&apos;&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;위와같이 설정하고 명령어를 입력하게 된다면 css파일을 돌면서 규칙에 맞지 않는 파일을 찾아줍니다. &lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;npm&lt;/span&gt; run stylelint&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;img src=&quot;https://github.com/pium-official/pium-official.github.io/assets/50974359/ddb7ccf7-48ac-498f-a01b-199966021c93&quot; alt=&quot;image&quot;&gt;&lt;/p&gt;
&lt;p&gt;하지만 우린 좀 더 편한걸 원합니다. 매번 실행시키고 경고창들을 변경하기 보다 실행시킬때마다 자동으로 수정시켜주는걸 원합니다. 만약 그것을 원한다면 명령어에 &lt;code class=&quot;language-text&quot;&gt;—fix&lt;/code&gt;만을 추가해주면 됩니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token property&quot;&gt;&quot;scripts&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token property&quot;&gt;&quot;stylelint&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;stylelint --ignore-path .gitignore &apos;**/*.(ts|tsx)&apos; --fix&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/pium-official/pium-official.github.io/assets/50974359/0f9aa05c-a861-4601-a959-58754752294d&quot;&gt;https://github.com/pium-official/pium-official.github.io/assets/50974359/0f9aa05c-a861-4601-a959-58754752294d&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;여기에 더 가서 파일을 저장할 때마다 실행시킬수도 있습니다.&lt;/p&gt;
&lt;p&gt;vsc의 &lt;code class=&quot;language-text&quot;&gt;setting.json&lt;/code&gt;에 들어가서 stylelint에 대한 설정을 해주면 됩니다. (vsCode extension을 먼저 설치해야 합니다)&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;//...&lt;/span&gt;
	&lt;span class=&quot;token property&quot;&gt;&quot;editor.codeActionsOnSave&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;token property&quot;&gt;&quot;source.fixAll.stylelint&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
		&lt;span class=&quot;token property&quot;&gt;&quot;source.fixAll.eslint&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
		&lt;span class=&quot;token property&quot;&gt;&quot;source.fixAll.prettier&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
	&lt;span class=&quot;token property&quot;&gt;&quot;stylelint.validate&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
		&lt;span class=&quot;token string&quot;&gt;&quot;typescript&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
		&lt;span class=&quot;token string&quot;&gt;&quot;typescriptreact&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
		&lt;span class=&quot;token string&quot;&gt;&quot;css&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
		&lt;span class=&quot;token string&quot;&gt;&quot;less&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
		&lt;span class=&quot;token string&quot;&gt;&quot;postcss&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
		&lt;span class=&quot;token string&quot;&gt;&quot;scss&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
		&lt;span class=&quot;token string&quot;&gt;&quot;html&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
		&lt;span class=&quot;token string&quot;&gt;&quot;javascript&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
		&lt;span class=&quot;token string&quot;&gt;&quot;vue-html&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
		&lt;span class=&quot;token string&quot;&gt;&quot;vue-postcss&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
		&lt;span class=&quot;token string&quot;&gt;&quot;sass&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
		&lt;span class=&quot;token string&quot;&gt;&quot;markdown&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
		&lt;span class=&quot;token string&quot;&gt;&quot;vue&quot;&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;//...&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;codeActionOnSave는 저장할때마다 stylelint에 있는 모든 것을 fix한다는 것이고 아래에 있는 stylelint.validate는 해당 옵션을 적용시킬 확장자를 의미합니다. 위와 같이 설정하고 저장한다면 저장을 할 때마다 자동으로 컨벤션 적용이 되는 것을 볼 수 있습니다.&lt;/p&gt;
&lt;h3&gt;Husky&lt;/h3&gt;
&lt;p&gt;&lt;a href=&quot;https://typicode.github.io/husky/&quot;&gt;링크&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Husky improves your commits and more 🐶 &lt;em&gt;woof!&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;You can use it to &lt;strong&gt;lint your commit messages&lt;/strong&gt;, &lt;strong&gt;run tests&lt;/strong&gt;, &lt;strong&gt;lint code&lt;/strong&gt;, etc... when you commit or push. Husky supports &lt;strong&gt;&lt;a href=&quot;https://git-scm.com/docs/githooks&quot;&gt;all Git hooks&lt;/a&gt;&lt;/strong&gt;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;이번에는 &lt;code class=&quot;language-text&quot;&gt;git&lt;/code&gt;에 대한 컨벤션을 맞추기 위해 &lt;code class=&quot;language-text&quot;&gt;husky&lt;/code&gt;라는 라이브러리를 통해 &lt;code class=&quot;language-text&quot;&gt;git hook&lt;/code&gt;을 실행하보려 합니다. &lt;code class=&quot;language-text&quot;&gt;git&lt;/code&gt;에는 &lt;code class=&quot;language-text&quot;&gt;commit&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;push&lt;/code&gt; 등의 명령어가 있지만, 각각의 명령어가 실행되기 전에 전반적으로 실행시키고 싶은 명령어가 있거나, 컨벤션을 맞추거나, &lt;code class=&quot;language-text&quot;&gt;commit&lt;/code&gt; 메세지 형식을 강제할 수 있습니다. 이러한 일련의 과정이 필요한 이유는 팀 컨벤션에 맞춰진 &lt;strong&gt;신뢰성 있는 코드&lt;/strong&gt;를 원격 저장소에 저장하기 위해서 입니다. 예시로 앞서 얘기한 &lt;code class=&quot;language-text&quot;&gt;stylelint&lt;/code&gt;가 적용이 되지 않은 코드가 원격 저장소에 올라가게 된다면, 컨벤션이 맞춰지지 않은것이고 공통된 문서로써의 역할을 잃을 수 있습니다. 이에 각각의 명령어기 실행되기 전에 단계를 &lt;code class=&quot;language-text&quot;&gt;pre&lt;/code&gt;라는 접두사를 붙여서 &lt;code class=&quot;language-text&quot;&gt;pre-commit&lt;/code&gt; 또는 &lt;code class=&quot;language-text&quot;&gt;pre-push&lt;/code&gt;단계라고 하는데, 이 각각의 단계에서 &lt;code class=&quot;language-text&quot;&gt;test&lt;/code&gt;를 실행하거나 build&lt;code class=&quot;language-text&quot;&gt;를&lt;/code&gt; 실행할 수도 있습니다.&lt;/p&gt;
&lt;p&gt;다음 명령어를 통해 설치할 수 있습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;npm&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; husky --save-dev
npx husky &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; // 이 명령어를 통해서 &lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; hook을 사용할 수 있도록 함.&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;hooks&lt;/code&gt;를 만들기 위해서는 다음과 같이 입력하면 됩니다. &lt;code class=&quot;language-text&quot;&gt;husky add &amp;lt;file&gt; [cmd]&lt;/code&gt; → 이와 같은 형식으로 &lt;code class=&quot;language-text&quot;&gt;husky&lt;/code&gt; 폴더를 생성할 수 있습니다. (단, 해당 명령어를 입력하기 전에 &lt;code class=&quot;language-text&quot;&gt;husky install&lt;/code&gt;을 꼭 해야합니다!)&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;npx husky &lt;span class=&quot;token function&quot;&gt;add&lt;/span&gt; .husky/pre-commit &lt;span class=&quot;token string&quot;&gt;&quot;npm test&quot;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;위와같이 설정하고 나면 .husky폴더에 다음과 같은 파일이 생성됩니다.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://github.com/pium-official/pium-official.github.io/assets/50974359/82a9d271-4748-4871-be3a-220ca36c2de0&quot; alt=&quot;image&quot;&gt;&lt;/p&gt;
&lt;p&gt;이제 모든 커밋을 하기 전에 &lt;code class=&quot;language-text&quot;&gt;npm test&lt;/code&gt;명령어가 실행되게 됩니다. 이제, &lt;code class=&quot;language-text&quot;&gt;test&lt;/code&gt;를 통과하지 못한다면 &lt;code class=&quot;language-text&quot;&gt;commit&lt;/code&gt;은 일어나지 않습니다. 이를 통해 원격 저장소에 올라가는 코드들의 신뢰성은 급상승 하게 됩니다! &lt;/p&gt;
&lt;p&gt;하지만 하나의 단점이 있습니다. 피움 프로젝트를 모노레포 형식으로 진행하고 있는데, &lt;code class=&quot;language-text&quot;&gt;husky&lt;/code&gt;가 &lt;code class=&quot;language-text&quot;&gt;githook&lt;/code&gt;이기 때문에 &lt;code class=&quot;language-text&quot;&gt;npm&lt;/code&gt;에 의존성이 없는 &lt;code class=&quot;language-text&quot;&gt;backend&lt;/code&gt; 폴더에서도 커밋이 발생하기 전에 해당 &lt;code class=&quot;language-text&quot;&gt;npm test&lt;/code&gt;가 실행된다는 점입니다. 이는 상당히 좋지 못합니다… &lt;code class=&quot;language-text&quot;&gt;pre-commit&lt;/code&gt; 단계에서 명령어를 &lt;code class=&quot;language-text&quot;&gt;cd frontend &amp;amp;&amp;amp; npm test&lt;/code&gt;와 같이 변경해서 실행해봐도 백엔드에서 커밋을 할때마다 해당 명령어가 실행된다는게 상당히 비효율적인 방식이라고 생각했습니다. 따라서 피움 프론트엔드 CI는 husky로 진행하지 않기로 했습니다. 단, &lt;code class=&quot;language-text&quot;&gt;commit&lt;/code&gt; 메세지 형태는 강제할 수 있었습니다. &lt;code class=&quot;language-text&quot;&gt;git&lt;/code&gt; 컨벤션인 부분이라 FE/BE 모두 공통으로 해당되는 내용이었기에 해당 부분만 추가하는 방식으로 &lt;code class=&quot;language-text&quot;&gt;husky&lt;/code&gt;를 사용하기로 했습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token shebang important&quot;&gt;#!/usr/bin/env sh&lt;/span&gt;
&lt;span class=&quot;token builtin class-name&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;&lt;span class=&quot;token variable&quot;&gt;&lt;span class=&quot;token variable&quot;&gt;$(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;dirname&lt;/span&gt; -- &lt;span class=&quot;token string&quot;&gt;&quot;&lt;span class=&quot;token variable&quot;&gt;$0&lt;/span&gt;&quot;&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;)&lt;/span&gt;&lt;/span&gt;/_/husky.sh&quot;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;# 커밋 컨벤션&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;# 0. 검사 예외 조건 (자동 생성, 최초 커밋)&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;# - Merge branch*, Merge pull request*, initial*&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;# 1. 접두사의 글자는 소문자&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;# 2. 맨 마지막 글자 &apos;.&apos; 마침표 금지&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;# 3. 커밋 접두사 (규칙: &apos;접두사&apos; + &apos;콜론&apos; + &apos; &apos;)&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;# - feat: 새로운 기능 추가&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;# - fix: 버그 수정&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;# - docs: 문서의 수정&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;# - style: (코드의 수정 없이) 스타일(style)만 변경(들여쓰기 같은 포맷이나 세미콜론을 빼먹은 경우)&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;# - refactor: 코드를 리펙토링&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;# - test: Test 관련한 코드의 추가, 수정&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;# - chore: (코드의 수정 없이) 설정을 변경&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;# - design: css 코드 수정&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;# - build: build 및 관련 설정 변경&lt;/span&gt;

&lt;span class=&quot;token assign-left variable&quot;&gt;COMMIT_MSG_FILE&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;$1&lt;/span&gt;
&lt;span class=&quot;token assign-left variable&quot;&gt;FIRST_LINE&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;&lt;span class=&quot;token variable&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;head&lt;/span&gt; &lt;span class=&quot;token parameter variable&quot;&gt;-n1&lt;/span&gt; $&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;COMMIT_MSG_FILE&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;`&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token assign-left variable&quot;&gt;RES&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;needCheck&quot;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;# needCheck, auto, initial, lintError*, clear&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;$FIRST_LINE&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=~&lt;/span&gt; ^&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Merge branch&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt;
   &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;$FIRST_LINE&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=~&lt;/span&gt; ^&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Merge pull request&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;then&lt;/span&gt;
  &lt;span class=&quot;token assign-left variable&quot;&gt;RES&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;auto&quot;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;fi&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;$FIRST_LINE&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=~&lt;/span&gt; ^&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;initial&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;then&lt;/span&gt;
  &lt;span class=&quot;token assign-left variable&quot;&gt;RES&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;initial&quot;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;fi&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;$RES&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;needCheck&quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;then&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;$FIRST_LINE&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=~&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;.&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;$ &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;then&lt;/span&gt;
    &lt;span class=&quot;token assign-left variable&quot;&gt;RES&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;lintError1&quot;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;fi&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;$FIRST_LINE&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=~&lt;/span&gt; ^&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;feat: &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt;
     &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;$FIRST_LINE&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=~&lt;/span&gt; ^&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;fix: &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt;
     &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;$FIRST_LINE&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=~&lt;/span&gt; ^&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;docs: &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt;
     &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;$FIRST_LINE&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=~&lt;/span&gt; ^&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;style: &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt;
     &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;$FIRST_LINE&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=~&lt;/span&gt; ^&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;refactor: &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt;
     &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;$FIRST_LINE&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=~&lt;/span&gt; ^&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;test: &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt;
     &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;$FIRST_LINE&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=~&lt;/span&gt; ^&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;design: &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt;
     &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;$FIRST_LINE&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=~&lt;/span&gt; ^&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;build: &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt;
     &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;$FIRST_LINE&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=~&lt;/span&gt; ^&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;chore: &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;then&lt;/span&gt;
    &lt;span class=&quot;token assign-left variable&quot;&gt;RES&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;lintError2&quot;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;fi&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;$RES&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=~&lt;/span&gt; ^&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;lintError&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;then&lt;/span&gt;
    &lt;span class=&quot;token assign-left variable&quot;&gt;RES&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;clear&quot;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;fi&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;fi&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;$RES&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=~&lt;/span&gt; ^&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;lintError&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;then&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;$RES&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;lintError1&quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;then&lt;/span&gt;
    &lt;span class=&quot;token builtin class-name&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;CommitLint#1: 문장 마지막의 (&apos;.&apos;) 마침표를 제거해주세요.&quot;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;fi&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;$RES&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;lintError2&quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;then&lt;/span&gt;
    &lt;span class=&quot;token builtin class-name&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;CommitLint#2: 접두사, 콜론, 띄어쓰기 형태를 확인하세요. (feat: , fix: , docs: , style: , refactor: , test: , chore: )&quot;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;fi&lt;/span&gt;
  &lt;span class=&quot;token builtin class-name&quot;&gt;exit&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;elif&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;$RES&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;auto&quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;then&lt;/span&gt;
  &lt;span class=&quot;token builtin class-name&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Automatically generated commit message from git&quot;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;elif&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;$RES&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;initial&quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;then&lt;/span&gt;
  &lt;span class=&quot;token builtin class-name&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Initial commit&quot;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;elif&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;$RES&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;clear&quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;then&lt;/span&gt;
  &lt;span class=&quot;token builtin class-name&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Pass commit lint!&quot;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;fi&lt;/span&gt;

&lt;span class=&quot;token builtin class-name&quot;&gt;exit&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;프로젝트 &lt;code class=&quot;language-text&quot;&gt;git&lt;/code&gt; 컨벤션에 맞춰서 메세지 작성을 강제 했고, 이를 통해 &lt;code class=&quot;language-text&quot;&gt;commit&lt;/code&gt; 메세지 통일을 할 수 있었습니다!&lt;/p&gt;
&lt;hr&gt;
&lt;h3&gt;맺는말&lt;/h3&gt;
&lt;p&gt;프로젝트는 팀원들이 하나의 문서를 만드는 것이라고 생각을 합니다. 그리고 통일된 문서를 만들때 가장 필요한 것은 규칙(컨벤션)이고 그 규칙을 자동으로 강제할 수 있고, 코드의 신뢰성을 높여줄 수 있는 라이브러리에 대해서 한번 알아봤습니다.
스타일 컨벤션을 맞추기 위해서는 &lt;code class=&quot;language-text&quot;&gt;stylelint&lt;/code&gt;를 &lt;code class=&quot;language-text&quot;&gt;git hook&lt;/code&gt;을 통해 &lt;code class=&quot;language-text&quot;&gt;git&lt;/code&gt;컨벤션을 맞추고 싶은 경우에는 &lt;code class=&quot;language-text&quot;&gt;husky&lt;/code&gt;를 통해서 컨벤션을 통일 할 수 있었습니다.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[webpack으로만 React 설정하기 (without CRA)]]></title><description><![CDATA[이 글은 우테코 피움팀 크루 '클린'가 작성했습니다. CRA없에 webpack으로 react 세팅하기 피움 서비스 환경을 만들기로 하면서, FE의 개발 스펙은 React + TypeScript로 설정하였습니다. React…]]></description><link>https://pium-official.github.io/react-setting-without-cra/</link><guid isPermaLink="false">https://pium-official.github.io/react-setting-without-cra/</guid><pubDate>Sun, 06 Aug 2023 00:00:00 GMT</pubDate><content:encoded>&lt;blockquote&gt;
&lt;p&gt;이 글은 우테코 피움팀 크루 &apos;&lt;a href=&quot;https://github.com/hozzijeong&quot;&gt;클린&lt;/a&gt;&apos;가 작성했습니다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1&gt;CRA없에 webpack으로 react 세팅하기&lt;/h1&gt;
&lt;p&gt;피움 서비스 환경을 만들기로 하면서, FE의 개발 스펙은 React + TypeScript로 설정하였습니다. React는 당연 현존 최강 라이브러리이고, 여기에 JavaScript의 동적 타입을 컴파일 단계에서 잡아주는 TypeScript까지 더해서 안정적인 서비스를 개발하려고 합니다. &lt;/p&gt;
&lt;p&gt;평소같았으면 &lt;code class=&quot;language-text&quot;&gt;CRA&lt;/code&gt;를 통해 손쉽게 리액트 설치를 하고 개발을 시작했을 텐데, CRA의 단점이 이미 정교하게 세팅된 babel과 webpack 설정을 따라 개발을 해야 한다는 것이고 그에 따른 트레이드 오프가 상당히 많이 발생할 수 있다는 점입니다. (하나의 예시로 CRA를 통해서는 절대경로 지정 하기가 어렵습니다.) 또한, 이왕에 내 서비스 개발하는거 남이 차려준 밥상 보다 내가 직접 한번 해보겠다는 생각으로 webpack으로만 react세팅을 시도해 보려고합니다 (가장 큰 원인은 요구사항이 CRA없이 webpack으로 react 설치하는 거였습니다 ㅎ)&lt;/p&gt;
&lt;h3&gt;package.json 설치&lt;/h3&gt;
&lt;p&gt;우선 가장 처음 해야할 단계입니다. react, typescript, webpack 등 우리가 설치할 의존성 관리와 기타 프로젝트 정보를 저장해 줄 &lt;code class=&quot;language-text&quot;&gt;package.json&lt;/code&gt;을 설치 해줍니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;npm&lt;/span&gt; init // 또는
&lt;span class=&quot;token function&quot;&gt;yarn&lt;/span&gt; init &lt;span class=&quot;token parameter variable&quot;&gt;-y&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;환경 구축에 필요한 패키지 설치&lt;/h3&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;npm&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; react react-dom // react 설치
&lt;span class=&quot;token function&quot;&gt;npm&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; &lt;span class=&quot;token parameter variable&quot;&gt;-D&lt;/span&gt; typescript @types/react @types/react-dom // typescript 설치
&lt;span class=&quot;token function&quot;&gt;npm&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; tsc-init // tsconfig 설치

&lt;span class=&quot;token function&quot;&gt;npm&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; &lt;span class=&quot;token parameter variable&quot;&gt;-D&lt;/span&gt; webpack webpack-cli // 웹팩 라이브러리와 명령어를 통해 웹팩을 이용할 수 있는 라이브러리 설치
&lt;span class=&quot;token function&quot;&gt;npm&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; &lt;span class=&quot;token parameter variable&quot;&gt;-D&lt;/span&gt; html-webpack-plugin webpack-dev-server ts-loader  // 각각 번들 후 html파일을 만들어주는 플러그인, 개발할 때 사용할 웹 서버, typescript파일을 javascript로 변환하는 webpack loader 설치&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;위에 파일들을 설치하고 나면 이제부터 본격적인 세팅을 합니다.&lt;/p&gt;
&lt;h3&gt;webpack.config.js 파일 설정&lt;/h3&gt;
&lt;p&gt;웹팩 파일 설정입니다. &lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// webpack.config.js&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; resolve &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;path&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// path 설정에 도움을 줍니다.&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; HtmlWebpackPlugin &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;html-webpack-plugin&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; ReactRefreshWebpackPlugin &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;@pmmmwh/react-refresh-webpack-plugin&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; ReactRefreshTypeScript &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;react-refresh-typescript&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; isDevelopment &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; process&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;env&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;NODE_ENV&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;development&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

module&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;exports &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token literal-property property&quot;&gt;entry&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;__dirname&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;src&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;index.tsx&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 
  &lt;span class=&quot;token literal-property property&quot;&gt;output&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token literal-property property&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;__dirname&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;dist&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 번들 파일이 저장될 디렉토리&lt;/span&gt;
    &lt;span class=&quot;token literal-property property&quot;&gt;filename&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;bundle.js&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 파일 이름&lt;/span&gt;
    &lt;span class=&quot;token literal-property property&quot;&gt;assetModuleFilename&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;assets/[name][ext]&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 에셋의 파일 이름&lt;/span&gt;
    &lt;span class=&quot;token literal-property property&quot;&gt;clean&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 빌드 이전 결과물 정리 옵션&lt;/span&gt;
    &lt;span class=&quot;token literal-property property&quot;&gt;publicPath&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;/&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 빌드된 파일 앞에 붙일 경로&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token literal-property property&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token literal-property property&quot;&gt;extensions&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;.ts&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;.tsx&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;...&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 파일 확장자. TS및 JSX확자자ㅡㄹ 설정했습니다.&lt;/span&gt;
    &lt;span class=&quot;token literal-property property&quot;&gt;alias&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 절대경로 설정&lt;/span&gt;
      &lt;span class=&quot;token literal-property property&quot;&gt;types&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;__dirname&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;src&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;types&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token literal-property property&quot;&gt;pages&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;__dirname&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;src&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;pages&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token literal-property property&quot;&gt;components&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;__dirname&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;src&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;components&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token literal-property property&quot;&gt;hooks&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;__dirname&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;src&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;hooks&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token literal-property property&quot;&gt;apis&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;__dirname&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;src&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;apis&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token literal-property property&quot;&gt;utils&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;__dirname&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;src&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;utils&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token literal-property property&quot;&gt;assets&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;__dirname&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;src&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;assets&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token literal-property property&quot;&gt;constants&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;__dirname&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;src&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;constants&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token literal-property property&quot;&gt;contexts&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;__dirname&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;src&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;contexts&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token literal-property property&quot;&gt;module&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 로더 및 규칙 설정&lt;/span&gt;
    &lt;span class=&quot;token literal-property property&quot;&gt;rules&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token literal-property property&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token regex&quot;&gt;&lt;span class=&quot;token regex-delimiter&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token regex-source language-regex&quot;&gt;\.tsx?$&lt;/span&gt;&lt;span class=&quot;token regex-delimiter&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token regex-flags&quot;&gt;i&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// ts-loader를 사용했습니다. babel-loader를 사용하지 않은 이유는 IE까지 폴리필 지원을 하지 않아도 되기 때문입니ㅏㄷ.&lt;/span&gt;
        &lt;span class=&quot;token literal-property property&quot;&gt;exclude&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token regex&quot;&gt;&lt;span class=&quot;token regex-delimiter&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token regex-source language-regex&quot;&gt;node_modules&lt;/span&gt;&lt;span class=&quot;token regex-delimiter&quot;&gt;/&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token literal-property property&quot;&gt;loader&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;ts-loader&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token literal-property property&quot;&gt;options&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          &lt;span class=&quot;token function-variable function&quot;&gt;getCustomTransformers&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token literal-property property&quot;&gt;before&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; isDevelopment &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;ReactRefreshTypeScript&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
          &lt;span class=&quot;token literal-property property&quot;&gt;transpileOnly&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; isDevelopment&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token literal-property property&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token regex&quot;&gt;&lt;span class=&quot;token regex-delimiter&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token regex-source language-regex&quot;&gt;\.(png|jpg|jpeg|svg|woff|woff2|eot|ttf|otf)$&lt;/span&gt;&lt;span class=&quot;token regex-delimiter&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token regex-flags&quot;&gt;i&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token literal-property property&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;asset/resource&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token literal-property property&quot;&gt;plugins&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;HtmlWebpackPlugin&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//빌드된 다음에 템플릿을 지정해줍니다.&lt;/span&gt;
      &lt;span class=&quot;token literal-property property&quot;&gt;template&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;__dirname&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;public&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;index.html&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;isDevelopment &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ReactRefreshWebpackPlugin&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token literal-property property&quot;&gt;devServer&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token literal-property property&quot;&gt;open&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token literal-property property&quot;&gt;port&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;8282&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 기본은 3000번이지만 커스텀 기념으로 바꿨씁니다.&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token literal-property property&quot;&gt;directory&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;__dirname&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;public&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token literal-property property&quot;&gt;historyApiFallback&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;entry&lt;/code&gt;: 웹팩의 진입점을 의미. react에서는 src의 index.js에서 모든게 시작됩니다.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;output&lt;/code&gt;: 번들된 파일의 출력 경로를 정의합니다.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;resolve&lt;/code&gt;: 모듈 해석 옵션을 설정합니다.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;module&lt;/code&gt;: 로더의 규칙을 설정합니다.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;보통은 .css,.scss파일 확장을 위해 &lt;code class=&quot;language-text&quot;&gt;style-loader&lt;/code&gt;를 사용하기도 하지만, 피움에서는 CSS-in-JS를 선택했기 때문에 해당 확장자들이 존재하지 않아서 따로 설정하지 않았습니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;plugins&lt;/code&gt;:  웹팩 플러그인을 설정합니다. 플러그인은 빌드 과정을 확장하거나 수정하는데 사용됩니다.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;devServer&lt;/code&gt;: 개발 서버 옵션(localhost)을 설정합니다. &lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;ReactRefreshWebpackPlugin&lt;/code&gt;은 리액트에서 저장을 파일 저장을 할 때마다 상태 초기화를 막아주는 역할을 하는 플러그인 입니다. CRA에서는 기본적으로 제공되어 있는 기능이지만, custom기능에는 존재하지 않기에 추가해 줬습니다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3&gt;tsconfig파일 설정&lt;/h3&gt;
&lt;p&gt;tsconfig파일은 typescript의 버전과 모듈 등 컴파일 과정에서 어떤 버전으로 실행할 것인지 등을 설정하는 파일입니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;compilerOptions&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 컴파일러 옵션 설정&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;target&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;ES2016&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 컴파일 하는 JS 버전을 ES2016으로 설정&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;module&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;CommonJS&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 컴파일된 모듈 시스템 설정&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;jsx&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;react-jsx&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// JSX문법을 어떻게 컴파일 할지 설정&lt;/span&gt;

    &lt;span class=&quot;token property&quot;&gt;&quot;strict&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 엄격한 타입 체크&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;exactOptionalPropertyTypes&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 선택적 프로퍼티 타입을 체크함&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;skipLibCheck&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 라이브러리 파일의 타입 체크를 건너뜀&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;esModuleInterop&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// CJS 및 ES 모듈을 함께 사용할 때 옵션을 설정 ES6 모듈 사양을 준수하여 CJS사용 가능하게 함. (즉 import 가능)&lt;/span&gt;

    &lt;span class=&quot;token property&quot;&gt;&quot;baseUrl&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;src&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 루트가 되는 url&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;paths&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 절대 경로&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;types/*&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;types/*&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;pages/*&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;pages/*&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;components/*&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;components/*&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;contexts/*&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;contexts/*&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;hooks/*&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;hooks/*&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;utils/*&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;utils/*&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;assets/*&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;assets/*&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;constants/*&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;constants/*&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;

    &lt;span class=&quot;token property&quot;&gt;&quot;types&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;cypress&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 타입 정의 파일 지정&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;include&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;src/**/*&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;cypress/**/*&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 컴파일할 소스 코드 파일 정의&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;피움에서는 IE를 제외한 모든 브라우저를 타겟으로 설정하고 있기 때문에 최대한 낮은 버전의 &lt;code class=&quot;language-text&quot;&gt;JavaScript&lt;/code&gt;를 타겟으로 설정했습니다. ES2016을 설정하고 처음 코드를 작성하다가 &lt;code class=&quot;language-text&quot;&gt;import&lt;/code&gt;가 제대로 이루어지지 않는 것을 보고 문제를 찾다가 &lt;code class=&quot;language-text&quot;&gt;esModuleInterop&lt;/code&gt;옵션을 true로 설정해 줘야지 CJS에서도 import가 가능하다는 것을 알게 되었습니다. &lt;/p&gt;
&lt;p&gt;또한, 상대 경로가 아닌 절대경로 사용을 선택했는데, 이는 복잡한 파일 구조를 보기 쉽게 알아보기 위해 설정했습니다.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;esModuleInterop&lt;/code&gt;설정은 target으로 하는 옵션이 node16이거나 nodenext인 경우에는 true로 되어있지만, 그게 아닌 경우에는 false이므로, import 구문을 사용하고 싶다면 옵션을 true로 하는것이 좋습니다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3&gt;package.json 설정&lt;/h3&gt;
&lt;p&gt;이제 설정한 웹팩과 tsconfig를 확인해 보기 위해서는 실행 스크립트를 알아야 합니다. 보통 자주 사용하는 명령어로는 &lt;code class=&quot;language-text&quot;&gt;start&lt;/code&gt;와 &lt;code class=&quot;language-text&quot;&gt;build&lt;/code&gt;가 있습니다. 그리고 나머지 명령어는 스토리북이나 cypress에 대한 명령어들입니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//package.json&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;//...&lt;/span&gt;
	&lt;span class=&quot;token property&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;pium-frontend&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;version&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;1.0.0&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;description&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;피움 프론트엔드&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;main&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;src/index.tsx&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;scripts&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;test&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;echo test is not prepared&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;start&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;webpack-dev-server --mode=development&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;build&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;NODE_ENV=production webpack&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;storybook&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;storybook dev -p 6006&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;build-storybook&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;storybook build -o ./dist/storybook&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;cypress&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;cypress open&quot;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;//...&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[인수테스트 데이터 초기화하기]]></title><description><![CDATA[이 글은 우테코 피움팀 크루 '주노'가 작성했습니다. 서론 인수테스트를 작성하면서 다음과 같은 문제가 발생했다. RestAssured를 사용하고 있다. 각 테스트별로 (DB…]]></description><link>https://pium-official.github.io/acceptance-test-resolve/</link><guid isPermaLink="false">https://pium-official.github.io/acceptance-test-resolve/</guid><pubDate>Thu, 03 Aug 2023 00:00:00 GMT</pubDate><content:encoded>&lt;blockquote&gt;
&lt;p&gt;이 글은 우테코 피움팀 크루 &apos;&lt;a href=&quot;https://github.com/Choi-JJunho&quot;&gt;주노&lt;/a&gt;&apos;가 작성했습니다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;서론&lt;/h2&gt;
&lt;p&gt;인수테스트를 작성하면서 다음과 같은 문제가 발생했다.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;RestAssured를 사용하고 있다.&lt;/li&gt;
&lt;li&gt;각 테스트별로 (DB)데이터가 격리된 테스트를 수행하고 싶다.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;이에 다음과 같은 시행착오를 거쳤다.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;최종적으로 작성된 코드를 보고싶다면 최종코드를 확인해주세요.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;시행착오&lt;/h2&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token annotation punctuation&quot;&gt;@Transactional&lt;/span&gt;
&lt;span class=&quot;token annotation punctuation&quot;&gt;@SpringBootTest&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;webEnvironment &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;SpringBootTest&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;WebEnvironment&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;RANDOM_PORT&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;DictionaryPlantApiTest&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;JPA를 사용하고 있는 현 시점에서&lt;code class=&quot;language-text&quot;&gt;@Transactional&lt;/code&gt;을 이용해서 하나의 테스트(트랜잭션)이 끝날 때 데이터가 롤백되는 현상을 기대했다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token annotation punctuation&quot;&gt;@Test&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; 사전_식물_상세정보_조회_시_사전_식물_정보_반환&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

    &lt;span class=&quot;token comment&quot;&gt;// dictionaryPlantRepository.save() 에 대한 Fixture&lt;/span&gt;
    &lt;span class=&quot;token class-name&quot;&gt;DictionaryPlant&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;REQUEST&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; dictionaryPlantSupport&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;builder&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;build&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token class-name&quot;&gt;DictionaryPlantResponse&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;RESPONSE&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;RestAssured&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;given&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;all&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;when&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;/dictionary-plants/{id}&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;REQUEST&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getId&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;all&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;statusCode&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;HttpStatus&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;OK&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;extract&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;as&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;DictionaryPlantResponse&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    
    &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/6a7264de6762b8d1cca647aaf3a1fff8/06e4e/807f392f.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 33.529411764705884%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAz0lEQVR42o2QS4LEIAhEc5L4AY3amdhq7n+1moo9vZ1k8UQQCnDZi+JsBeP9Qqu0bUd/F7QjY9BP0cG55yxtT0jlQAwOSQ1q8Mgq9D+IZ6L3zwVLjnASoaoIRKyDMRaWj9ZarMZgXVfGzPTvJ6wJrbXJljhtzujjRC5lxvoY6OeJo9YZEzZ1/wgvOSl6/xPcNliuKIFF4mfxNbmGMO8iAn+z/mK54rXSRXAeI2zo+mEXijDpi3/yh9cxu5KNAo1CVePkID/kpYE2QJljbwR/AcR4xxodFiVIAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;807f392f&apos; title=&apos;&apos; src=&apos;/static/6a7264de6762b8d1cca647aaf3a1fff8/ca1dc/807f392f.png&apos; srcset=&apos;/static/6a7264de6762b8d1cca647aaf3a1fff8/e7570/807f392f.png 170w,
/static/6a7264de6762b8d1cca647aaf3a1fff8/f46e7/807f392f.png 340w,
/static/6a7264de6762b8d1cca647aaf3a1fff8/ca1dc/807f392f.png 680w,
/static/6a7264de6762b8d1cca647aaf3a1fff8/02d09/807f392f.png 1020w,
/static/6a7264de6762b8d1cca647aaf3a1fff8/9d567/807f392f.png 1360w,
/static/6a7264de6762b8d1cca647aaf3a1fff8/06e4e/807f392f.png 2054w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;하지만 테스트를 수행할 때 JPARepository로 save한 값을 RestAssured를 이용해 조회하면 데이터가 반영되지 않는 문제가 발생했다.&lt;/p&gt;
&lt;h3&gt;문제 인식&lt;/h3&gt;
&lt;p&gt;&lt;a href=&quot;https://stackoverflow.com/questions/41763417/api-test-transactional-rollback&quot;&gt;Stack Overflow&lt;/a&gt;의 다음 글을 읽어본 뒤 다음과 같은 지식을 얻었다.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;@Transactional only works within the same thread, and as such the rollback provided by Spring will only work on the objects that were persisted on the thread where the transaction was started.
Your rest-assured test will perform an integration test and will hit your Spring context on another thread. So although your rest-assured test would be able to see the objects persisted in your test setup, Spring will never be able to cleanup resources persisted in your rest-assured test automatically.
The only way to tackle this is to delete the entities yourself in your test (Using an Junit Rule, or cleaning up any state in your test setup).&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;요약하면 다음과 같다.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;트랜잭션은 동일한 스레드 내에서 동작한다.
Spring에서 제공하는 롤백은 트랜잭션이 시작된 스레드 내에서 생긴 객체에 대해서만 동작한다.
RestAssured는 별도의 스레드를 통해 Spring 컨텍스트를 이용한다.
이 때문에 RestAssured는 전역적으로 설정된 데이터 (Data.sql과 같은 설정으로 생긴 데이터)에는 접근할 수 있으나 Transaction과 같이 별도의 스레드에서만 제공되는 값에 대해서는 접근할 수 없다.
... (해결방법 후략)&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;위와 같이 별도의 RestAssured의 요청이 스레드로 동작하기 때문에 하나의 트랜잭션에서 별개로 저장한 값에 접근할 수 없다는 결론이 나왔다.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;자세한 내용은 &lt;a href=&quot;https://pium-official.github.io/transactional-not-in-restassured/&quot;&gt;하마드의 트러블슈팅 글&lt;/a&gt;을 참고해주세요~&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;해결방법&lt;/h2&gt;
&lt;p&gt;이 문제에 대해서 다양한 해결방법이 존재하고 각각의 장단점을 비교한 뒤 최종적으로 어떤 방식을 선택할지 고민해보자.&lt;/p&gt;
&lt;h3&gt;1️⃣ DirtiesContext 사용하기&lt;/h3&gt;
&lt;p&gt;매 테스트마다 Context를 새롭게 띄워서 데이터를 매번 초기화하는 방법을 생각해볼 수 있다.&lt;/p&gt;
&lt;h4&gt;장점&lt;/h4&gt;
&lt;p&gt;컨텍스트를 다시 로드하면서 테스트간 격리 환경을 명확하게 구분할 수 있다.&lt;/p&gt;
&lt;h4&gt;단점&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;매 테스트마다 컨텍스트를 다시 로드하기 때문에 속도가 상대적으로 느리다.&lt;/li&gt;
&lt;li&gt;@Nested 내부에 정의되어있는 테스트에 대해 DirtiesContext가 적용되지 않는 문제가 있다.
&lt;a href=&quot;https://docs.spring.io/spring-framework/reference/testing/testcontext-framework/support-classes.html#testcontext-junit-jupiter-nested-test-configuration&quot;&gt;Spring @Nested 관련 공식 문서&lt;/a&gt;
@Nested 내부에 정의된 테스트에 DirtiesContext를 전파하기 위해 아래 설정을 추가해줘야한다.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// 클래스레벨에 다음 어노테이션을 추가해주거나&lt;/span&gt;
&lt;span class=&quot;token annotation punctuation&quot;&gt;@NestedTestConfiguration&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;value &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;NestedTestConfiguration&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;EnclosingConfiguration&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;OVERRIDE&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;혹은 properteis 설정을 변경해주는 방식도 존재한다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;properties&quot;&gt;&lt;pre class=&quot;language-properties&quot;&gt;&lt;code class=&quot;language-properties&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# properties 파일에 다음 설정을 추가해주어 전역적으로 @Nested 기본 전략을 설정할 수 있다.&lt;/span&gt;
&lt;span class=&quot;token key attr-name&quot;&gt;spring.test.enclosing.configuration&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token value attr-value&quot;&gt;OVERRIDE&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;참고 문서 : &lt;a href=&quot;https://docs.spring.io/spring-framework/reference/testing/annotations/integration-junit-jupiter.html#integration-testing-annotations-nestedtestconfiguration&quot;&gt;Changing the default enclosing configuration inheritance mode&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3&gt;2️⃣ @SQL 사용하기&lt;/h3&gt;
&lt;p&gt;@SQL 어노테이션을 사용하여 매 테스트 실행 전 SQL 스크립트를 실행하여 테이블을 다시 만들 수 있다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token annotation punctuation&quot;&gt;@Sql&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;classpath:init.sql&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token annotation punctuation&quot;&gt;@SpringBootTest&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;webEnvironment &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;SpringBootTest&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;WebEnvironment&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;RANDOM_PORT&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;DictionaryPlantApiTest&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;장점&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;여러 스크립트를 수행할 수 있다.&lt;/li&gt;
&lt;li&gt;스키마 초기화 후 테이터도 함께 넣을 수 있다.&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;단점&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;테스트에 사용하는 DB가 변경되었을 때 해당 벤더사의 Dialect에 맞게 SQL문을 고쳐줘야한다.&lt;/li&gt;
&lt;li&gt;쿼리를 텍스트로 관리하다보니 컴파일타임에 오류를 잡기 어렵다.&lt;/li&gt;
&lt;li&gt;테이블 연관관계가 존재하는 경우 쿼리문 작성 순서에 신경을 많이 써야한다.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;3️⃣ InitializingBean 사용하기&lt;/h3&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;InitializingBean&lt;/code&gt;을 이용하여 스프링 Bean이 초기화, 소멸 될 때 행위를 추가할 수 있다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// InitializingBean의 생김새&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;interface&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;InitializingBean&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;afterPropertiesSet&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;throws&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Exception&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이를 이용해 @Test 어노테이션으로 Bean이 등록될 때 마다 DB을 초기화하는 상황을 기대할 수 있다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Entity Manager를 이용해 DB 초기화하기&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;JPA를 사용하는 입장으로 SQL문을 작성하기 보다는 EntityManager를 이용해보는것이 정적인 쿼리 관리에 들이는 소요가 적을 것이라고 생각된다.&lt;/p&gt;
&lt;p&gt;이에 EntityManager를 이용하여 DB를 초기화하는 방법을 알아보자.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;아래부터는 &lt;a href=&quot;https://ttl-blog.tistory.com/1407&quot;&gt;https://ttl-blog.tistory.com/1407&lt;/a&gt; 를 참고하여 진행된 글입니다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4&gt;table 이름 조회하기&lt;/h4&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token annotation punctuation&quot;&gt;@Component&lt;/span&gt;
&lt;span class=&quot;token annotation punctuation&quot;&gt;@Profile&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;test&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;DatabaseCleaner&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;implements&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;InitializingBean&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

	&lt;span class=&quot;token comment&quot;&gt;// 테이블 이름들을 저장할 List&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;List&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; tables &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ArrayList&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

	&lt;span class=&quot;token comment&quot;&gt;// 엔티티 매니저를 선언한다&lt;/span&gt;
    &lt;span class=&quot;token annotation punctuation&quot;&gt;@PersistenceContext&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;EntityManager&lt;/span&gt; entityManager&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token annotation punctuation&quot;&gt;@SuppressWarnings&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;unchecked&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token annotation punctuation&quot;&gt;@PostConstruct&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;findDatabaseTableNames&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token class-name&quot;&gt;List&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Object&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; tableInfos &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; entityManager&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;createNativeQuery&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;SHOW TABLES&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getResultList&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Object&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; tableInfo &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; tableInfos&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; tableName &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; tableInfo&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
            tableNames&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;add&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;tableName&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;EntityManager를 이용하여 모든 테이블의 이름을 가져온다.&lt;/p&gt;
&lt;h4&gt;테이블 초기화하기 &amp;#x26; 실행하기&lt;/h4&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token annotation punctuation&quot;&gt;@Component&lt;/span&gt;
&lt;span class=&quot;token annotation punctuation&quot;&gt;@Profile&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;test&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;DatabaseCleaner&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;implements&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;InitializingBean&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

	&lt;span class=&quot;token comment&quot;&gt;// 테이블 이름들을 저장할 List&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;List&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; tables &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ArrayList&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

	&lt;span class=&quot;token comment&quot;&gt;// 엔티티 매니저를 선언한다&lt;/span&gt;
    &lt;span class=&quot;token annotation punctuation&quot;&gt;@PersistenceContext&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;EntityManager&lt;/span&gt; entityManager&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

	&lt;span class=&quot;token comment&quot;&gt;// 테이블 이름을 조회한다&lt;/span&gt;
    &lt;span class=&quot;token annotation punctuation&quot;&gt;@SuppressWarnings&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;unchecked&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token annotation punctuation&quot;&gt;@PostConstruct&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;findDatabaseTableNames&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    
    &lt;span class=&quot;token comment&quot;&gt;// 테이블을 초기화한다&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;truncate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        entityManager&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;createNativeQuery&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;format&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;SET FOREIGN_KEY_CHECKS %d&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;executeUpdate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; tableName &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; tableNames&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            entityManager&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;createNativeQuery&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;format&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;TRUNCATE TABLE %s&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; tableName&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;executeUpdate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        entityManager&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;createNativeQuery&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;format&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;SET FOREIGN_KEY_CHECKS %d&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;executeUpdate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;token annotation punctuation&quot;&gt;@Override&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;afterPropertiesSet&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;throws&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Exception&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token function&quot;&gt;findDatabaseTableNames&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;token annotation punctuation&quot;&gt;@Transactional&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;clear&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        entityManager&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;clear&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token function&quot;&gt;truncate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;truncate를 수행하여 모든 테이블의 데이터를 초기화하고 실행한다.&lt;/p&gt;
&lt;p&gt;결과적으로 봤을 때 다음과 같은 흐름으로 데이터베이스 초기화가 수행된다.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Bean이 생성된 이후 Table 이름을 찾는다.&lt;/li&gt;
&lt;li&gt;영속성 컨텍스트의 1차 캐시를 비우고 테이블을 초기화한다.&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;테스트코드에 적용하기&lt;/h4&gt;
&lt;p&gt;인수테스트를 &lt;code class=&quot;language-text&quot;&gt;AcceptanceTest&lt;/code&gt;로 분리하고 상속받는 구조로 변경했다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token annotation punctuation&quot;&gt;@SpringBootTest&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;webEnvironment &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;SpringBootTest&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;WebEnvironment&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;RANDOM_PORT&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;AcceptanceTest&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

    &lt;span class=&quot;token annotation punctuation&quot;&gt;@LocalServerPort&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; port&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token annotation punctuation&quot;&gt;@Autowired&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;DatabaseCleaner&lt;/span&gt; databaseCleaner&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token annotation punctuation&quot;&gt;@BeforeEach&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;setUp&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token class-name&quot;&gt;RestAssured&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;port &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; port&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        databaseCleaner&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;clear&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;작업한 내용을 적용하면 위와 같이 코드를 작성할 수 있다.&lt;/p&gt;
&lt;h4&gt;장점&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;테스트 코드가 쿼리에 의존적이지 않다.&lt;/li&gt;
&lt;li&gt;설정을 분리하여 관리할 수 있다.&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;단점&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;JPA에 종속적인 설정이기 때문에 JPA를 사용하지 않거나 ORM을 제외하는 상황을 고려한다면 해당 방식의 도입을 생각해볼 필요가 있다.&lt;/li&gt;
&lt;li&gt;AcceptenceTest 이외에 다른 통합테스트에서 사용하려면 중복된 코드를 작성해야한다.&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Bean 생성 주기에 대한 설정이기 때문에 해당 클래스를 프로덕션에 남용할 수 있는 가능성이 존재한다.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;테스트 코드지만 프로덕션에도 적용될 수 있는 설정이 그닥 마음에 들진 않는다.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;4️⃣ JUnit5 Extension 사용하기&lt;/h3&gt;
&lt;p&gt;현재 코드는 AcceptenceTest를 사용하는 코드에 대해서만 DB 초기화를 진행하고있다.&lt;/p&gt;
&lt;p&gt;RestAssured가 별도의 스레드에서 동작하기 때문에 위와같이 구성했지만 별도의 통합 테스트에서도 DB 초기화 설정이 필요할 수 있다.&lt;/p&gt;
&lt;p&gt;@BeforeEach 내부에 clear를 선언하지 않고도 간단한 설정만으로 DB 초기화 로직을 적용하도록 개선해보자.&lt;/p&gt;
&lt;p&gt;이를 위해 JUnit5의 Extension을 사용하여 해당 설정을 리팩터링해볼 것이다.&lt;/p&gt;
&lt;h4&gt;JUnit5 Extension이란?&lt;/h4&gt;
&lt;p&gt;Junit5에서 제공하는 테스트의 생명주기에 대해 각각의 환경에 대해 확장할 수 있도록 제공하는 인터페이스다.&lt;/p&gt;
&lt;p&gt;다음과 같은 생성주기에 대한 확장을 제공한다.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;BeforeAllCallback - @BeforeAll 실행 전에 실행된다.&lt;/li&gt;
&lt;li&gt;BeforeEachCallback - @BeforeEach 실행 전에 실행된다.&lt;/li&gt;
&lt;li&gt;BeforeTestExecutionCallback - 각 테스트가 실행되기 직전에 실행된다.&lt;/li&gt;
&lt;li&gt;AfterTestExecutionCallback : 각 테스트가 종료된 후 실행된다.&lt;/li&gt;
&lt;li&gt;AfterEachCallback : @AfterEach 실행 이후에 실행된다.&lt;/li&gt;
&lt;li&gt;AfterAllCallback : @AfterAll 실행 이후에 실행된다.&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;Referenced By &lt;a href=&quot;https://ttl-blog.tistory.com/1407&quot;&gt;https://ttl-blog.tistory.com/1407&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4&gt;BeforeEachCallback 이용하기&lt;/h4&gt;
&lt;p&gt;현재 &lt;code class=&quot;language-text&quot;&gt;@BeforeEach&lt;/code&gt;에서 DatabaseCleaner가 수행되고 있으므로 &lt;code class=&quot;language-text&quot;&gt;@BeforeEach&lt;/code&gt; 이전에 실행될 수 있도록 &lt;code class=&quot;language-text&quot;&gt;BeforeEachCallback&lt;/code&gt;을 이용해보자.&lt;/p&gt;
&lt;p&gt;Extension을 이용하기 위해 기존에 DatabaseCleaner에 붙어있던 &lt;code class=&quot;language-text&quot;&gt;implements InitializingBean&lt;/code&gt;은 제거해줬다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token annotation punctuation&quot;&gt;@Component&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;DatabaseCleaner&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;List&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; tableNames &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ArrayList&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token annotation punctuation&quot;&gt;@PersistenceContext&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;EntityManager&lt;/span&gt; entityManager&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

	&lt;span class=&quot;token comment&quot;&gt;// 바뀐부분 : 의존성 주입이후 초기화 수행 시 Table을 조회한다.&lt;/span&gt;
    &lt;span class=&quot;token annotation punctuation&quot;&gt;@PostConstruct&lt;/span&gt;
    &lt;span class=&quot;token annotation punctuation&quot;&gt;@SuppressWarnings&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;unchecked&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;findDatabaseTableNames&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token class-name&quot;&gt;List&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Object&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; tableInfos &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; entityManager&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;createNativeQuery&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;SHOW TABLES&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getResultList&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Object&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; tableInfo &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; tableInfos&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; tableName &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; tableInfo&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
            tableNames&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;add&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;tableName&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;truncate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        entityManager&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;createNativeQuery&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;format&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;SET FOREIGN_KEY_CHECKS %d&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;executeUpdate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; tableName &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; tableNames&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            entityManager&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;createNativeQuery&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;format&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;TRUNCATE TABLE %s&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; tableName&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;executeUpdate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        entityManager&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;createNativeQuery&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;format&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;SET FOREIGN_KEY_CHECKS %d&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;executeUpdate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;token annotation punctuation&quot;&gt;@Transactional&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;clear&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        entityManager&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;clear&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token function&quot;&gt;truncate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이후 &lt;code class=&quot;language-text&quot;&gt;DatabaseClearExtension&lt;/code&gt; 클래스를 다음과 같이 생성해준다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;DatabaseClearExtension&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;implements&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;BeforeEachCallback&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

    &lt;span class=&quot;token annotation punctuation&quot;&gt;@Override&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;beforeEach&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;ExtensionContext&lt;/span&gt; context&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;throws&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Exception&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token class-name&quot;&gt;DatabaseCleaner&lt;/span&gt; databaseCleaner &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getDataCleaner&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;context&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        databaseCleaner&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;clear&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;DatabaseCleaner&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getDataCleaner&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;ExtensionContext&lt;/span&gt; extensionContext&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;SpringExtension&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getApplicationContext&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;extensionContext&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getBean&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;DatabaseCleaner&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;간결해진 테스트코드&lt;/h4&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token annotation punctuation&quot;&gt;@ExtendWith&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;DatabaseClearExtension&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token annotation punctuation&quot;&gt;@SpringBootTest&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;webEnvironment &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;SpringBootTest&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;WebEnvironment&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;RANDOM_PORT&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;AcceptanceTest&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

    &lt;span class=&quot;token annotation punctuation&quot;&gt;@LocalServerPort&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; port&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token annotation punctuation&quot;&gt;@BeforeEach&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;setUp&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token class-name&quot;&gt;RestAssured&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;port &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; port&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이제 &lt;code class=&quot;language-text&quot;&gt;@ExtendWith(DatabaseClearExtension.class)&lt;/code&gt; 어노테이션만 붙여주면 테스트별로 DB를 초기화할 수 있다.&lt;/p&gt;
&lt;p&gt;각 테스트별로 truncate 문도 잘 수행되는 것을 확인할 수 있다.
&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/88196dd40428e63ada6cbdf9a9d9b518/0ea77/086045e1.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 130.58823529411765%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAaCAYAAAC3g3x9AAAACXBIWXMAAAsTAAALEwEAmpwYAAACf0lEQVR42qWVx5LiYAyE/RhDMjmazJBzThOOe5j3fw6tPpXNQC0srpmDSr8NbkvdLdlZbjayP59ls9/L/nSSQrEoqVRK0un0j8IplUpSqVSk7Ec2m/0xmAHGYjFJxOOSTCbFdV1J/6I6AxyMx9JoNiUJ2C+ALoDdXk88z7MKuUEm4PEmwgJGIxEDOH9+yun9XQ5vb3JQkSazmZw+PuSo9+bLpZTL5VBiORWtzqtWpdVuS7PVMmGKqnShUJBiqXg5I1Ymk7GHgnwXcKZv3+x2MppMrCqqiKtQsWjUsp2DaxUP4RDRTSTuA7q+GLPFQpbrtUzmc2m/vtq5NxhIfziUqd5b60sX3Ov37b/8FvB+A0j5VAXIYDSyDA0AQQHR0XtDdQNg9UZDevob+R6nzny1ku3xKGNtl0qsZW0p8vJimZYRjmsXv9Kytus+sJmTy+WU/JK1MNQKTRhVtNXpiFerSU0DwQh7SDuiq8wjURI+0XBGpfD0qt5krsfTqQVnZj2UD0f6ACR3lZ+AaFqNqqq0FrTMdShAyIV0CEcIFkU+nzf/Bbnk3wu3HHy/rbZba22tGfCzTgkW2ikNf76+zAFQ8z9TGyDkYxWCtvM6FfyQ04qyKhgTkvPzMzADxF9Yh8y08ND1NHAmm1UeTMe/LevDCwVlBNngbCAWBDZCMF623m1tSTxbEA6kE51u11SuqUj4sqF+rKoHmRoy4nF+WiFv3RwO1jZehC+m4RL+fgzOTwHhLCD85ntyLUAIMb4nRYkO8+bQgIiAsdl5qaA9Qsm//hyEBmQRsJFr9fpFBDY4wnjBWUXLhGzbCdyPTeyDrwKxCPDkTidnq9fYh9EL8035CzLu9+XgZFMQAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;086045e1&apos; title=&apos;&apos; src=&apos;/static/88196dd40428e63ada6cbdf9a9d9b518/ca1dc/086045e1.png&apos; srcset=&apos;/static/88196dd40428e63ada6cbdf9a9d9b518/e7570/086045e1.png 170w,
/static/88196dd40428e63ada6cbdf9a9d9b518/f46e7/086045e1.png 340w,
/static/88196dd40428e63ada6cbdf9a9d9b518/ca1dc/086045e1.png 680w,
/static/88196dd40428e63ada6cbdf9a9d9b518/0ea77/086045e1.png 682w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h2&gt;🚀 정리&lt;/h2&gt;
&lt;p&gt;다양한 방법을 시도해보면서 결론적으로 BeforeEachCallback을 사용하는 방식까지 적용해봤다.
깔끔하게 정리된 테스트를 보니 기분이 좋다. 👍&lt;/p&gt;
&lt;h3&gt;최종 코드&lt;/h3&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 648px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/734e673304a268069acc4801e92b549c/244f0/21f5d279.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 129.99999999999997%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAaCAYAAAC3g3x9AAAACXBIWXMAAAsTAAALEwEAmpwYAAADXUlEQVR42p1V2XbaSBTkMxIQ6kVra2eVhFgtGbBPMjPJ5NgnXuZp/v8Xam6LwYfE2HH8UOd2Q3dRfZeik6cB0osSxV+fcHdzi2o+RxRFSNMUSZK8Gfp8GIboRMqDN8mQrZfY1ZfIsgye50Ep9dvQ9zpcCAjOMHHHmCVzBJGC67pgjIFz/gOEPvsLdI4Lx3GQxAO4ftCuLctqo23b7VpHKeXbCaXgCJIp4iHlMFBtPo750TnVUZP+SmnndMPp6X6QQqUFLMqH7flwfAXb98EtG6aQMOUJ6I4Gf4lQP0kTjqMMlW+jChWqwMdM+RgKhqTfQ2IaT0i52X7u0uv4WYWkwOp38UcSYv/lGy5nIzTlBHUxwm5RYL8osZvn2C9nuF5VKEMfV6yLuTTRo7vyOaGARSq3dLCZ5mgShToJ0KQH1LFCk4VP67krccW7yInQeE4oYZt9iOUF4tsHVJaJUheD8qq6XQS9HgKjB0Ux7BuIWJ++MxEJ/kpRCDYduCSF65wUDlyCh4vUeUKduag8gcKi3iU00sCEFPbPPlkeVH6NQ3y5/hN3qwD3dYr7TYzvqwPuNgkal6HqfkBp9vC3+IiF6L+UQyoKM3FDCm/rGg+Fi4dS4S73KPptvC+8Nj7S/tvExaPdxVIYLxNKZmBN7TLbbKnKCvtViqtNimYWUaUTbKsY23mMK/p8XUa4cExMSeGzouiNKTlWToZ/VYHS4yipqSsVYEDTEVExYsM4gNbH/YD60Dlp7h8UMipI7CoUyQhSTwqZhE1R0Cwzyq/O8TEe169OCqf8DaczXH7+ijgKMRgMoGjsBCmU/7/iHF6ZZUmOY6MsfPI2Hz6RaUN4i22dJWRMYjxysG0iMswQQRC086298V2E3BRI8wCL6zF872BhGtpw30fIBEKahHKdkMKgVait/Z2EuqkN8GkDtv0HCf3XRFQY33Pph9ibCvJModAX0wzWbAGu3dn1wBwXBuXRkFbbvD+DvVoUk2aU/O7x5jN2NH57sq6NZyM3yaKMjygozmgqjqgI6sRcxc+TYpDCHY3dcrHCiAxiOswI5OBphDIfY5xEiMmyYpqOkDAWJjbkNuwsoX4WOc2Omnm7+4TFOEVNzlzPCywnA9Tk1otRhiHvYyS09ZNfksIl4ZTwP0Yo+/6QNT1iAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;21f5d279&apos; title=&apos;&apos; src=&apos;/static/734e673304a268069acc4801e92b549c/244f0/21f5d279.png&apos; srcset=&apos;/static/734e673304a268069acc4801e92b549c/e7570/21f5d279.png 170w,
/static/734e673304a268069acc4801e92b549c/f46e7/21f5d279.png 340w,
/static/734e673304a268069acc4801e92b549c/244f0/21f5d279.png 648w&apos; sizes=&apos;(max-width: 648px) 100vw, 648px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;패키지 구조는 위와 같이 구성되었고 각각의 코드는 다음과 같다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// DatabaseCleaner.java&lt;/span&gt;
&lt;span class=&quot;token annotation punctuation&quot;&gt;@Component&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;DatabaseCleaner&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;List&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; tableNames &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ArrayList&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token annotation punctuation&quot;&gt;@PersistenceContext&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;EntityManager&lt;/span&gt; entityManager&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token annotation punctuation&quot;&gt;@SuppressWarnings&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;unchecked&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token annotation punctuation&quot;&gt;@PostConstruct&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;findDatabaseTableNames&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token class-name&quot;&gt;List&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Object&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; tableInfos &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; entityManager&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;createNativeQuery&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;SHOW TABLES&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getResultList&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Object&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; tableInfo &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; tableInfos&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; tableName &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; tableInfo&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
            tableNames&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;add&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;tableName&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;truncate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        entityManager&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;createNativeQuery&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;format&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;SET FOREIGN_KEY_CHECKS %d&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;executeUpdate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; tableName &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; tableNames&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            entityManager&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;createNativeQuery&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;format&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;TRUNCATE TABLE %s&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; tableName&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;executeUpdate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        entityManager&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;createNativeQuery&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;format&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;SET FOREIGN_KEY_CHECKS %d&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;executeUpdate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;token annotation punctuation&quot;&gt;@Transactional&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;clear&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        entityManager&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;clear&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token function&quot;&gt;truncate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// DatabaseClearExtension.java&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;DatabaseClearExtension&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;implements&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;BeforeEachCallback&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

    &lt;span class=&quot;token annotation punctuation&quot;&gt;@Override&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;beforeEach&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;ExtensionContext&lt;/span&gt; context&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;throws&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Exception&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token class-name&quot;&gt;DatabaseCleaner&lt;/span&gt; databaseCleaner &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getDataCleaner&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;context&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        databaseCleaner&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;clear&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;DatabaseCleaner&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getDataCleaner&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;ExtensionContext&lt;/span&gt; extensionContext&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;SpringExtension&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getApplicationContext&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;extensionContext&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getBean&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;DatabaseCleaner&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// AcceptanceTest.java&lt;/span&gt;
&lt;span class=&quot;token annotation punctuation&quot;&gt;@ExtendWith&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;DatabaseClearExtension&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token annotation punctuation&quot;&gt;@SpringBootTest&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;webEnvironment &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;SpringBootTest&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;WebEnvironment&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;RANDOM_PORT&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;AcceptanceTest&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

    &lt;span class=&quot;token annotation punctuation&quot;&gt;@LocalServerPort&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; port&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token annotation punctuation&quot;&gt;@BeforeEach&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;setUp&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token class-name&quot;&gt;RestAssured&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;port &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; port&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;


&lt;span class=&quot;token comment&quot;&gt;// DictionaryPlantApiTest.java&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;DictionaryPlantApiTest&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;AcceptanceTest&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Reference&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://ttl-blog.tistory.com/1407&quot;&gt;https://ttl-blog.tistory.com/1407&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://mangkyu.tistory.com/264&quot;&gt;https://mangkyu.tistory.com/264&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://stackoverflow.com/questions/41763417/api-test-transactional-rollback&quot;&gt;https://stackoverflow.com/questions/41763417/api-test-transactional-rollback&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://stackoverflow.com/questions/62142428/dirtiescontext-does-not-work-with-nested-tests&quot;&gt;https://stackoverflow.com/questions/62142428/dirtiescontext-does-not-work-with-nested-tests&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://unluckyjung.github.io/testcode/2021/05/08/Independent-Test-Mehod/&quot;&gt;https://unluckyjung.github.io/testcode/2021/05/08/Independent-Test-Mehod/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.baeldung.com/junit-5-extensions&quot;&gt;https://www.baeldung.com/junit-5-extensions&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[[트러블슈팅] @SpringbootTest의 RANDOM_PORT 환경에서 @Transactional 어노테이션을 사용했을 때, RestAssured GET 요청이 수행되지 않는 경우(트랜잭션 격리 이해하기)]]></title><description><![CDATA[이 글은 우테코 피움팀 크루 '하마드'가 작성했습니다. 개요 우아한테크코스…]]></description><link>https://pium-official.github.io/transactional-not-in-restassured/</link><guid isPermaLink="false">https://pium-official.github.io/transactional-not-in-restassured/</guid><pubDate>Mon, 31 Jul 2023 00:00:00 GMT</pubDate><content:encoded>&lt;blockquote&gt;
&lt;p&gt;이 글은 우테코 피움팀 크루 &apos;&lt;a href=&quot;https://github.com/rawfishthelgh&quot;&gt;하마드&lt;/a&gt;&apos;가 작성했습니다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;개요&lt;/h2&gt;
&lt;p&gt;우아한테크코스 5기 피움 서비스의 인수 테스트를 작성하던 도중, 실제 포트에 애플리케이션을 구동시켜 테스트를 하는 &lt;code class=&quot;language-text&quot;&gt;@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)&lt;/code&gt;
환경에서 테스트를 할 때, 테스트 메소드에서 분명히 해당 리소스를 저장했는데도 RestAssured의 GET 요청이 수행되지 않는 경우가 있었다. 이 이유를 파악하고 해결 과정을 정리한다&lt;/p&gt;
&lt;h2&gt;상황&lt;/h2&gt;
&lt;p&gt;&lt;figure class=&apos;gatsby-resp-image-figure&apos; style=&apos;margin-bottom: 16px;&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 612px; &apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/3b1906144ab7bcc604f65124969f17bf/dbf98/img.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 44.11764705882353%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAABP0lEQVR42pWS23KDMAxE+ZiG4gu2DAbiQJnc89L//53tGtKmfWg7eTgjIewdeaVimkpM0wbz2wZ994q69sTBuUzODbxXEFGMGs7X8BKYe9bCck6cwBPHe8VlLnGg4GV+wTwL9ucb5sMJ+9MVaZwRgkFKJcZdiaEv0Q9hqfdDwnY3IcYBqR0xtAmx6VE0uQNrEUzupIE0kSKMxLKutYFS9huaVEStUasvNCm0NYidUMDyeRVbVzBG86dmNAvWrjy+7ZrfozV2IeeFdxrHqcJ+8kjbCsNQ0guzdPYp8AyFzU+1NLrOT3QsZuyji2cF8xS73qONDqElQVBVq0c6o/Ud9cOGXwWFq3DmlN8vGrejo589p8eppZGT3KLj5MQHRIlom4a+/SO47Br9ElcjeFknzP3KLPt23y/Pc8Ldy1b8xQePMxWKeSYlywAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img.png&apos; title=&apos;&apos; src=&apos;/static/3b1906144ab7bcc604f65124969f17bf/dbf98/img.png&apos; srcset=&apos;/static/3b1906144ab7bcc604f65124969f17bf/e7570/img.png 170w,
/static/3b1906144ab7bcc604f65124969f17bf/f46e7/img.png 340w,
/static/3b1906144ab7bcc604f65124969f17bf/dbf98/img.png 612w&apos; sizes=&apos;(max-width: 612px) 100vw, 612px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&apos;gatsby-resp-image-figcaption&apos;&gt;img.png&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;당시 다음과 같은 인수 테스트 환경에서 테스트를 수행하고 있었다. 각 테스트 메소드가 끝난 후 트랜잭션을 롤백시켜 격리를 보장하기 위해 클래스 레벨에 &lt;code class=&quot;language-text&quot;&gt;@Transactional&lt;/code&gt; 어노테이션을 선언했었다.&lt;/p&gt;
&lt;p&gt;&lt;figure class=&apos;gatsby-resp-image-figure&apos; style=&apos;margin-bottom: 16px;&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; &apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/ca7f5b43bee99b38af5cf3a2048a5422/be814/img_1.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 81.17647058823529%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB+ElEQVR42pVU2W7bMBD071jiLVLULUpy4iRI0P//mukuZddtUNTqw0DwYjmag/IphIixqzDNLYaxgQ8edeXg65oQYayDUQpKlCjL5zi5UMNaheANtHHQ2kBJAS01lNIQpUBRFCjKo4SkwlqBGEo4Z3dF1kIrQ8psJi4PkmXCykdUVqIOBtYFCKlwPhc4kyp+/g/ZjbCGlBLeiWzbGUXqBKwh20rui2z5hqeEnkphQmdKNMGSdUPkGtFRrhSBFFQIl6J13jtUihCCljV87BC7gTAihBa+iqQ65qK0IWjOs3hCSJYFv5nscKttP1KWVA6pFLLMRFyUpGwPWb4T8jI/h3FCoOad96h8oBvgcpZH7P5RSil2NW3bIjZkl6JgOEeE8n5AHMkwUoYyq+OsQmzR9AO6dkRqVzRtj5ow9QumdqF8O1Ks/6GQCNkSF8O269hgXDZs6xs+lx9I2wvGtGJZX3FNH9i2N/QD5WxsPvMdJ7Zl6e6xbR6w3XFZsS5XfKQvpHUnnAivCxGma/7Ne0ru2f6OvRSxB84KQ91gSAuW9Ir3+RMzEU6kuJtmrDR7md4xs+p52a9R8RfL9wZ3woieDs/zBVc6PNDBKW3ox5nmCWm6YB42pHTJL2Kllr99Q38mWj1avmdQCvGrUSkeV0Xc5vkj+DYX4tH+T70P9csXQSMNAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img_1.png&apos; title=&apos;&apos; src=&apos;/static/ca7f5b43bee99b38af5cf3a2048a5422/ca1dc/img_1.png&apos; srcset=&apos;/static/ca7f5b43bee99b38af5cf3a2048a5422/e7570/img_1.png 170w,
/static/ca7f5b43bee99b38af5cf3a2048a5422/f46e7/img_1.png 340w,
/static/ca7f5b43bee99b38af5cf3a2048a5422/ca1dc/img_1.png 680w,
/static/ca7f5b43bee99b38af5cf3a2048a5422/02d09/img_1.png 1020w,
/static/ca7f5b43bee99b38af5cf3a2048a5422/be814/img_1.png 1199w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&apos;gatsby-resp-image-figcaption&apos;&gt;img_1.png&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;AcceptanceTest 클래스를 상속받아 사전 식물의 조회를 테스트하는 인수 테스트를 작성했다.
37번째 줄의 &lt;code class=&quot;language-text&quot;&gt;DictionaryPlant REQUEST = dictionaryPlantSupport.builder().build();&lt;/code&gt; 는
&lt;figure class=&apos;gatsby-resp-image-figure&apos; style=&apos;margin-bottom: 16px;&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; &apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/7769cb4beb02f5aecd8ee8bd8c479f8d/d8785/img_2.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 114.70588235294117%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAXCAYAAAALHW+jAAAACXBIWXMAAAsTAAALEwEAmpwYAAACO0lEQVR42p1V2XLbMAzM51giCfCW6CNxmqOd6bT//zdbgJYzidvEch92SI+lJbC7oO5irng8WsGANlvEOGAcFSOMMTfjLs0TjvcFz8eMl9c92nZCSAk+BCE1GM3YyTvM9UPuYqkg5xCdAckL7EMnVOieiQUenkJfrbFfE4ZUwUyYEiN6RggRISakFJFiAAkJn+FYCK9VKBoSOVRvMOeIaW5ouwO22xm7VmGdvbFlIXREcPIiWQNnLazAWHfCraYoIQthjQpGYnE65Y6UM4hZHhxvcLloWw6BDEqgriE7Wto0b+3eVKGV1jxZBDHFsYivkL33rldIfN3ddxVOUiHBuxGHzNiJKWqMVprj4rqg67qe0HVSVmPMgGEYsBk2At1v+uSsbrlMrZMlNmglIFepsM7Y1iS5jJIA36tbq+NbhfqDpe2SCrbtgP3uoa9ZJsZJTkkO/VfbdonZ+b8PhMbY3p7O8ePzd0wS7FRk7JKXGEVZZfwCnxAXLHt9xrG7JDzFxIsJD08vyHPp1ZnlklgZm0mm5CMhe4/74xOm3dxPVsL1OSyfED4+Y/9wRBSj1kamE2YhrIn6jUM60xLyXCtef//Ct58/UA9yP+aTdl710qATfYquoVscPEMvi1gKamuoGnRZWcaSPP317CVOo+cub5URw0ZCvdlgbnKLH7YIlZFb6CP5laYnl5dr6qyVaqo6GtFzajsU+UxQkHmXG6m7fi3YSnCGmqIVa3Tsu0N6VSumpROq0JdO/u9X7w+6HMK31cY5UAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img_2.png&apos; title=&apos;&apos; src=&apos;/static/7769cb4beb02f5aecd8ee8bd8c479f8d/ca1dc/img_2.png&apos; srcset=&apos;/static/7769cb4beb02f5aecd8ee8bd8c479f8d/e7570/img_2.png 170w,
/static/7769cb4beb02f5aecd8ee8bd8c479f8d/f46e7/img_2.png 340w,
/static/7769cb4beb02f5aecd8ee8bd8c479f8d/ca1dc/img_2.png 680w,
/static/7769cb4beb02f5aecd8ee8bd8c479f8d/02d09/img_2.png 1020w,
/static/7769cb4beb02f5aecd8ee8bd8c479f8d/d8785/img_2.png 1021w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&apos;gatsby-resp-image-figcaption&apos;&gt;img_2.png&lt;/figcaption&gt;
  &lt;/figure&gt;
다음과 같은 형태로 repository에 테스트용 엔티티 객체를 save하는 과정을 간편하게 하기 위해 작성된 DictionarySupport 클래스와 코드이다. 즉 37번 라인을 사용하면 임의의 객체 정보를 dB에 저장하는 insert 작업이 일어난다.&lt;/p&gt;
&lt;p&gt;즉, 현재 테스트 메소드는 repository에 사전 식물 객체를 저장하고, 이를 RestAssured를 활용하여 실제 서버에서 요청을 보내 저장된 사전 식물이 조회되는지를 확인하는 과정이다.&lt;/p&gt;
&lt;p&gt;&lt;figure class=&apos;gatsby-resp-image-figure&apos; style=&apos;margin-bottom: 16px;&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; &apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/f2b0fbb841ccdb7ac66fbb5af7d00017/5205e/img_3.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 62.35294117647059%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAABjklEQVR42p1T2XKCQBDkaxKVaxeWS1ZQIgSjVpL//5hJ9wrEVMWH5KGrB4bpOfHquhZrrZRlKUVRiFJKoij6gTiOHWgHQSC+7zt7/vbe51GsaRpp21byPHeOzWbjggja93j0fvZ5qTFigCzLloxhGC6Bf4UXIVhDKIaQ1tqBov8WrBHcAGSDGaSAmuYUPMLk/1VwnyTygpbJdRTLLlZSco5wPmEuz8DqDmtivV7mNtuLYJWm8ortjpjhHq13SgNKDuBe32wLrgCLpNu8kLKqhLPnzDkiVvy9FDz0cFyTVEadyDsSfKQGbBx/IvCS3jDiCjok3+HELBnCW9gU5+m4szFob4DQlZWCL2CKXpDgLZneo/pDlotFMMX2ENpBvFC4z8B3S1WwXYUGWz6i7BOCh4nPFIPQaeKBlUGkRVUW4i2ejSnkWZeyUuDISKgSSfGtl6NUtsqWWekIQYqwpZwC+JOOfS9d17mZcQnhvOkgXBA4oOXMtaydKFseJ1HijGoGtDiiuiNmyAsopgt4dDZfOs56o8n5OYsAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img_3.png&apos; title=&apos;&apos; src=&apos;/static/f2b0fbb841ccdb7ac66fbb5af7d00017/ca1dc/img_3.png&apos; srcset=&apos;/static/f2b0fbb841ccdb7ac66fbb5af7d00017/e7570/img_3.png 170w,
/static/f2b0fbb841ccdb7ac66fbb5af7d00017/f46e7/img_3.png 340w,
/static/f2b0fbb841ccdb7ac66fbb5af7d00017/ca1dc/img_3.png 680w,
/static/f2b0fbb841ccdb7ac66fbb5af7d00017/02d09/img_3.png 1020w,
/static/f2b0fbb841ccdb7ac66fbb5af7d00017/5205e/img_3.png 1222w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&apos;gatsby-resp-image-figcaption&apos;&gt;img_3.png&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;그런데, 200 OK를 기대했던 테스트의 결과가 404 not found가 응답되고 사전 식물이 존재하지 않는다는 예외 메세지가 뜨는 것을 확인하게 되었다.&lt;/p&gt;
&lt;p&gt;뭘까? insert 쿼리가 날아가지 않은 걸까? 로그를 확인해 보았다.
&lt;figure class=&apos;gatsby-resp-image-figure&apos; style=&apos;margin-bottom: 16px;&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; &apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/53bd1215f3b30f53aa9578bb03b24e6d/cd35d/img_4.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 27.058823529411764%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAs0lEQVR42m2PaxKDIAyEvU5FQ6C+EXS8/522LpbW6fTHNyQ7ybKpvPfo+x6qCuccrLUQkQzr31710vTGpWueqeZ5RggB67piGIbMNE1YliUP8EPW1MYT9U/IuWwaudHCGJOpUkrYtg3HcWAcx7y873vu+SvTs97PmRATanGoW4eHFDxMK1/DGCNoShMaMnHpeUrXdbmmxivUCpqGy/VF/X6LIdOVhOXUfwk5Q307UXUfg19eAqWgtd77uY4AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img_4.png&apos; title=&apos;&apos; src=&apos;/static/53bd1215f3b30f53aa9578bb03b24e6d/ca1dc/img_4.png&apos; srcset=&apos;/static/53bd1215f3b30f53aa9578bb03b24e6d/e7570/img_4.png 170w,
/static/53bd1215f3b30f53aa9578bb03b24e6d/f46e7/img_4.png 340w,
/static/53bd1215f3b30f53aa9578bb03b24e6d/ca1dc/img_4.png 680w,
/static/53bd1215f3b30f53aa9578bb03b24e6d/02d09/img_4.png 1020w,
/static/53bd1215f3b30f53aa9578bb03b24e6d/9d567/img_4.png 1360w,
/static/53bd1215f3b30f53aa9578bb03b24e6d/cd35d/img_4.png 2035w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&apos;gatsby-resp-image-figcaption&apos;&gt;img_4.png&lt;/figcaption&gt;
  &lt;/figure&gt;
그러나, 로그에는 정확히 우리가 DictionarySupport에서 지정한 저장 메소드의 Insert 쿼리가 날아가는 것을 보고 있었다. 심지어 value 값도 모두 정확히 들어갔다.
&lt;figure class=&apos;gatsby-resp-image-figure&apos; style=&apos;margin-bottom: 16px;&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 342px; &apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/294f14641caf877174683d3cedcc9f93/28260/img_5.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 161.76470588235296%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAgCAYAAAASYli2AAAACXBIWXMAAAsTAAALEwEAmpwYAAACQklEQVR42p2WWZaCMBBF3YwjCs7zPKHufz/V3LSPk0agwY8cSEFuXg0paIzHY4vvd7vdbnY8Hu1yudhoNLJer2dBENQejSiKLAxDm06nDna9Xm0+n1un0/kK2ggTYLfbdVBAm83GttutoXw2m1m/368FdkBNWq2WTSYT5zrQ8/ns5oPBIB2VgCiQElTt93tbrVZuKAyHw8Gp/09tCgwSIK4TSxYDU5K4B/Z4PFwoyqB/FAJEIa7iMmDud7udU8mIJKAqUApRhDqAhCCO45ouJ5M8l5/Pp63XawerUp+5QBQBOZ1OruC1geJZOyk+EJdJBjHFbeBfJ0VAVGFXKVWuQwFRgUJcvCfnnILmmcZXSSEJXKVSz79OCkCyLChz7Mw59zSPWkBiBQgoAxtKCQOFXnRiCpNCDHVCtAF2NsG+WCzqJUUKSQoK2YDyAdput9M1lVwWQAnhhPCM9iYY87w4FhZ2notspLpU88iqLG1fLCaGSgRwQMvl0nV3NiHjfnJygSzEZRSpuQIE5n9r8uryIynsDIi6IyEAUaISAo7t9Xq5d7InpzApvAxEan2VKnDshQqzSfEbLDEDIAg21BPnUoX+R0oLUYvL2GRnI/okm5fGkBrjSMllKVT3ltvY9In9UBi9P/TD4dA1UBZSwNjYgKEiVoaxFf1ZfLisOkQJV9zEZf+exFANeb0xBVKgvEyMGIBxFRtxJTHcExJghd1GLnNe1VnUoVngn1vZyhrt77/N+2Gz2Uz/wvzWxTOSltddssAftxr30AJmABEAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img_5.png&apos; title=&apos;&apos; src=&apos;/static/294f14641caf877174683d3cedcc9f93/28260/img_5.png&apos; srcset=&apos;/static/294f14641caf877174683d3cedcc9f93/e7570/img_5.png 170w,
/static/294f14641caf877174683d3cedcc9f93/f46e7/img_5.png 340w,
/static/294f14641caf877174683d3cedcc9f93/28260/img_5.png 342w&apos; sizes=&apos;(max-width: 342px) 100vw, 342px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&apos;gatsby-resp-image-figcaption&apos;&gt;img_5.png&lt;/figcaption&gt;
  &lt;/figure&gt;
select 쿼리가 잘못된게 아닌가? 확인해봤지만 예상한대로 나갔다.
여기까지 봐서는 이해가 안 간다. insert를 하고 select를 했는데 조회가 안 되니 말이다.&lt;/p&gt;
&lt;h2&gt;RandomPort 환경에서의 스레드와 트랜잭션&lt;/h2&gt;
&lt;p&gt;이를 이해하기 위해서는 RandomPort 환경에서의 요청이 어떤 스레드를 갖는지를 알아야 한다. 이 내용은 스프링 공식 문서를 들여다볼 필요가 있다.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;If your test is @Transactional, it rolls back the transaction at the end of each test method by default. However, as using this arrangement with either RANDOM&lt;em&gt;PORT or DEFINED&lt;/em&gt;PORT implicitly provides a real servlet environment, the HTTP client and server run in separate threads and, thus, in separate transactions. Any transaction initiated on the server does not roll back in this case.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;테스트에 @Transactional이 붙어 있으면 롤백을 보장할 수 있다. 단, RANDOM&lt;em&gt;PORT 나 DEFINED&lt;/em&gt;PORT 환경에서 테스트를 수행하면, 실제 서블릿 환경에서 테스트를 진행한다. 이 때 http 클라이언트(테스트)와 서버는 서로 다른 스레드를 갖는다. 즉 별개의 트랜잭션이 수행되는 것이다. 따라서 서버 쪽에서의 트랜잭션은 롤백되지 않는다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;쉽게 설명하자면, 랜덤 포트 환경에서 테스트를 수행하는 순간, localhost 포트 어딘가에 내장 서버를 띄운다. 그리고 그 서버에서 요청을 보내도록 하는 것이 RestAssured 이다. 따라서 RestAssured에서 보내는 요청은, 내가 해당 테스트 메소드에서 실행하는 스레드와 별개의 스레드를 갖는다. 따라서 트랜잭션도 각자 별개로 갖는다.&lt;/p&gt;
&lt;p&gt;자, 아까 우리가 AcceptanceTest의 클래스 레벨에서 &lt;code class=&quot;language-text&quot;&gt;@Transactional&lt;/code&gt;을 선언했음을 기억할 것이다. 클래스 레벨에 이 어노테이션을 선언하면, 자동적으로 해당 클래스와 그를 상속한 메소드 레벨에 모두 트랜잭션이 걸린다.
&lt;figure class=&apos;gatsby-resp-image-figure&apos; style=&apos;margin-bottom: 16px;&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; &apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/d6076111fb8289c4122ae2aa222c682b/95234/img_6.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 63.52941176470588%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAACCElEQVR42o1Sy3KcMBDcD/HBr6rdBYQQC0KABAj2ETu2kzjH5JBUKofccs7Pd1qsfVvX+jBISKOe7p5ZmDJCXUg0pYTOBeoyRcV/IQTiOEaSJFgx9HqN71dXWHKf8Dx+IxZK5TC1QVVp6BBFQUCNYqORqwJ5vkG6KTAw+e/FxXlAKSUKXcG0DlXdQpsGWZYjJ0iapkyKEBFEMvnh9vY8YEQpMlMwjUWSJhBScKVUEUORXQBOCKyY9/Xm5h2A0RqZUvDjFnVrUVYGWpt5zWQKmYqZoYoiPL8HMJiuyLDSJQr6pzYbZHnOlfvAmAWXDLle4cv1NZahUec8VASoG4fGOa4t+sqjNmRr6tlX13j4yuFb8DTLEJPtm4Dhs6Y/hkBumDCMezyNz9hN9+inHXpaMY53+DQ84HfVwnTDrCQoOw3Ii4gVNT0LHra2x95+QGc9O2/nZrXO49BM+JGXKFk4o6rkZU5PMDwC1hybzk/w0x6P/jO2ZDXu79CRtSPTx+EefwqL7nDPnB0UGxmUBZDwPnqxYfF6ELyylNP1Iz4OTxiHPQtsacOIhudTP+Fn4WD9DqPfo7HdcVbJNoTgNAiRYCFEOv9oY2Z5DZlO7Q627fnIUW6HgsUOtORflFKJh+OddQPvepRaz/MaGEs2bCHTUOGIHow+FRH9qinv1+UlVtwnSXwiL5wJ/AedCZ3HwfdnegAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img_6.png&apos; title=&apos;&apos; src=&apos;/static/d6076111fb8289c4122ae2aa222c682b/ca1dc/img_6.png&apos; srcset=&apos;/static/d6076111fb8289c4122ae2aa222c682b/e7570/img_6.png 170w,
/static/d6076111fb8289c4122ae2aa222c682b/f46e7/img_6.png 340w,
/static/d6076111fb8289c4122ae2aa222c682b/ca1dc/img_6.png 680w,
/static/d6076111fb8289c4122ae2aa222c682b/02d09/img_6.png 1020w,
/static/d6076111fb8289c4122ae2aa222c682b/95234/img_6.png 1079w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&apos;gatsby-resp-image-figcaption&apos;&gt;img_6.png&lt;/figcaption&gt;
  &lt;/figure&gt;
따라서, 현재 테스트 메소드의 트랜잭션 범위는 다음 화살표와 같이 테스트가 끝날 때 까지 유지된다.&lt;/p&gt;
&lt;p&gt;우리는 여기서 트랜잭션의 개념에 대해 다시 짚을 필요가 있다.
&quot;트랜잭션이 끝나지 않았다&quot;는 의미는 무엇인가?
내가 수행한 insert, update, delete 문이 커밋, 혹은 롤백되지 않았다는 뜻이다.&lt;/p&gt;
&lt;p&gt;커밋되지 않았다는 뜻은 무엇인가?
데이터베이스의 갱신이 이뤄졌어도, 다른 스레드에서 확인할 수 없다는 뜻이다.
왜? 트랜잭션은 각자 격리되어 서로의 트랜잭션이 끝나기 전 까지는 연산 과정을 볼 수 없기 때문이다.(트랜잭션의 Isolation(격리성) 특징을 기억하자)&lt;/p&gt;
&lt;p&gt;따라서, 현재 트랜잭션이 끝나기도 전에, 즉 반영되기도 전에 RestAssured를 통해 띄운 별개의 서버 스레드에서 GET 요청이 들어가니 해당 데이터를 확인할 수 없는 것이다.
정확히 말하면 트랜잭션이 커밋되지 않았을 때 까지의 데이터는, 다른 스레드 입장에서 그냥 없는 데이터다. 없는걸 조회하니 당연히 값이 안 나온다.&lt;/p&gt;
&lt;p&gt;&lt;figure class=&apos;gatsby-resp-image-figure&apos; style=&apos;margin-bottom: 16px;&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; &apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/ceb0b6e59d5718b93c731d3ca7bb2780/6b882/img_7.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 48.23529411764706%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAABRklEQVR42qWS7U7CMBSGdzms+4xrYV27dRvocHyJQYKoP9QQvf8beD10RDRBEvXHk+esSU/fs9ZpV/cY325wdbPG5eIOzZI8X0GPWqjhGGY8p3pCdQtZXyMtm7M4evaI6fYNk80O5ewB5XQL2axRzJ6QFiPEoYcoDOF7DAHhey585h79FVpzouYZavGKcrmDnncW7Qvk4h08bzAQCbjUYIlEL+KEQC8ekPud471TCwtjSpgrqFwj00drcm5yJDxBJiV0UeCCC3h+YGGfDm3dOaQ1H44yFVRZf8fU0NUIiehDKYXSGGufNnied5au4Ql0NbSppExR1zU45wgCSsOY5fcNy6FNyJOEmkrbLKTLiaLI+s8JhRAwh5EL+pf773805PbJZFkGrTWqqkIcx3DdHm1mJ3Fkbn4YuYYYpN2o+zEPBHTAOT4Av3tJV9XHv5kAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img_7.png&apos; title=&apos;&apos; src=&apos;/static/ceb0b6e59d5718b93c731d3ca7bb2780/ca1dc/img_7.png&apos; srcset=&apos;/static/ceb0b6e59d5718b93c731d3ca7bb2780/e7570/img_7.png 170w,
/static/ceb0b6e59d5718b93c731d3ca7bb2780/f46e7/img_7.png 340w,
/static/ceb0b6e59d5718b93c731d3ca7bb2780/ca1dc/img_7.png 680w,
/static/ceb0b6e59d5718b93c731d3ca7bb2780/02d09/img_7.png 1020w,
/static/ceb0b6e59d5718b93c731d3ca7bb2780/6b882/img_7.png 1270w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&apos;gatsby-resp-image-figcaption&apos;&gt;img_7.png&lt;/figcaption&gt;
  &lt;/figure&gt;
그래서 &lt;code class=&quot;language-text&quot;&gt;@Transactional&lt;/code&gt; 어노테이션을 제거하고 테스트를 수행했더니, 다음과 같이 통과하는 것을 볼 수 있다.
&lt;figure class=&apos;gatsby-resp-image-figure&apos; style=&apos;margin-bottom: 16px;&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; &apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/539d3abcceb71f6a558289e0848ac19d/adc5a/img_8.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 65.88235294117646%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB5ElEQVR42o2TWXLbMBBEdZpEXACCBMANJMBdtuQ4qdz/Lp0ZWJU4VbGcj+EGqPF6enRyvUBrFVpToFI56krAVhJCCqRp+lclWRYre1CnUgk0tUFjK9TWkJhCU2kS1yiLCpU2UFSdlJi+fkF/PkPyAR8JCllA2wZtN6DpHOq2R1kaaG2hVPm2Mc9R0r1KEogsRf6IkC9FoTD4CZUhMqtRlAWkohYYGwkl0TFR+ondKMi9YYLejTDWolAqkqmyjEJSCOS0nv2HWBTkzbIo0PYD2SbLTUfCNWzbUQ8FZJbgTFaTNEGapJ8LMkVJIdRNG8U02Wx1D6vraFcTdWt7NKajdx1po6tHPTxTciw2rQfm7cDr+hNP2yum/RK/7dsN1+U71u0Zzgc61HzYhlN2P5HJOupjN3gc4zOmcaPnEa0bMIwTVnfA+xVd7yhE+UCQh5V6xIRh3hCWHS/zD+zzFfP+hHFa4JcNl+WGy3SL1IHeSwotIWf5v0JJSZCDcETiaHyu4RvWcGCcF4xhRj8GhLDh8Ff4sCJMWwxQ0UTwFAieBJFH6lP+zjInzbZXt8M7FvJ0SIg/bum7cx5jP2GkNT6Y14ypibaiMVNxzE78n2VUFv5d2Z9ncZ/DtyIaquzd3miVU78n/wtNaJuLDpSLtQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img_8.png&apos; title=&apos;&apos; src=&apos;/static/539d3abcceb71f6a558289e0848ac19d/ca1dc/img_8.png&apos; srcset=&apos;/static/539d3abcceb71f6a558289e0848ac19d/e7570/img_8.png 170w,
/static/539d3abcceb71f6a558289e0848ac19d/f46e7/img_8.png 340w,
/static/539d3abcceb71f6a558289e0848ac19d/ca1dc/img_8.png 680w,
/static/539d3abcceb71f6a558289e0848ac19d/02d09/img_8.png 1020w,
/static/539d3abcceb71f6a558289e0848ac19d/adc5a/img_8.png 1068w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&apos;gatsby-resp-image-figcaption&apos;&gt;img_8.png&lt;/figcaption&gt;
  &lt;/figure&gt;
이해를 쉽게 하기 위해 바뀐 트랜잭션의 범위를 화살표로 표현하면, DictionaryPlant를 저장하는 과정에서 트랜잭션이 끝나고 커밋이 되어 db에 영속화가 완료된다.
따라서 이후 랜덤 포트의 스레드에서도 해당 데이터를 조회할 수 있다.&lt;/p&gt;
&lt;h2&gt;트랜잭션의 격리 이해하기&lt;/h2&gt;
&lt;p&gt;&lt;figure class=&apos;gatsby-resp-image-figure&apos; style=&apos;margin-bottom: 16px;&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; &apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/4f297df537bbdf2952dc4a88a14279c2/bb51b/img_9.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 31.176470588235293%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsTAAALEwEAmpwYAAABKUlEQVR42pWQ2W6CYBCFef+3atKkjbF1A5X152dREGRxAeHCr6NJm3jZk0xmO3NmMsa16+me1lEXJaHr4fkKO1L4WhNFCUEoPk5ROkaFEV6knz0l9UBJL0kJo5gk3WEUh4yyyCiqI73EVx1walusc8iuzmjrmizfczo35OLPdYWqRLiIORYHDjJzubacu5ZaekYZWxyzJSvPY2FO0OGM/c7G207Yrj/w3LnULJbuO475Rq6XxNEKz5kSKotYb3DsCYG/INuHGHUp5/sBruuSZXvZmMvGC/Z2JsRvzNUnrjNns5lK7UvEHcryyO3WMQyD2I2+7yTvGcdBLiwSIZtY1pqmaUSwoKoqIfU8cL/fn/aL15gXPHJDp7k8VpGmqfwof4qN4/gn+F/8AJlXwUVIVOQyAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img_9.png&apos; title=&apos;&apos; src=&apos;/static/4f297df537bbdf2952dc4a88a14279c2/ca1dc/img_9.png&apos; srcset=&apos;/static/4f297df537bbdf2952dc4a88a14279c2/e7570/img_9.png 170w,
/static/4f297df537bbdf2952dc4a88a14279c2/f46e7/img_9.png 340w,
/static/4f297df537bbdf2952dc4a88a14279c2/ca1dc/img_9.png 680w,
/static/4f297df537bbdf2952dc4a88a14279c2/02d09/img_9.png 1020w,
/static/4f297df537bbdf2952dc4a88a14279c2/bb51b/img_9.png 1320w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&apos;gatsby-resp-image-figcaption&apos;&gt;img_9.png&lt;/figcaption&gt;
  &lt;/figure&gt;
&lt;figure class=&apos;gatsby-resp-image-figure&apos; style=&apos;margin-bottom: 16px;&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; &apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/3ceedd46236c90d9fb1d34efce28e1ad/bb51b/img_10.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 31.176470588235293%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsTAAALEwEAmpwYAAABK0lEQVR42pWQWW/CMBCE8///VaVKrRAtZziSkIOQ2M5JCCSQB74uSK3EY0ca7eHZWdvWpevphJeu41TVJOGecH/AVwf2aYrShjh5xEyiIkk1sdZESfLsH1L1PFMm49i0WHmmKXJNXpX0kl8in1PTYLchaa1p6hptFKf2SGZS2roiqGKCPKbMMzKZOV9OtF1DXZdYRWxT6jkLz2O2HBGFE1S6xduM2Kw+8Nyp9Gzm7jvO8g0TzYn3CzxnTBjYxNEaZzvC383QKsSqi4jdzsd1XbRWstHIxjPbzUSE3ywXn7jOlPV6LL0vMXcoipLrteN2uwmv9H0ndc8w3OSG+UHES2x7xfEoz8pyqqoSUc8D9/v9yV+85rzgUVtRYvCDgEQ+2RjzNBuG4c/wv/gBd/7CXiOatnUAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img_10.png&apos; title=&apos;&apos; src=&apos;/static/3ceedd46236c90d9fb1d34efce28e1ad/ca1dc/img_10.png&apos; srcset=&apos;/static/3ceedd46236c90d9fb1d34efce28e1ad/e7570/img_10.png 170w,
/static/3ceedd46236c90d9fb1d34efce28e1ad/f46e7/img_10.png 340w,
/static/3ceedd46236c90d9fb1d34efce28e1ad/ca1dc/img_10.png 680w,
/static/3ceedd46236c90d9fb1d34efce28e1ad/02d09/img_10.png 1020w,
/static/3ceedd46236c90d9fb1d34efce28e1ad/bb51b/img_10.png 1320w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&apos;gatsby-resp-image-figcaption&apos;&gt;img_10.png&lt;/figcaption&gt;
  &lt;/figure&gt;
해당 동작에 대해 조금 더 설명하기 위해 별개의 스레드에 h2 database 콘솔을 띄워 확인해 보겠다. 위의 두 콘솔 화면은 세션 id가 다른 별개의 스레드를 갖는다. 편의상 위를 스레드A, 아래를 B라 하겠다&lt;/p&gt;
&lt;p&gt;&lt;figure class=&apos;gatsby-resp-image-figure&apos; style=&apos;margin-bottom: 16px;&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; &apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/dd9a54c5ddfb5b0d712987298da827f7/bb51b/img_11.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 61.1764705882353%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAAB2UlEQVR42p2S627aQBBG/f5PVLWVWlVVGlLCJQHHXGyv1/cLYEJsAwmcjEFp/iRN1ZGOvLMz++23Ixt1XVPXDZWwXq4IPY3nhziRjw5DojjBDyPiJCWIYsIwRsdCFBHI/qmWZoTSl2Y5RpEl5FlMvizY5gmVdtis15gbj7hMWa+WIhax2ZRkacxGcrX08RYhq0VBUWQ0zQPV7p6yXIlgYFKmI0aOw615TaBviKMp9qTLdHKFp0x832I4/8ls9INUj/D1mKl1hW2PpH7HxOpgzwckscIoFx5KebjKJREneZZSVQ8M+xcMfn+nc/GF8W0Hy7oWkS5aTSkWC3a7hv1+d6JparbbRva2GFmiGA569PsDsV8QyWwWciCS+SVaEyhFnufsdzs5tKVpac7fU940HI9HXsJQYYbjuARBQCzDbsUeHx/FsUJ5HnPbFncWrutKn8NsNjsxmUxOmKYpLvevggdRb284HA48PT39WddVLeW2djjtnV28OjnHOX+ptxi8Ea1w+5T/iTcFW4dp7LEsNHmqZe0Qh478QsmHGG/fc6TX7fH50yXdziXfvv7ipnfJ/XIu2H/lXUHtjplbPZLQkkaPaq15KL0PMd6bhecMKZI7mo0WMSXN/8Yzt32JpfyIHOcAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img_11.png&apos; title=&apos;&apos; src=&apos;/static/dd9a54c5ddfb5b0d712987298da827f7/ca1dc/img_11.png&apos; srcset=&apos;/static/dd9a54c5ddfb5b0d712987298da827f7/e7570/img_11.png 170w,
/static/dd9a54c5ddfb5b0d712987298da827f7/f46e7/img_11.png 340w,
/static/dd9a54c5ddfb5b0d712987298da827f7/ca1dc/img_11.png 680w,
/static/dd9a54c5ddfb5b0d712987298da827f7/02d09/img_11.png 1020w,
/static/dd9a54c5ddfb5b0d712987298da827f7/bb51b/img_11.png 1320w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&apos;gatsby-resp-image-figcaption&apos;&gt;img_11.png&lt;/figcaption&gt;
  &lt;/figure&gt;
스레드 A에서 트랜잭션을 시작하기위해 Autocommit을 False로 변경한 후, 두 명의 member 데이터를 insert 했다.
&lt;figure class=&apos;gatsby-resp-image-figure&apos; style=&apos;margin-bottom: 16px;&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; &apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/84f758604ced9d204da78e6b1297ec26/bb51b/img_12.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 61.1764705882353%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAABsElEQVR42p2S627aQBBG/f6vFCmq0qa0KmBIXRIgvt/XVwzYgDAnQ4r6i1ApIx1pdnb1zbe7o7VtS9t2bIVVWRG6Hq4fYkU+XhgSxQl+GBEnKUEUE4YxXixEEYHU3/dSRSjnUpWh5SohUzFZmbPLEraexXq1YrZ2ieuUVVWKWMSqqVBpzFrWTunjFiFVkZPniq7bsN031HUlgsGMOjUwLIvfsxGB90QcLTAXQ5YvP3GdmbhaYNgDln8eUJ5B4Bss57+wTEP2n5nLOfN1QhI7aHXh4jgutmOTiBOlUrbbDfr4kYn+jcH3O0ajB8ajr8yfhzj2C1mWiauW3W4ndJe8Y7/foanEYToZo+sTsZ8TydsURUGapjRNIw2U5IqqqjjH6XR656PQnFBhWTZBEBDLY5dlyeFwkK4dnwmtv3Ts+57j8fg3P/Zy7e3ZjtSPF/p/7m6hXetyFv60w2vFs5vzj+XKJUtdksgiDi0ZoeS/aNf7nJjqU77cy2eNhtzfDXjSf9CUr4J5k+uCpx7ft1ksTFYy5Jbtsm4yNrUjuDf50KG5nIrLR7m2zGckzirvInibN7s0jkTeQnWyAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img_12.png&apos; title=&apos;&apos; src=&apos;/static/84f758604ced9d204da78e6b1297ec26/ca1dc/img_12.png&apos; srcset=&apos;/static/84f758604ced9d204da78e6b1297ec26/e7570/img_12.png 170w,
/static/84f758604ced9d204da78e6b1297ec26/f46e7/img_12.png 340w,
/static/84f758604ced9d204da78e6b1297ec26/ca1dc/img_12.png 680w,
/static/84f758604ced9d204da78e6b1297ec26/02d09/img_12.png 1020w,
/static/84f758604ced9d204da78e6b1297ec26/bb51b/img_12.png 1320w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&apos;gatsby-resp-image-figcaption&apos;&gt;img_12.png&lt;/figcaption&gt;
  &lt;/figure&gt;
이 때 A에서 select 문을 실행하면 데이터가 들어가 있는 것을 확인할 수 있다.
&lt;figure class=&apos;gatsby-resp-image-figure&apos; style=&apos;margin-bottom: 16px;&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; &apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/a14fa4ce271f012ac9459d49853e0136/bb51b/img_13.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 61.1764705882353%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAABrUlEQVR42p2SaW/aUBBF/f9/UdVWqpQuJCoYkrpsCd6w/bzhDbwEYU6GFvUTJFVGOvJ43ujea+tpTdPQNC21UGY5vuPirH3MYI3r+wQqZO0HqDCSp48fhHhhiC29J3MvUARypqKYstyipXFIEiuSLKVLQmrXZFuWTLcOqogo80zEAsoqJ5a9rbzbmYeTBeSblDSNadoddVdRFJkIelOKyMAwTX5NR3juAypYsloOeZzf4dhTfH+JYQ14NG6IXYP12uBx8RNzZcj5jIXsrZ4mhMpGKzYOtu1g2RahJInjiLreMda/Mxl/Y/DjE6PRDfroK4vZENuakyQJbdvQdZ3QnvuW5+cOLQ5t7ic64/FE4qcEQcBmsyGKIqqqEoNY+pg8zznV8Xj8w7XSbD/GNC08z0MpRZZl7Pd7cW15T2n92bHvew6Hw9/+0Mtn16c4Mj+c6f+lew3tkstJ+N0JLw1PaSLlkKUuSeRKb6J8U65Q+CbaZZ8j+lDn44cBw7tbvnwe8KDfUmVPwupVrgq61m+Wck2UN5dFh7p02RXOm2jX/oVj3pOGM9qtK2K2LP8fLwCCjo9W5E5IAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img_13.png&apos; title=&apos;&apos; src=&apos;/static/a14fa4ce271f012ac9459d49853e0136/ca1dc/img_13.png&apos; srcset=&apos;/static/a14fa4ce271f012ac9459d49853e0136/e7570/img_13.png 170w,
/static/a14fa4ce271f012ac9459d49853e0136/f46e7/img_13.png 340w,
/static/a14fa4ce271f012ac9459d49853e0136/ca1dc/img_13.png 680w,
/static/a14fa4ce271f012ac9459d49853e0136/02d09/img_13.png 1020w,
/static/a14fa4ce271f012ac9459d49853e0136/bb51b/img_13.png 1320w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&apos;gatsby-resp-image-figcaption&apos;&gt;img_13.png&lt;/figcaption&gt;
  &lt;/figure&gt;
그러나, B에서 동일한 select문을 실행하면 데이터를 확인할 수 없다.
왜냐? 스레드 A의 트랜잭션은 끝나지 않았기 때문에 A에서 보이는 데이터는 &quot;임시 반영&quot;된 데이터일 뿐, &quot;영속화&quot;되지 않았기 때문이다.
&lt;figure class=&apos;gatsby-resp-image-figure&apos; style=&apos;margin-bottom: 16px;&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; &apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/cad5de9cbe3d1b7864510b0f468b3b0e/bb51b/img_14.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 61.1764705882353%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAABiUlEQVR42p2S2W7bMBBF9f9/1NcCblC4iTfVW2LtFClqsWRHkm3YOqWE5M0B3AxwwCE5y+WAVtM0NE1LbaiKPcIP8EOBE4cEQhBLRShipEqIYokQkkAa4pjInA93iUaYuESnWJlWpFqSFhmnVFEHDseqYnn0kZXmUO5RKuZwLNGJ5Lgv8IoQPxfs84ws07TtO/X5QGlirSxaUiY2tuOwWD4TBXNkvGW3fWa7/o27swmDFfO3Ea9/f6IDmyi0ed2Mccyd763YmLjd2xQlPawy9/E8H9dzByVaJ9R1zXQyYjF/YjH7ZRJeWC3HbFZ/8Nw1aZoaVQ2n08nQfvgt5/MJSyuP2fSFyWRq5GfEZjZ5ng9J/Wy7DkM3rL31S/e5uWOWJzSO4xJFEdIMuygKLpeL6dryHbNuQ/eO2+3G9Xr98K/Ds+FT3eNY97r0hb+t8N5hr1arkCIT5tskVHv1MNZXnezZiPHTDzK1Nn/P4VDsHuJuwX4WSmyGYnXl814+zpdPPpYhzaEP8v6LfxfakdB3SsWxAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img_14.png&apos; title=&apos;&apos; src=&apos;/static/cad5de9cbe3d1b7864510b0f468b3b0e/ca1dc/img_14.png&apos; srcset=&apos;/static/cad5de9cbe3d1b7864510b0f468b3b0e/e7570/img_14.png 170w,
/static/cad5de9cbe3d1b7864510b0f468b3b0e/f46e7/img_14.png 340w,
/static/cad5de9cbe3d1b7864510b0f468b3b0e/ca1dc/img_14.png 680w,
/static/cad5de9cbe3d1b7864510b0f468b3b0e/02d09/img_14.png 1020w,
/static/cad5de9cbe3d1b7864510b0f468b3b0e/bb51b/img_14.png 1320w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&apos;gatsby-resp-image-figcaption&apos;&gt;img_14.png&lt;/figcaption&gt;
  &lt;/figure&gt;
만약 위와 같이 스레드 A에서 커밋을 하고 나면
&lt;figure class=&apos;gatsby-resp-image-figure&apos; style=&apos;margin-bottom: 16px;&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; &apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/8a07b84cb0cb833d12cc4a29bef34245/bb51b/img_15.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 69.41176470588235%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB5UlEQVR42p2T3VLbMBCF/f6v1JvOlIEWSBpKgBAnshNbsuw4/sN24jjkQzK9hLSDZs7srqxzdi3tOvt9R9cdaNo9eZYTrAO8VYCQAYGUqEgbq1A6HuJQRYRmzw9D1qEcvtk9qTTlS42zSWI2m4S8zOiNrX1BVZRM6xWqiCmyDKUkVVmi4/fYyyR+psi3W5JNbIqpabqaPM9w0nBGkTwyFSsen0ao9T2RmuOJCUt3TBi4RJFgFtziza7I5DNh+Mh8do1YTFn5M9znG+PfGZ6Ps9ULxNLl2Z2zXvuGHFJVOXe/L7ib/ODXz2+DPxp/5+nhEm85JdaKpi5o2xd2trq6pG0q9vsWJ9Ee4/Et49GINE2R5k6s9TxBHJu78j2EEKaq0Ai0tLsd3eHA8fhKfzwaexx8a/v+iLOSsSH5aK1JkoSiKDgYgiV/ZTn7Q8+h69iZzBZ93w/ZmqYZDpxOr39xssE7+BzOR1ms4Jcr/Exwk4SUhSbbRqY/FVkaUeWpaanzcD7Oc+Lhz5ibq2umk2suLy64n1zykgsD7yw+EXzFnS8ZjexL56YLXNJE05QedeGfxYeC9hGC1ROL+cRMhmQTm+ylNIQvCtolzJQE3oRyuxwO2t/5l9iZCk9oaUYyXdBW6/8Ws4JvYHcmGbAUPokAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img_15.png&apos; title=&apos;&apos; src=&apos;/static/8a07b84cb0cb833d12cc4a29bef34245/ca1dc/img_15.png&apos; srcset=&apos;/static/8a07b84cb0cb833d12cc4a29bef34245/e7570/img_15.png 170w,
/static/8a07b84cb0cb833d12cc4a29bef34245/f46e7/img_15.png 340w,
/static/8a07b84cb0cb833d12cc4a29bef34245/ca1dc/img_15.png 680w,
/static/8a07b84cb0cb833d12cc4a29bef34245/02d09/img_15.png 1020w,
/static/8a07b84cb0cb833d12cc4a29bef34245/bb51b/img_15.png 1320w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&apos;gatsby-resp-image-figcaption&apos;&gt;img_15.png&lt;/figcaption&gt;
  &lt;/figure&gt;
이제는 스레드 B에서도 동일한 데이터를 확인할 수 있다.&lt;/p&gt;
&lt;h2&gt;결론&lt;/h2&gt;
&lt;p&gt;결국 메소드 레벨에 &lt;code class=&quot;language-text&quot;&gt;@Transactional&lt;/code&gt; 어노테이션이 붙은 탓에 save 메소드를 성공적으로 수행해도, 트랜잭션이 끝나지 않아(정확히 말하면 커밋되지 않아) 랜덤 포트 서버의 스레드에서 확인할 수 없는 것이다.
따라서 랜덤 포트 환경의 격리성을 보장하고자 할 때는 &lt;code class=&quot;language-text&quot;&gt;@Transactional&lt;/code&gt; 어노테이션을 사용하기 보다는, truncate를 하는 sql 스크립트를 사용하는 방법을 고려하는게 더 적절하다고 생각한다.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[내 서버에 HTTPS 설정하기]]></title><description><![CDATA[이 글은 우테코 피움팀 크루 '주노', '그레이', '조이', '하마드'가 작성했습니다. 서론 현재 피움팀 서버는  요청으로 이뤄져있다.
는 WWW…]]></description><link>https://pium-official.github.io/apply-https/</link><guid isPermaLink="false">https://pium-official.github.io/apply-https/</guid><pubDate>Fri, 28 Jul 2023 00:00:00 GMT</pubDate><content:encoded>&lt;blockquote&gt;
&lt;p&gt;이 글은 우테코 피움팀 크루 &apos;&lt;a href=&quot;https://github.com/Choi-JJunho&quot;&gt;주노&lt;/a&gt;&apos;, &apos;&lt;a href=&quot;https://github.com/kim0914&quot;&gt;그레이&lt;/a&gt;&apos;, &apos;&lt;a href=&quot;https://github.com/yeonkkk&quot;&gt;조이&lt;/a&gt;&apos;, &apos;&lt;a href=&quot;https://github.com/rawfishthelgh&quot;&gt;하마드&lt;/a&gt;&apos;가 작성했습니다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;서론&lt;/h2&gt;
&lt;p&gt;현재 피움팀 서버는 &lt;code class=&quot;language-text&quot;&gt;HTTP&lt;/code&gt; 요청으로 이뤄져있다.
&lt;code class=&quot;language-text&quot;&gt;HTTP&lt;/code&gt;는 WWW 상에서 정보를 주고 받는 프로토콜인데, 누군가 네트워크에서 신호를 가로채면 내용이 노출되는 문제가 발생할 수 있다.
이를 해결해주는 프로토콜이 바로 &lt;code class=&quot;language-text&quot;&gt;HTTPS&lt;/code&gt;이다.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;HTTPS&lt;/code&gt;는 정보를 암호화하는 SSL을 이용한 프로토콜이다.
현재는 TLS 방식도 사용되는데 여기에서 &lt;strong&gt;핵심은 보안 문제를 해결하기 위해 암호화&lt;/strong&gt;를 한다는 것이다.&lt;/p&gt;
&lt;p&gt;대칭키와 공개키, 인증서와 같은 방식을 사용해 HTTPS를 적용할 수 있다.
이번 글에서는 &lt;code class=&quot;language-text&quot;&gt;Certbots&lt;/code&gt;을 이용해 &lt;code class=&quot;language-text&quot;&gt;HTTPS&lt;/code&gt;를 nginx에 쉽게 설치하고 적용하는 방법을 다뤄본다.&lt;/p&gt;
&lt;p&gt;HTTP, HTTPS에 대한 자세한 내용은 별도의 글에서 다룰 예정이다.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;Let&apos;s Encrypt&lt;/code&gt;에서는 인증서를 무료로 발급해주고 있고 &lt;code class=&quot;language-text&quot;&gt;Certbots&lt;/code&gt;과 함께 사용하기를 권장하기 때문에 &lt;code class=&quot;language-text&quot;&gt;Certbots&lt;/code&gt;을 사용하기로 결정했다.  &lt;/p&gt;
&lt;p&gt;이 내용은 아래 이미지에서 확인할 수 있다.&lt;br&gt;
&lt;figure class=&apos;gatsby-resp-image-figure&apos; style=&apos;margin-bottom: 16px;&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; &apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/e76ad44ef122ab192a87e716b6101b6b/d880f/img.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 81.76470588235294%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAAAsTAAALEwEAmpwYAAADtklEQVR42lWU3WscZRSH9y8QjFH0QiUXloKK1qLeCuKdVbwQL2KwYhKrVUlLkjZZUmpSTdFoaUrxQrAoCl6IIApJmlRESZruZpNm89Xs90f2c3ZnP2d2Z2d3H89MatSBh9857zvzzu+c951xrKx62Q6l8SUqbIRUNsJF8uU61lVqtFFqbXSzTdmAiuQWmgl6E9R6m0arTUHmYnmNklbDoc2cpPrrCbTfToj2k/2pD+WXASqzg8IQ2vwIpbkRirOjNoVZJ4WZEapzZ2ksDNO4cUb0DMb8kMTDOAZef5HR46/iFM73HuNC/8uiL/Fp/wtcfOcok91dTL/9MNfefYifP+zk+uC9/HW2E9fYg2yN38+diQ52L3SwPd7B6tg9OHqHv+LM5HcMffItzs++59zn15i8/A1TV77m44nz9Lz2HEM9R/jyvcP8MNjFzFgXyxcP4730BDtXnmH36rPsXH0e19QRbowfwnHsjdN09zp5s+8cb/U76T85ygcfDTF4+hSn3u/h+CtP4uw+xKW+R/hx4AEWnPfhmuhkZ+pRAtNPcWf6KDuXn2bzi8dxTz6GY/HWBkuuLW66t7nl2cIteNa8rN++zabXw+6Wh9COm7jPRSqwjBpepBxdQttzCx60+Ap63EUtsUIl5sZRNVoUa01aLdm2dpt2q2XTsmnbNCVuiprNFqaoIWo0Rc0WDZv9uC3PO5LJFMFgiFA4TCQSteNwxIojBAIBwqEQkfD+fDgWJ7a3Z+eRUEAIEotGhDDJxB5mw8ChKArpdJpUKmWTSCQO8mQyaWvaQsmzly2SUgokU2ni6TzJrIplKC7PWOtYVTn25I0hcREVRxFxEY1G8fv94jRISAjKWEDm/T4fwYCfgN9HVJymyiapokE6VySpaqQzCrqu4SiUSuSLRRu1XKZQqaDV6zSaTYxGAyMWw5C5uuR106QuY6aoNPw/7F+2w9zaGtnNTdJeL4poZn2dorjRxFVN3NdWPeguD9V4Ak3c1eJxNF2nWq3+D13G7AXj8/ME5uYIXxednSUkeVByK7bGAwvz+P9cxv/7osR/EF66SVBe5vPt2q2y2hKWtlj9bkoVjpyUk8gq0mxFmpwlk8/LR66hGwa6lGerHAm9JT8EqU4zTHFTo6rpd9Fsx3Wjse8wI7sWT+VISnkJKcdG4n/ylOxgTI5RIh4jEYvYO5zIlclVGxTll/MvpjiUBVVVRRFn2btkMpkDrKOg5nNk1QrZUh2lVCNXKMv9GdSCSlGzKjCt3Tj4GP4GrQFJxnyZlVMAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img.png&apos; title=&apos;&apos; src=&apos;/static/e76ad44ef122ab192a87e716b6101b6b/ca1dc/img.png&apos; srcset=&apos;/static/e76ad44ef122ab192a87e716b6101b6b/e7570/img.png 170w,
/static/e76ad44ef122ab192a87e716b6101b6b/f46e7/img.png 340w,
/static/e76ad44ef122ab192a87e716b6101b6b/ca1dc/img.png 680w,
/static/e76ad44ef122ab192a87e716b6101b6b/d880f/img.png 975w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&apos;gatsby-resp-image-figcaption&apos;&gt;img.png&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;h2&gt;Certbot 설치&lt;/h2&gt;
&lt;p&gt;서버에 HTTPS 설정을 해보자
&lt;a href=&quot;https://certbot.eff.org/&quot;&gt;Certbot 공식문서&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;공식문서의 가이드를 따라 작성된 문서입니다.
&lt;a href=&quot;https://certbot.eff.org/instructions&quot;&gt;https://certbot.eff.org/instructions&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/095db82dc87fa8bc0f5efc7ef9267aa7/89066/a8ec6c59.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 52.352941176470594%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAABEElEQVR42qVS226DMAzN/3/aptFJ7AHEy4SgXAWFQjJuObO9puqqDk2bpUPsxBxfFUiiFw9vT8/Y3mPAWlj8XRQTdKcT0jTFOgwwxqDrOrq2aNsWdV1jnmdorVFVldgD+fFdfz4Dy4KNbE6C/1H8aZrmy/lyMsqyFAdcHJ1+az+CYgeOmmWZkOR5LmB7XVds2yaQDBys3Sn5t0KkVzibie/Ir4TcE9/3EUURgiCA53mih2GI18MBS99jpp4u1O/8eJRTU2V2GHE7xW8ZLtRgLpPBOmNmUDC4PhL43SVRFIW0yN0p/FPuB7ZL2FOZcRzL1JMkkUHx+uzuoTYfP0bmksZxlN3k3WNM0yRTfyST0fgEeUoOSi4fwRYAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;a8ec6c59&apos; title=&apos;&apos; src=&apos;/static/095db82dc87fa8bc0f5efc7ef9267aa7/ca1dc/a8ec6c59.png&apos; srcset=&apos;/static/095db82dc87fa8bc0f5efc7ef9267aa7/e7570/a8ec6c59.png 170w,
/static/095db82dc87fa8bc0f5efc7ef9267aa7/f46e7/a8ec6c59.png 340w,
/static/095db82dc87fa8bc0f5efc7ef9267aa7/ca1dc/a8ec6c59.png 680w,
/static/095db82dc87fa8bc0f5efc7ef9267aa7/02d09/a8ec6c59.png 1020w,
/static/095db82dc87fa8bc0f5efc7ef9267aa7/9d567/a8ec6c59.png 1360w,
/static/095db82dc87fa8bc0f5efc7ef9267aa7/89066/a8ec6c59.png 1440w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# certbot을 설치하기 위한 snap을 설치한다.&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;apt&lt;/span&gt; update
&lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;apt&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; snapd

&lt;span class=&quot;token comment&quot;&gt;# 이미 설치되어있는 certbot을 제거한다.&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;apt-get&lt;/span&gt; remove certbot

&lt;span class=&quot;token comment&quot;&gt;# certbot을 설치한다.&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; snap &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; &lt;span class=&quot;token parameter variable&quot;&gt;--classic&lt;/span&gt; certbot

&lt;span class=&quot;token comment&quot;&gt;# certbot이 잘 설치되어있는지 확인한다.&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;ln&lt;/span&gt; &lt;span class=&quot;token parameter variable&quot;&gt;-s&lt;/span&gt; /snap/bin/certbot /usr/bin/certbot

&lt;span class=&quot;token comment&quot;&gt;# certbot을 nginx에 연결하기&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; certbot &lt;span class=&quot;token parameter variable&quot;&gt;--nginx&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;HTTPS 설정&lt;/h2&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/77f1fa1c84d64bf273fbf2a93927177e/96d37/5498d43a.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 100.58823529411765%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAC0ElEQVR42n2USU9iURCFAQcmAQH1wXvAY2hGjUE3uNCk08SN8QdJHBLtTkd0gy7an3v6flcuot26qFTd4Z06darui2SDrFJ+TolkRpkMllWtVrNWLpdVr9dVKBSUzWa1urqqSCTytZW9sqq+Aai+glQqFfm+r1KpZNfEnucpl8splUopmUxacJKzTqfTisVib4BeyVOv37NM8vm8vYxtbGxYZu4jANMmTs0BMfY5X1lZeQPc2tpSo9GwzDj8WEI0Gn3zxqLRmI2XDYbuXgSdKKlarVpQ53d2dmzZMCMmcaWYVzGXVTyRsCVT/j8ackB5lOB0AvDm5kZPT0+6u7vT7e2tpg8P+vP7p35dX+ry6kpXxiaTiS4uLvRgzg4PD+caGnaUDFMaAMNms6nxeKyzszOdn5/r9PTUxt9/jDU6OtLJ8bGOjO/3+xoMBjo4OLD6W0BYUVqxWLSlAUp5NATmyxotdPrKtre3FQSBBd3c3Fx0Dg/g62xm7BqPNNyDEd0lGX6RLG+YwCwHmAEggZtD9l0yJCFGIoA/HfLQXBp02qr5ptvFgiZG5JlpxuPjo+7v7zWbzfT8/KzpdKqXlxe7DzjM3g20s2Et0Mm3UKOar1EYqBH4Ks9fBwxhjKYYe6zfzeZHwJL5uN5syTNZy0FFnimvasaGZ4dWNIeG0Tw8wIBStgN9BxyGNbXMmHQ7HfkGFFaMEePQbretfv4HxsT/e1XWKnM2YRha0QFptVp2HgFjz70mup4wr4QXgtF5qoB1PB5/BQSsY9jxIUAcutHAL/8w3HziYYuRhI4vyu71evbZ7O7uajQa2VJ5Aaw529/fV7fbtUn39vbsmjvD4dDe5x5M19fXtba2poij7n5ZbniXY/Syv6/5PfZZUwWeNbHVlQDR0Qk9Ed0NMqWhJTHGGR/B5tOxQRNK5IeAjmRjD+3ITqk0DE/DSAD75Se3PDp/AXri/vc4VVIbAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;5498d43a&apos; title=&apos;&apos; src=&apos;/static/77f1fa1c84d64bf273fbf2a93927177e/ca1dc/5498d43a.png&apos; srcset=&apos;/static/77f1fa1c84d64bf273fbf2a93927177e/e7570/5498d43a.png 170w,
/static/77f1fa1c84d64bf273fbf2a93927177e/f46e7/5498d43a.png 340w,
/static/77f1fa1c84d64bf273fbf2a93927177e/ca1dc/5498d43a.png 680w,
/static/77f1fa1c84d64bf273fbf2a93927177e/96d37/5498d43a.png 823w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# certbot이 SSL 인증서를 자동 갱신하는 cron을 등록한다&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; certbot renew --dry-run&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;NGINX 설정 확인&lt;/h2&gt;
&lt;p&gt;NGINX 설정에 다음과 같이 certbot이 HTTPS 설정을 추가한 것을 확인할 수 있다.&lt;/p&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/5a394047db5167b37d0a036395d75c95/baa93/3d08df23.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 70%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAACLklEQVR42pWUWZLaMBRF2UzjeR5kWx4AGzOY7qahSFWygux/AzdXMqT4oSv5OH6SLd03lhehE8P1C5heAcsTXJfw/AqOy3dWBouY/8HCMDM4gYCXFfDzGmnaIYlb+BRdmine+F1Zg4eNfxFUD8dOEdgR4rBEKAZE1YiINmbEMqgQBRK2nZFcY5GHg2dH1kPQsPIZM0Fc79H/+o12vOCUSJzzFlNG0gZX0aGPazSRRB1WaBTBbNU+YbkWj1AtRrBcxvCCEvVwQsEoC9a14AXBg6W6yG+ZI+AzwsgVCBXcR8QjSuNJMEfWHpF0E4SboWWjhBLkJanWtBFFu/UJLu3bU12XT2n/FTSV12KrU06SDmXcIIsIGyS4zplmRAeqaaqOhpG+boqOkCGnKrr+DHG4oRk+MOwvaPZXlPsbxPAFN2xg+xIenbhs1PeCKkLZU3QHuTqhKkZU+RZdMSBlI5SYG9RazI87zmv1WtC2hU5ZHfKZZhAoeNmpEHhSj4NhJJyCdLbENF+knFcbOFJCMIKKIkU8oBQTivyIPN0h8BssH2Jkebczs7CyhjU7WDhhjXx8h9y8c1wu6McrjscfOLCO6+0Vbf+B1XrCanPChmeG7Se61QRZnNDJLzreo6RzS2WpBTkC6TihGs+6CePhQrELtqTn/jDdZpH6E7v+J1radXtBGLTwPNbWrTSqB1rQ5k9AdVij6klr6yGdreMKfdiyuCemqWqVM/VEY9wx7yn/AaQ4wb13oUFBAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;3d08df23&apos; title=&apos;&apos; src=&apos;/static/5a394047db5167b37d0a036395d75c95/ca1dc/3d08df23.png&apos; srcset=&apos;/static/5a394047db5167b37d0a036395d75c95/e7570/3d08df23.png 170w,
/static/5a394047db5167b37d0a036395d75c95/f46e7/3d08df23.png 340w,
/static/5a394047db5167b37d0a036395d75c95/ca1dc/3d08df23.png 680w,
/static/5a394047db5167b37d0a036395d75c95/02d09/3d08df23.png 1020w,
/static/5a394047db5167b37d0a036395d75c95/baa93/3d08df23.png 1236w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h2&gt;Reference&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://certbot.eff.org/instructions&quot;&gt;https://certbot.eff.org/instructions&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[bundle-analyze를 통한 bundle 크기 분석]]></title><description><![CDATA[이 글은 우테코 피움팀 크루 '클린'가 작성했습니다. 사건의 발단 이번 Level3 2차 데모데이때 권장사항을 맞추기 위해서 프로덕션 배포까지 진행했습니다. 어찌 저찌 배포는 잘 끝이 났는데 문제는 첫 페이지가 로드 되는데 약…]]></description><link>https://pium-official.github.io/bundle-analyze/</link><guid isPermaLink="false">https://pium-official.github.io/bundle-analyze/</guid><pubDate>Fri, 28 Jul 2023 00:00:00 GMT</pubDate><content:encoded>&lt;blockquote&gt;
&lt;p&gt;이 글은 우테코 피움팀 크루 &apos;&lt;a href=&quot;https://github.com/hozzijeong&quot;&gt;클린&lt;/a&gt;&apos;가 작성했습니다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;사건의 발단&lt;/h2&gt;
&lt;p&gt;이번 Level3 2차 데모데이때 권장사항을 맞추기 위해서 프로덕션 배포까지 진행했습니다. 어찌 저찌 배포는 잘 끝이 났는데 문제는 첫 페이지가 로드 되는데 약 4초 가량의 시간이 걸린다는 것이었습니다. 네트워크 문제 문제인가? 하고 봤는데 아니었고, 결국 &lt;code class=&quot;language-text&quot;&gt;bundle.js&lt;/code&gt; 파일의 크기를 보니 무려 16m나 되었던 것입니다.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://github.com/pium-official/pium-official.github.io/assets/50974359/72ec258f-77e0-41aa-8bcd-c4c3d3b0410e&quot; alt=&quot;image&quot;&gt;&lt;/p&gt;
&lt;p&gt;왜 이렇게 크기가 크지? 라는 생각을 하며 크게 2가지의 경우를 생찾아봤습니다. 하지만 다음과 같은 이유로 원인이 아님을 알았습니다.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;minify가 되지 않았다 → webpack 4 이상을 사용하면서 자동으로 &lt;code class=&quot;language-text&quot;&gt;production&lt;/code&gt; 일때는 자동으로 설정&lt;/li&gt;
&lt;li&gt;css 파일 크기가 너무 큼 → &lt;code class=&quot;language-text&quot;&gt;styled-component&lt;/code&gt;를 사용하기 때문에 .css 가 없음.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;따라서 &lt;code class=&quot;language-text&quot;&gt;bundle.js&lt;/code&gt;의 성능을 확인해 볼 필요가 있었고 검색하던 도중 &lt;a href=&quot;https://www.npmjs.com/package/webpack-bundle-analyzer&quot;&gt;webpack-bundle-analyzer&lt;/a&gt;라는 라이브러리를 알게되었습니다.&lt;/p&gt;
&lt;h2&gt;Webpack Bundle Analyzer&lt;/h2&gt;
&lt;p&gt;webpack을 통해 build한 bundle의 성능을 측정하는 라이브러리로 모든 번들에 대한 트리를 시각화 해서 보여주는 이점을 갖고 있습니다. 사용법은 매우 간단합니다. 우선 설치를 해줍니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;# &lt;span class=&quot;token constant&quot;&gt;NPM&lt;/span&gt;
npm install &lt;span class=&quot;token operator&quot;&gt;--&lt;/span&gt;save&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;dev webpack&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;bundle&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;analyzer
# Yarn
yarn add &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;D&lt;/span&gt; webpack&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;bundle&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;analyzer&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;설치를 한 뒤 &lt;code class=&quot;language-text&quot;&gt;webpack.config.js&lt;/code&gt; 파일 내부에서 플러그인을 사용해 줍니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; BundleAnalyzerPlugin &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;webpack-bundle-analyzer&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;BundleAnalyzerPlugin&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

module&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;exports &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token literal-property property&quot;&gt;plugins&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;BundleAnalyzerPlugin&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;플러그인 안에 옵션을 설정할 수 있는데, &lt;a href=&quot;https://github.com/webpack-contrib/webpack-bundle-analyzer#options-for-plugin&quot;&gt;여기&lt;/a&gt;에서 옵션에 대한 정보를 확인할 수 있습니다.&lt;/p&gt;
&lt;p&gt;위에 플러그인 옵션에서 &lt;code class=&quot;language-text&quot;&gt;generateStatsFile&lt;/code&gt; 을 &lt;code class=&quot;language-text&quot;&gt;true&lt;/code&gt; 로 설정한 다음에 &lt;code class=&quot;language-text&quot;&gt;package.json&lt;/code&gt;에 &lt;code class=&quot;language-text&quot;&gt;scripts&lt;/code&gt; 에다음 명령어를 통해 실행할 수 있습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token property&quot;&gt;&quot;scripts&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  ...
  &lt;span class=&quot;token property&quot;&gt;&quot;preanalyze&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;npm run build-dev&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;analyze&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;webpack-bundle-analyzer bundle/output/path/stats.json&quot;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;img src=&quot;https://github.com/pium-official/pium-official.github.io/assets/50974359/6bc524c4-4866-4ebe-9daa-95035e0c0dd5&quot; alt=&quot;image&quot;&gt;&lt;/p&gt;
&lt;p&gt;실행한 뒤에 bundle을 분석해 봤더니 react-icons에서 15.3m나 차지하고 있었습니다. 드디어 문제의 원흉을 찾아냈습니다. 그렇다면 react-icons를 대체할 수 있는 방법이 있을까요?&lt;/p&gt;
&lt;h3&gt;Icons&lt;/h3&gt;
&lt;p&gt;&lt;a href=&quot;https://icones.js.org/collection/all?s=material-symbols:cancel&quot;&gt;여기&lt;/a&gt;에 가시면 다양한 아이콘들을 찾아볼 수 있습니다. 원하는 아이콘을 선택한 다음에 SVG, Component 등으로 코드를 반환해 줍니다. 이를 통해서 react-icons를 제거하고 icons를 사용해서 아이콘을 대체할 수 있었습니다.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Table Drop 못하게 막아버리기]]></title><description><![CDATA[이 글은 우테코 피움팀 크루 '주노', '그레이', '조이', '하마드'가 작성했습니다. 서론 본 설명 글은 다음과 같은 환경에서 진행됩니다. 배포서버 : Ubuntu 22.04.2 LTS DB서버 : Ubuntu 22.04.2 LTS 배포서버와 DB…]]></description><link>https://pium-official.github.io/db-drop-stop/</link><guid isPermaLink="false">https://pium-official.github.io/db-drop-stop/</guid><pubDate>Fri, 28 Jul 2023 00:00:00 GMT</pubDate><content:encoded>&lt;blockquote&gt;
&lt;p&gt;이 글은 우테코 피움팀 크루 &apos;&lt;a href=&quot;https://github.com/Choi-JJunho&quot;&gt;주노&lt;/a&gt;&apos;, &apos;&lt;a href=&quot;https://github.com/kim0914&quot;&gt;그레이&lt;/a&gt;&apos;, &apos;&lt;a href=&quot;https://github.com/yeonkkk&quot;&gt;조이&lt;/a&gt;&apos;, &apos;&lt;a href=&quot;https://github.com/rawfishthelgh&quot;&gt;하마드&lt;/a&gt;&apos;가 작성했습니다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;서론&lt;/h2&gt;
&lt;p&gt;본 설명 글은 다음과 같은 환경에서 진행됩니다.&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;배포서버 : Ubuntu 22.04.2 LTS&lt;/li&gt;
&lt;li&gt;DB서버 : Ubuntu 22.04.2 LTS&lt;/li&gt;
&lt;li&gt;배포서버와 DB서버는 동일한 VPC를 사용하고 있습니다.&lt;/li&gt;
&lt;li&gt;DB : MySQL 8.0.33&lt;/li&gt;
&lt;li&gt;Application : SpringBoot 3.1.1&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;개발 과정에서 실수로 Application 단에서 DB 혹은 테이블을 Drop 해버리는 상황이 있을 수 있다.&lt;/p&gt;
&lt;p&gt;테이블의 수정이 제한된 유저를 생성하여 해당 유저를 Application에서 사용하도록 구성해보자. &lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;도움을 주신 G선생님께 감사의 인사 올리며 시작하겠습니다.&lt;/p&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 636px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/8f933cb276f688c756d9cbf5800a4405/44bb2/c34a6c3a.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 43.529411764705884%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAABIUlEQVR42q2STU/CQBCG9w+ZUAoCtbAf7bYV6ZbS8pGoCYL+BS9evXvy6G99nd0WgiExRj08eWd2JjOzmWFT84zgSmM40vB7Ar2+/BPsdv8BzlMEYfY/Bb2LAF6Xo0vYgl2f1BcNv2jA5NMWWlfIrldIsiXSVg/IaA6hih/Dbt5eUOR3qFd7LOod6vUjymqLarlDWT8gm26gM9vke3S6dLCQFiLUHBNhWnJwaTDmufObzvMzmskPdgkVLxDRT1m5eUU4TiCVoYBxKmSOWJeUnENF1p85XE4b52KGKC7Ib+xRkKB/qcDW9+90NpFLskFJau0kXUCImXuz2sQNTVI4tUWOzcgeDCJaJAfrdIa0WUGbnnyh443P3k6x13D0fX68iE9C9T4iTjV+ggAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;c34a6c3a&apos; title=&apos;&apos; src=&apos;/static/8f933cb276f688c756d9cbf5800a4405/44bb2/c34a6c3a.png&apos; srcset=&apos;/static/8f933cb276f688c756d9cbf5800a4405/e7570/c34a6c3a.png 170w,
/static/8f933cb276f688c756d9cbf5800a4405/f46e7/c34a6c3a.png 340w,
/static/8f933cb276f688c756d9cbf5800a4405/44bb2/c34a6c3a.png 636w&apos; sizes=&apos;(max-width: 636px) 100vw, 636px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;유저 생성하기&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;이후 진행할 작업에서 권한 부여를 위해 root 권한이 필요합니다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;우선 root 권한을 가진 계정으로 MySQL에 로그인 한다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# MySQL에 로그인&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; mysql &lt;span class=&quot;token parameter variable&quot;&gt;-u&lt;/span&gt; root &lt;span class=&quot;token parameter variable&quot;&gt;-p&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Application에서 사용할 유저를 생성한다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre class=&quot;language-sql&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;CREATE&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;USER&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;pium&apos;&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;@&apos;localhost&apos;&lt;/span&gt; IDENTIFIED &lt;span class=&quot;token keyword&quot;&gt;BY&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;password&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;만약 외부에서 접근해야하는 유저의 경우 다음 명령어를 참고하세요&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre class=&quot;language-sql&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# 외부 모든 IP에 대한 pium 이라는 유저 생성 &lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;CREATE&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;USER&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;pium&apos;&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;@&apos;%&apos;&lt;/span&gt; IDENTIFIED &lt;span class=&quot;token keyword&quot;&gt;BY&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;password&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;# 특정 인스턴스에서만 접속가능한 pium 이라는 유저 생성 &lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;CREATE&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;USER&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;pium&apos;&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;@&apos;접속할 인스턴스의 private ip&apos;&lt;/span&gt; IDENTIFIED &lt;span class=&quot;token keyword&quot;&gt;BY&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;password&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/blockquote&gt;
&lt;h2&gt;권한 부여하기&lt;/h2&gt;
&lt;p&gt;MySQL에서 설정할 수 있는 권한은 아래와 같다.&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;권한&lt;/th&gt;
&lt;th&gt;내용&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;CREATE, ALTER, DROP&lt;/td&gt;
&lt;td&gt;테이블 생성, 변경, 삭제&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;SELECT, INSERT, UPDATE, DELETE&lt;/td&gt;
&lt;td&gt;테이블의 레코드 조회, 입력, 수정, 삭제&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;RELOAD&lt;/td&gt;
&lt;td&gt;권한 부여된 내용을 리로드&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;SHUTDOWN&lt;/td&gt;
&lt;td&gt;서버 종료 작업 실행&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ALL&lt;/td&gt;
&lt;td&gt;모든 권한 허용&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;USAGE&lt;/td&gt;
&lt;td&gt;권한 없이 계정만 생성&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;우리는 &lt;code class=&quot;language-text&quot;&gt;INSERT&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;UPDATE&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;SELECT&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;DELETE&lt;/code&gt;만 사용하면 되기 떄문에, 새로 생성한 유저에게 해당 권한만 부여한다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre class=&quot;language-sql&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;GRANT&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;SELECT&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;INSERT&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;UPDATE&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;DELETE&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;ON&lt;/span&gt; pium_db&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;TO&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;pium&apos;&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;@&apos;localhost&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;설정한 권한을 &lt;code class=&quot;language-text&quot;&gt;flush&lt;/code&gt; 명령어를 이용해 적용한다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre class=&quot;language-sql&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;FLUSH &lt;span class=&quot;token keyword&quot;&gt;PRIVILEGES&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;확인하기&lt;/h2&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/dc3f7abd340d9d43646bcd6592067702/2573e/bd8e631c.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 4.705882352941177%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAABCAYAAADeko4lAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAR0lEQVR42mMwUFf7b6Sh8d9IR++/nqrGfy1ltf86Kur/tZXV/2sC2WqKKv8FBAT/c3Pz/Ofh4cXAXEBxKQmp/1pAPVrKqv8BQz4aj54VZi8AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;bd8e631c&apos; title=&apos;&apos; src=&apos;/static/dc3f7abd340d9d43646bcd6592067702/ca1dc/bd8e631c.png&apos; srcset=&apos;/static/dc3f7abd340d9d43646bcd6592067702/e7570/bd8e631c.png 170w,
/static/dc3f7abd340d9d43646bcd6592067702/f46e7/bd8e631c.png 340w,
/static/dc3f7abd340d9d43646bcd6592067702/ca1dc/bd8e631c.png 680w,
/static/dc3f7abd340d9d43646bcd6592067702/02d09/bd8e631c.png 1020w,
/static/dc3f7abd340d9d43646bcd6592067702/9d567/bd8e631c.png 1360w,
/static/dc3f7abd340d9d43646bcd6592067702/2573e/bd8e631c.png 1380w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;실제로 생성된 유저로 접속하여 Drop Table 명령어를 수행했을 때 권한 부족으로 수행되지 않음을 확인할 수 있다.&lt;/p&gt;
&lt;h2&gt;Application properties 적용&lt;/h2&gt;
&lt;p&gt;Application의 설정파일에 생성한 유저의 정보를 작성한다.&lt;/p&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/a5fdcb6a4b9204f52f0ba28e89ec7605/e7448/54161808.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 21.176470588235293%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAjUlEQVR42pWOSQ7CMBAEx0uwsmLHdhIkC/H/TxZDTogLyqHUc2jVtMhakPZEjgdm2xlTYlkWombLK61WSh+4izAaYfii/0mnHZF7OmVSKlZxMfJqjWPbEGNwvsMai9Gy/YM5hXFF9uPE54KfZ+w00Q09LgQ68yldIWVdp2uSinPVe8frk9s0E8aBcFH4BvinVdVHH7LcAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;54161808&apos; title=&apos;&apos; src=&apos;/static/a5fdcb6a4b9204f52f0ba28e89ec7605/ca1dc/54161808.png&apos; srcset=&apos;/static/a5fdcb6a4b9204f52f0ba28e89ec7605/e7570/54161808.png 170w,
/static/a5fdcb6a4b9204f52f0ba28e89ec7605/f46e7/54161808.png 340w,
/static/a5fdcb6a4b9204f52f0ba28e89ec7605/ca1dc/54161808.png 680w,
/static/a5fdcb6a4b9204f52f0ba28e89ec7605/e7448/54161808.png 900w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;이를 통해 Applicaiton에서는 Table의 생성, 수정, 삭제에 대한 조작을 할 수 없게 되었다.&lt;/p&gt;
&lt;p&gt;만약 테이블의 생성, 수정, 삭제에 대한 작업이 필요할 경우 DBA 혹은 DB 담당자에게 요청하는 프로세스를 거쳐야만 한다.&lt;/p&gt;
&lt;h2&gt;Reference&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Chat GTP 4&lt;/li&gt;
&lt;li&gt;피움 백엔드 팀의 집단지성&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[PR 라벨로 젠킨스 빌드유발을 구분하기]]></title><description><![CDATA[이 글은 우테코 피움팀 크루 '주노'가 작성했습니다. 서론 현재 피움팀의 젠킨스에서 빌드 트리거로 을 사용하고있다.  해당 설정은 Github에서 유발되는 모든 WebHook…]]></description><link>https://pium-official.github.io/jenkins-hook-by-label/</link><guid isPermaLink="false">https://pium-official.github.io/jenkins-hook-by-label/</guid><pubDate>Tue, 25 Jul 2023 00:00:00 GMT</pubDate><content:encoded>&lt;blockquote&gt;
&lt;p&gt;이 글은 우테코 피움팀 크루 &apos;&lt;a href=&quot;https://github.com/Choi-JJunho&quot;&gt;주노&lt;/a&gt;&apos;가 작성했습니다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;서론&lt;/h2&gt;
&lt;p&gt;현재 피움팀의 젠킨스에서 빌드 트리거로 &lt;code class=&quot;language-text&quot;&gt;GitHub hook trigger for GITScm polling&lt;/code&gt;을 사용하고있다.&lt;/p&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 465px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/5384f5e87f3f776b925134b62352d902/ad78b/bc288fb6.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 88.23529411764706%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAAAsTAAALEwEAmpwYAAABxklEQVR42p1UWXKCQBDl/p85Qv5zgVT+cwVLMCKrbKMwLAMunX6NWKbKWChVLTMDtG/pbqsoFG02HnleQOv1htc+VZUmXOfzmZ69LKUUrVZrStOUbPuHFosllWX1ekL8nE4nGoaBDoejJBmGA/V9L2fj+d/9oz+yDL9Q6ZqCIGTaPoVhxBFTFMVC3+MI+MxlWfBMqR0dj8f/Ex74YWcM5XlB0BORprl8qLUWRBP9ORJYPdNp2o6SJKXtNmEUW0GXJBnVdS0yPKUh9Go6I0lACXe47fuhrB1nJeirap5RFhAY09N+X0qU5RgT3bZtBSWMm4WwZ4TthTIQBkF8oZy+VjZwzHBJQL843so9CCJJjj3Qdl03P6FuOlKlJsXuZlkuLuOOgNN13XBCI2hBGzGt7yZ8//ymt48v0nslRqAGgcx1R2Nu12hR23bYpJw1ru8nrBhhwa0GF7Mso91uLy+jM9AhEyoE5EGMKB9pyC7DBJgBynD2FUOuddiyRmg90MXUQVFPA+LphFKHTA9UMXmKohDKMAN1ODIw1yExUX44HDR/7DMyx/mRgQCk6BDX9USC5dKRMsIzOA+JHo6vey11u58Gw5zh8AtrmHeDS93vNwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;bc288fb6&apos; title=&apos;&apos; src=&apos;/static/5384f5e87f3f776b925134b62352d902/ad78b/bc288fb6.png&apos; srcset=&apos;/static/5384f5e87f3f776b925134b62352d902/e7570/bc288fb6.png 170w,
/static/5384f5e87f3f776b925134b62352d902/f46e7/bc288fb6.png 340w,
/static/5384f5e87f3f776b925134b62352d902/ad78b/bc288fb6.png 465w&apos; sizes=&apos;(max-width: 465px) 100vw, 465px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;해당 설정은 Github에서 유발되는 모든 WebHook에 대해 빌드 트리거가 동작하는 설정이다.&lt;/p&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 232px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/80b1fe95e87e8ccda0aebc5e34491a41/88a1c/c0a90061.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 57.64705882352942%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAABMElEQVR42q2S62qEMBCF9/0frND9Kay7sKj1VjVeEu+rUU+dlAiFvdTSgZCQZD7OzJlDEIRwXQ9RFCNJEjDGUNc1xnEExbLsWwfGEoRhiCxLV2gE3/fBOUfTNBt0Txz0IQgCnE6mAgoh4Hkertcrpkk+SF3uA5fl+4HKdRxbqe26TkH1258UUt+oVM4L5HmuVlEU6Pseo+zQ3wS6G4doQrXL6fYYOM8zpJQb+HK5rEZ9wLatVTnDIBs4n2/w4iPc+B2ZsNcc+Vxhnmf4j9iANC5UIpXKWKr2vu/Qtu0dM5bXQIIJwXE+n9dlqhGiuzRNt5bQGNH5pUJyU3+sqgqWZSm3CW4Yhhof0zTXntrKNJ3zFEhqKKZpwjAM0Gbpnf6QQnr/VQ/LsvxRDiVq5/eY8gWy9Kh5KbILWwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;c0a90061&apos; title=&apos;&apos; src=&apos;/static/80b1fe95e87e8ccda0aebc5e34491a41/88a1c/c0a90061.png&apos; srcset=&apos;/static/80b1fe95e87e8ccda0aebc5e34491a41/e7570/c0a90061.png 170w,
/static/80b1fe95e87e8ccda0aebc5e34491a41/88a1c/c0a90061.png 232w&apos; sizes=&apos;(max-width: 232px) 100vw, 232px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;빌드 스크립트에서 위처럼 triggers 설정을 별도로 지정할 수 있지만 현재 프로젝트 구조상 더 세분화된 설정이 필요한 상태다.&lt;/p&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/0f0966e1d8082e4cd2137f8dcfd81520/ca1dc/b47bf110.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 40.588235294117645%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsTAAALEwEAmpwYAAABc0lEQVR42nWRW06EQBBF+TQ6A8MATfPqhm6a15h5aYwuwR24/41cqxpM/NCPClBUndxbN0ikwnC6wVHJxiFMSzwehK+nOP+zHsIUcd7ATBcU7YiyHmD1GVL2COJcoeqo2Q44iBp7Au6T0oP/A4raIm96CGVRNgPCRSP6HLC7awQMm85v0O7ZQws9oDYTKjMjFA3CDb5W4Z+KZrvxgqZf0Lsb0lfa+7oh+rAI3HzB6fpO8m+wy90PutMLNH1LQzaUIzUOUo8QeiJ1PZLKUJ8gavR9ay9QxQKRGgQs3c5XUjYiymrEUpN1haRoSfFIahcU3eIXU7VQv/tVLY40n9UGFalNaw+03iaDo6yiGwnsjpLuWCAjJTndK9MzdrnBYywprGwLbA2N33mP78oZBGyJb1Z3o//BMC6+FQ+lZUdQA0G2M7Kbli2S0mBfOj/HUHbGp+DkA4ZwMIokcwA/QFbIyyuUIFVPIWnst3+7bXYFVt4NK/wG44jR81Z7YaIAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;b47bf110&apos; title=&apos;&apos; src=&apos;/static/0f0966e1d8082e4cd2137f8dcfd81520/ca1dc/b47bf110.png&apos; srcset=&apos;/static/0f0966e1d8082e4cd2137f8dcfd81520/e7570/b47bf110.png 170w,
/static/0f0966e1d8082e4cd2137f8dcfd81520/f46e7/b47bf110.png 340w,
/static/0f0966e1d8082e4cd2137f8dcfd81520/ca1dc/b47bf110.png 680w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;현재 레포지토리 하나에 프론트, 백엔드 코드가 같이 관리되고있다.
PR이 Merge 되었을 때 각 트랙별로 코드가 빌드 및 배포될 수 있도록 구성해야한다.&lt;/p&gt;
&lt;h2&gt;어떻게 할까?&lt;/h2&gt;
&lt;p&gt;현재 하나의 레포지토리에서 두개의 코드가 관리되고 있기 떄문에 단순히 develop 브랜치의 변경감지로는 어느 트랙의 작업내용인지 구분하기가 어렵다.&lt;/p&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 570px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/c8caf5f8c1848911727ad888b8a5164f/27f8f/88fd7187.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 21.764705882352942%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA50lEQVR42j2PyW6DQBBEOflgOxL7MCxmzGAMODYBzGbsIHGIlEMO+f+PqUzGy+F1lbqkUrdiWByn+oqyu+F0vqAZZ4zzN9rrjPyjw6Fqkdwm8GOJ9yFC9hOBpgxr3cVKI0IdqU+U/6HTEKa7hUGZ5O5DudedEJrA9vgrIz6HZgdYqgTLR+kTxSI75EWHtGhwPI+ohgnD9IWqn8TVn5LdoYTqbbDvewTNBauyxaKtkbIaffELy0lEsXkvfNMpXJbCi1L4UQafZ1KDOJc+4DlIEMPexKDbBITtQURusgSq4UG3Q1FEXy//AQeib0tj/1KBAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;88fd7187&apos; title=&apos;&apos; src=&apos;/static/c8caf5f8c1848911727ad888b8a5164f/27f8f/88fd7187.png&apos; srcset=&apos;/static/c8caf5f8c1848911727ad888b8a5164f/e7570/88fd7187.png 170w,
/static/c8caf5f8c1848911727ad888b8a5164f/f46e7/88fd7187.png 340w,
/static/c8caf5f8c1848911727ad888b8a5164f/27f8f/88fd7187.png 570w&apos; sizes=&apos;(max-width: 570px) 100vw, 570px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;현재 피움은 라벨을 이용하여 트랙별 작업구분을 하고 있다.&lt;/p&gt;
&lt;p&gt;이를 이용하여 라벨별로 빌드, 배포를 진행할 수 있도록 구성해보자.&lt;/p&gt;
&lt;h2&gt;Generic Webhook Trigger 설치&lt;/h2&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/31654fadbf6bf2c33749e65632570adb/ca1dc/82e40c68.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 34.11764705882353%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsTAAALEwEAmpwYAAABJklEQVR42nWQS07DMBCGfaUilUUpy4ayKAcoZyp3KIcpq7IpEg+pLFCiPKAhDxM/Eudn7CgtgjLSpxknnt//DJvPrzGbXWE4PMVodIbx+Nxh65/Yb4PBCRaLG6zX91it7rDZPGC5vMVk4mE6vYTnXYAVBUdVCUip0DQtZQ0hJGy07V/quoFS2t2zPVrX1Gf2sCT5oB+dgI00/UQUxe6ibT4m2nMsmO9HiOOUXNYk3DihPOcknKMsviCc4+MY05KrxjmzdUuvsDhOsNul7mCjEgoFl6ikodqOV9MjXT6g93WWleC8glTd6Ky32k9QcIGnrY/HbYDnVx9BENAKIoRhSM0ZyrJ05EUOJQVe3iK8ZxykBkMrYr93YK0rbaDrDuvcmC7/z2GH3x4T/tN3wtWMAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;82e40c68&apos; title=&apos;&apos; src=&apos;/static/31654fadbf6bf2c33749e65632570adb/ca1dc/82e40c68.png&apos; srcset=&apos;/static/31654fadbf6bf2c33749e65632570adb/e7570/82e40c68.png 170w,
/static/31654fadbf6bf2c33749e65632570adb/f46e7/82e40c68.png 340w,
/static/31654fadbf6bf2c33749e65632570adb/ca1dc/82e40c68.png 680w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Generic Webhook Trigger는 젠킨스에서 제공하는 플러그인으로 HTTP 요청을 수신하여 JSON, XML 형태의 데이터를 추출하여 트리거를 지정할 수 있는 플러그인이다.&lt;/p&gt;
&lt;p&gt;Generic Webhook Trigger를 사용하여 빌드 유발 상황을 구분해보자.&lt;/p&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 367px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/e13645543c6e4d179c1f35a63db1f711/881e3/4ff8e063.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 107.6470588235294%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAWCAYAAADAQbwGAAAACXBIWXMAAAsTAAALEwEAmpwYAAAC00lEQVR42q1Ui27aQBDk2/pL/Y/+SH+ilaJUaWmBYMA2T2PeMcEYgs+PMN1Z4ygJSZpIJVrd3vmyNzs7u5UwDNHt9jGZTOF5Y/j+VPwZlssVjscjPvqrBEGAy8srdDoORqMxLi5+4Pv3C33k/v7+1X987bEK/vOvkqQpDibBZhNqqkGwxmKx1D3TJiU8u7kJ1N9sNuqv17fY7fbY7+/OAxoxXuj1+hqMXK5WNxgOPUynM6HCO/lzjMcTDAYj9YuA+6cB0/weJstxiGOE0Q6xoI2TBJFc3snrPDdJijTL3peykTSMpLHyPFi/quhbLfSum3BqdTXfdREtF9hL8WBiHO/2he0i4HA4D5g1/sAMBzCujUNpXQdR28LBsdW2rSailoWY35wOjHyH7wG/f75QFEHGlJezBTpWG127K3fHaNabsu9g2BvAH/moXlXhCXfb2w2i27CQjiOBn0mrkrVbMPIh67qIbXnddWS1kco+kfO83xM0Y0ilxEbAaFgYz+X+OYesshC+EIk0msJffwjb7aq1bUerqWjeq8NM0mVl8zxHImuWZkikyrFUl3v6RvxMHjXGPG+X84CUw1H+5qK/RqMpWhygLyjbbQeWcMiWtG33Qej/RDhfh7i0etq3RhClQgHRpIo0VYQ0nitaQclvvMMsmBn3XDXg129VfPr8BYG0U71+rQg5GBzH1Y6oVmuy72n3cG21Oto1zKJWa4g/kq4KEElTFEURFEG4O72UntBkD0hpnCzPLZcOK9b8yeSpMK1c0p3N5vK6rdwRAcfadhu9Oape5JAvsHf5ItFwz5Wc0n9rJr7cy0xRAlBvTdEh+XNFg+RosVjp6PoISkVoTnyxaqzi4RArl0Rdoiy5K31Kvdw/CajjSgJy7hEhtUfdOU6BktqkP5/PFbkl08j3J1ptDlpy/TiDCguSZqWujGqx1B8rrR3Defigw0IFvFty/hjhX4RDlsx7SmFhAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;4ff8e063&apos; title=&apos;&apos; src=&apos;/static/e13645543c6e4d179c1f35a63db1f711/881e3/4ff8e063.png&apos; srcset=&apos;/static/e13645543c6e4d179c1f35a63db1f711/e7570/4ff8e063.png 170w,
/static/e13645543c6e4d179c1f35a63db1f711/f46e7/4ff8e063.png 340w,
/static/e13645543c6e4d179c1f35a63db1f711/881e3/4ff8e063.png 367w&apos; sizes=&apos;(max-width: 367px) 100vw, 367px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;플러그인을 설치했다면 파이프라인의 Build Triggers 설정에서 다음과 같은 탭을 확인 할 수 있다.&lt;/p&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/d955285dcdcfa3a9f4bd8f2c7d4712e0/ca1dc/7b51b24a.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 37.05882352941176%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsTAAALEwEAmpwYAAABKElEQVR42nVSa2+DMAzk//+4fe8QsBICeT8ohKql3Jy02jRpjWSdYyeXOyvVx+cZA58gJgEpFcZxwjxfkFLCeiFcVyzLgnVNhM8897dtw3+r2vcdWmsopWGtgyTMez4p1Eyj4QajtIgxwjkP5z00nYlxfk/ofYAidUoZSCHAiWDwG7hd0MoFbk5FaVadVdr0wLtV3V+E2a7RREikzCYY40ixhTPmWad+Vt6JgJhu2PcHjuOX6HhtCmEgO1pbClMsS+0od+D+Cks2M2G2W0ZiPGKIkGFDuh1/yH4I+56hbb9KdN2ZsAXnI1g/PJHxgsMwYiTsz6zU8j3GBqrz8lgeSXW731HXDU6nupA1TVcOZotCqKI6x0S/wJiMkn5Czi315WsUpjwYQsA3l9UT3dy1Z28AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;7b51b24a&apos; title=&apos;&apos; src=&apos;/static/d955285dcdcfa3a9f4bd8f2c7d4712e0/ca1dc/7b51b24a.png&apos; srcset=&apos;/static/d955285dcdcfa3a9f4bd8f2c7d4712e0/e7570/7b51b24a.png 170w,
/static/d955285dcdcfa3a9f4bd8f2c7d4712e0/f46e7/7b51b24a.png 340w,
/static/d955285dcdcfa3a9f4bd8f2c7d4712e0/ca1dc/7b51b24a.png 680w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;해당 설정을 클릭해보면 다음과 같은 설명을 확인할 수 있다.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;http://JENKINS_URL/generic-webhook-trigger/invoke&lt;/code&gt; 로 오는 요청에 대해 트리거가 수행된다는 말이 적혀져있다.&lt;/p&gt;
&lt;p&gt;위 설명에 맞춰 GitHub에서 WebHook 설정을 변경해주자.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;위에서 설명한 탭에 대해서는 아직 저장하지않고 깃허브로 넘어와서 진행합니다.&lt;/p&gt;
&lt;p&gt;젠킨스 설정은 아래에서 설명하는 &lt;code class=&quot;language-text&quot;&gt;Github WebHook 설정&lt;/code&gt;이후 이어서 진행합니다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;Github WebHook 설정&lt;/h2&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/1e6a2510546df10d70af521538217ebd/ca1dc/eebe67d7.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 65.29411764705883%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAABqklEQVR42q1TaW/aUBB0W4LxjW184QtfAkLAckJUiST//2dN5y1KokaVKpV+GO16377ZY54110+RlR1WaQU3SBEmJXRziW8zEz90B9/ntkC3fJjuSuxs4QruDA93tHPGDDtA3QzQrGWMgCRR3sD2Y3irNfyoQLzeSNzmucNCXrSGyjW9CF6YwvETOGGGLN8gL1rMSK6KaGG2QVx0kqwSDF7Imy124zOSsscyLuCT2E8qhNkVXlITlZy12xPW9QCLBewggxZw1GZ7RD0c2FElhHV/wNPzK6anCx7PF/ovGOkPpxdsjhfEwxlJe0Ba9VhxEi/KhVBBU5Wr/l5GtpYJDAbTIMa0sHDSDcGomzjSPs5NOB5zOI3hhuywRLefSDxII0KoiIp2x6RrQAi5y9GwcFx84oE4GzZ81QlXY1HMIK3R30/S6QdhQvaq28uH2qFLUcSnEF9hE++jKZiqUxIp+zFy3h0w/XyjMA0XfxVAXTTVhT/A+gsoSgklzOJLpX8Fn00tO0z4uJV/KylFabF9OPPt7X6T/ybCbj9Kd7eSCaHqSv0Z6oH+jx3+AiwLQx6VyIydAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;eebe67d7&apos; title=&apos;&apos; src=&apos;/static/1e6a2510546df10d70af521538217ebd/ca1dc/eebe67d7.png&apos; srcset=&apos;/static/1e6a2510546df10d70af521538217ebd/e7570/eebe67d7.png 170w,
/static/1e6a2510546df10d70af521538217ebd/f46e7/eebe67d7.png 340w,
/static/1e6a2510546df10d70af521538217ebd/ca1dc/eebe67d7.png 680w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;프로젝트 레포지토리&lt;/code&gt; -&gt; &lt;code class=&quot;language-text&quot;&gt;Settings&lt;/code&gt; -&gt; &lt;code class=&quot;language-text&quot;&gt;Webhooks 탭&lt;/code&gt;에 들어와서 웹훅을 새로 만들어보자.&lt;/p&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/4b56bfd528274decc6dde53fdff95602/ca1dc/19691acb.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 88.82352941176471%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAAAsTAAALEwEAmpwYAAACE0lEQVR42p1U23baMBD0aZuEGGN8wRd8ExbGxuYOAVLaPvSx35PT75/uikJpmyakD3N2tRKjZWZlzRksYMktknKNerFDOd2iF0m4/fw3XNY4P8Htn+rHqHnZGJ6cI5IN5HiOvJrBT4fwkyGCtECYjVQ8rU+5F8tzrZ8d4ScSGpMstwdMVns0iy2m60eFmnIG19Xecof5wwGr/RcVy9kas81BIZvskU4/IcgbaGZUopuvYdFfd0JBbQvYQXpG14upninw+jI/nW25CSGD7kTQokGJ0WSFiFq+73rQLR9tO1DxMm//XD8Hw2Z4MJwAWo9uq2cbyHIKMayRygqiaJDJsaqxNrdtGx/uu7gzHHXBv2A4IbS+GKFolkiIgAtq06JNO1TrP7t5lZBdmm0+KiO8OIfOG24fnV4Ek/ASwbOEST5GQPa3Ou4Lh48atq/pkA8pjVpdvL/rKLxj3BrHnGPLxI1uXadhSBqyfux2SqbEeaXWYjShWKlBZ2Ne0++XKanEiEwZ1gtU5DYTBvRSYiLlyeeLetHgesJwvCOXV5DUST3fwqUf35AELbOn5vIUrzall5UQNG8FdThePNCQr5EVE1h+clVXfxH6grQrathhqsaEiRjnmXwrYSgajKoV/DCHEwilF79Rjgz+onRoLq8m1L8OED89Qnz/DPNbCb1DejnBm7s7ExoihtkIQgZjEJ+f3P/iB3Bqy1BFXuZFAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;19691acb&apos; title=&apos;&apos; src=&apos;/static/4b56bfd528274decc6dde53fdff95602/ca1dc/19691acb.png&apos; srcset=&apos;/static/4b56bfd528274decc6dde53fdff95602/e7570/19691acb.png 170w,
/static/4b56bfd528274decc6dde53fdff95602/f46e7/19691acb.png 340w,
/static/4b56bfd528274decc6dde53fdff95602/ca1dc/19691acb.png 680w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Payload URL을 위에서 확인한 &lt;code class=&quot;language-text&quot;&gt;Generic Webhook Trigger&lt;/code&gt;의 설정에 맞게 작성한다.&lt;/p&gt;
&lt;p&gt;그리고 트리거가 동작하는 이벤트에 대해서 &lt;code class=&quot;language-text&quot;&gt;Send me everything&lt;/code&gt; 옵션을 체크한다.&lt;/p&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 402px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/33228aeb1868f6cb5e605cff978a9312/752e8/5e2c402b.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 29.411764705882355%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsTAAALEwEAmpwYAAABSElEQVR42m2Q607CQBCFGxUspfcbsgVsBdpiKpSgKIaLCohBIhhRNEHf/y2OUyDGGH98ezKzc85OlhPyAQT3AkIxhlCIkKVaJM2YxygFTfinMUonIQpegCJpvlSB60cI6udgSa9cA3N9ZBQLon4ETnDb4BtL8PEKmegJqbMF9qnmvC6q7Vs8vn+iN33GdPWFh9c16pc9zN/WmL18oDeaYjJfokm9tKhvA0WVkhVjg6CaYIqJUNbgk5ZFDV52S5kMVcKQTKQIXjLAy6SyRdvZm7BNYFbLQTIYVNNBymSYSzrGeg5di6FvOQTDje3gmphpNu7p4T0yyruAxP8bTlBtOF6ISq0JFjYwoc08+pPWYIxGZ4D6VR+t7hAx1ZHnoy9pODDyP4F/4ZJD2g0c0oZDCpyJKoZkHBMjMUHFHemCtEP3aZpTyCP9wzeOOqQYGwBiTgAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;5e2c402b&apos; title=&apos;&apos; src=&apos;/static/33228aeb1868f6cb5e605cff978a9312/752e8/5e2c402b.png&apos; srcset=&apos;/static/33228aeb1868f6cb5e605cff978a9312/e7570/5e2c402b.png 170w,
/static/33228aeb1868f6cb5e605cff978a9312/f46e7/5e2c402b.png 340w,
/static/33228aeb1868f6cb5e605cff978a9312/752e8/5e2c402b.png 402w&apos; sizes=&apos;(max-width: 402px) 100vw, 402px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Add webhook을 한 뒤 다시 등록한 웹 훅을 클릭하여 &lt;code class=&quot;language-text&quot;&gt;Recent Deliveries&lt;/code&gt; 탭을 확인해본다.&lt;/p&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/6ea312ef64c843921722f44307b11a80/ca1dc/bb813e21.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 124.11764705882354%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAZCAYAAAAxFw7TAAAACXBIWXMAAAsTAAALEwEAmpwYAAADTklEQVR42p2VW3PaSBCFqYrjBMJd1xG6AgIkIS4Cx9iwySau2sTOVm12qzYP+f//4+yZEZDEdlxkH76iNTCHPjPdrUrVX6IWXeLcKyCGM+TFBqPpCtPiChlj2x+i2jLwqmOdRKVhBmjZfYUIxwiGKWxvgK7tQxM+mrqDWts8XbBt9KDZATTLgxNNFB3LZ1Ymhfijro265hCBOuPDRhnfRwlapg8jzBWal6JN9HAKM5opNC9BLShQdWdqQ4PCEhlLF7oIYPQiugkoSkEnHCGIp6VFb4h/BxkmpodzufmRLOKswCBdosPfSCHdKenSpcpwmC4gglidU40LGje1ZQaPiEkaXVGiPUQJ5qstfrv5hHy9henItE1UmxqaTP9Ao2Pu+RZrdsjM+kc0EZaCy8s3eH/7GcXmd6SLDblCPF3D8mJa6pMB45F6Nt3hEbn+PZqISkFZb7d/fcH1u4+42N4gTudw/D6ePX+Bs/OXeFGro9420GL53Bd5VHBGq3/+8xXvPn6GzLZrOJCl5ARj6PKgWzqaPB9p6STB8WyNm7u/sXt/h83bPxRXbz9gd3NH+5fo+QNVBaYbnyYo26zHDnnFW26ygFt6T3VHi1m2WexdZiYLvanWn8IpBW3WoUXsIIEdkmACEaXHf5VW5eeh3n7GsQ6NgJZ2BYK8UIsav+wNcpje0xZ/alkKeOsZnOGEGbKX+xkMd6Bq6/8J2hHcdQ53PoMbL9Sg+BWhh4IM3JxiWQ4n5NmxaH81ux8E5WY3mUKME55badXci+qHyxCH+FurPWnZTiYIdysEmwJ9dk6UvYblj9SZinBS3j4ReyxWguFQSArvOfay/LfeOIWYJPDGC4QUC1KKJyuE6QXc0RzeaEHmx1iW1cHJAfksJ1RF2nGLHP71EtHyAtn2FvmbT5ju2CnXH+DF8zI7isgKcPipyooOmprNRhAKGb+sd0pBZ54hfL1WFquNNrtGZw9rqHd0whdUW1M0ONrq/E5+yqFRqVQeom55JTNcwJ7GTN1XN21yesssZIFbgeymMZ9jtS76fFVwiJydneM5J9KBZ3xWlyLSBMG2QLS65oVc8NXJzWoGlkhRJfzd2v35+MMZilGC3jKDO1ny4Jf7wXoKD8vmP/cClve1Q/cuAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;bb813e21&apos; title=&apos;&apos; src=&apos;/static/6ea312ef64c843921722f44307b11a80/ca1dc/bb813e21.png&apos; srcset=&apos;/static/6ea312ef64c843921722f44307b11a80/e7570/bb813e21.png 170w,
/static/6ea312ef64c843921722f44307b11a80/f46e7/bb813e21.png 340w,
/static/6ea312ef64c843921722f44307b11a80/ca1dc/bb813e21.png 680w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;내용을 보면 요청을 보낼 때 Payload에 다양한 정보들이 담겨있는 것을 확인할 수 있다.&lt;/p&gt;
&lt;h3&gt;(이해하기) JSONPath 살펴보기&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;해당 과정은 원리를 이해하기 위한 과정으로 수행하지 않아도 무관합니다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 481px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/0cb3f7d9540a22398bd67e7cf0cbf527/213b2/4ff6a8c1.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 6.470588235294117%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAABCAYAAADeko4lAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAQklEQVR42mNQEZf7L6Vm/l9M2fS/tIYlGEupW/yXBIqBMIwPo2U0rf6LKxn9l1Ax/S+uavZfRsMKqNcELCcqr/sfAHwzHQTNyFxbAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;4ff6a8c1&apos; title=&apos;&apos; src=&apos;/static/0cb3f7d9540a22398bd67e7cf0cbf527/213b2/4ff6a8c1.png&apos; srcset=&apos;/static/0cb3f7d9540a22398bd67e7cf0cbf527/e7570/4ff6a8c1.png 170w,
/static/0cb3f7d9540a22398bd67e7cf0cbf527/f46e7/4ff6a8c1.png 340w,
/static/0cb3f7d9540a22398bd67e7cf0cbf527/213b2/4ff6a8c1.png 481w&apos; sizes=&apos;(max-width: 481px) 100vw, 481px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/a43fdcc058f1a92e77913286de225ac5/ca1dc/f6916224.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 53.529411764705884%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAAByklEQVR42oVTaW/aQBT0t1aJnBAO3961sfEJtjnsQggtJWdVpVKqROr//yPTtwu0UCrlw+jNW1vjtzPPil3msMMcfj4HT6fQnBBdw0PX9N+HJdBHzw7+QPE2UwSrJaLFV3jxGGY/h7XDnpt+BtNLj/rD8yNBpxpB7w/Qtjg0NoAbV3DCAs6gAKOJvbwGz2Zg8YRqDW/YyJuIc5ZMwQnHgrMCRhrh/LKND2cqztSWxMdzFR2TQ2eRtEFnMQyaRvQCxm6yK809FmQ3Y7iLEkHZoPjyA8X6GdXtC/FnzJ5+Ef+J/OYbJvdvhFf5rNy8YLj6jmzxQN7X0Eho76XCP9NVSJSNxkiaO8T1Bun8AcmnW2TXj8iWT8TvZBUC6fx+y6+J7/qwWsIOhlJUcZoCblUgHK9h8ARtnaFjcKp8y01PvihS7ezTt/ZJb/seWSJskRO6JMhIMJiswch8kR5LJtJwUQ0en6zGKf4+V9x5CX82gZ81NOWK0iRPo4rSFnUsA+i9K3gQil2OYBUpLto9qB0Nra6JiysNakvDZdeiK/+zyAf9/z6kGEkKpy6gD0LyzIXuxXIfdR7RHzSUeyemFTspdlTYIM4E7HB0IvgbJEo2Xg7yiD4AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;f6916224&apos; title=&apos;&apos; src=&apos;/static/a43fdcc058f1a92e77913286de225ac5/ca1dc/f6916224.png&apos; srcset=&apos;/static/a43fdcc058f1a92e77913286de225ac5/e7570/f6916224.png 170w,
/static/a43fdcc058f1a92e77913286de225ac5/f46e7/f6916224.png 340w,
/static/a43fdcc058f1a92e77913286de225ac5/ca1dc/f6916224.png 680w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;PR과 연관된 요청이 발생했을 때는 Payload에 pull_request에 대한 정보가 추가된다.&lt;/p&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/fe74081a72d47d01a4e45bfae7c645d1/ca1dc/c301431e.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 59.411764705882355%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAAB2UlEQVR42q2RUWvTUBTHz03iJyj4Irih6yQsqU2btV0t6pOT6URho6tzQ4TB1GcffPUD6YPgQxFlog8iHe2Kiptzb4IuzZKmbrp2+3tuoqMFnX3wwo9zcsj98T9cctwtfNl04Lgevja4dxrwmgFcz4e75WO33cH+PrDXJ/S5EcDxW3Cb22jt7IYETHObCfs2Wt87+PZjDwHXw/B3OiCPRQ4n81ngdQCvDQRcu49MKPnXCRM+ef4CS68rqL97j0p1Bcu1ekh1JWK5WsOH1TW8fFPBo3IZj58t4WH5KV7xv/X1DVRXP6K2th7Wt582QMfGp0AjeQhFBQnRg6LyjAhWKoXCzTugU0mIxBjIyILMHEj2jDidZ0cGsbMXQccnijwsQNOOQFUEoxygaVooTKfSyM/fBg2nofFlNZFjxg7QfgmPSuHA5RkWnoNQo8vdKCwNE1oWcvOLoLgFRSaTCbsQcqbbiBUusPASC0fORCsfJpzrUzgoE+oZFir/SThZ4o9stLKgvz5K38IB+conrT+u/Dt1MskJi7f4BXUowxaLkz0IOTthIjZ6HjR+9x70KyWYdhZG2oZhj3KNMO0M4kYC07M3MHv/AYYmpmBeuw7jaqkHk9EniyjMLeAnzkIKxwUOxU4AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;c301431e&apos; title=&apos;&apos; src=&apos;/static/fe74081a72d47d01a4e45bfae7c645d1/ca1dc/c301431e.png&apos; srcset=&apos;/static/fe74081a72d47d01a4e45bfae7c645d1/e7570/c301431e.png 170w,
/static/fe74081a72d47d01a4e45bfae7c645d1/f46e7/c301431e.png 340w,
/static/fe74081a72d47d01a4e45bfae7c645d1/ca1dc/c301431e.png 680w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://jsonpath.com&quot;&gt;https://jsonpath.com&lt;/a&gt; 에 접속하여 해당 Payload를 붙여넣어 확인해본다.&lt;/p&gt;
&lt;p&gt;JSONPath로 표현했을 때 &lt;code class=&quot;language-text&quot;&gt;$.pull_request.merged&lt;/code&gt;를 확인하면 해당 요청이 PR이 merge된 요청인지 확인할 수 있다.&lt;/p&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/8d3a28af10e5768cc1ffe4ea964aad7b/ca1dc/0d6d400d.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 19.411764705882355%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAzklEQVR42nXNvWoCQRSG4aM34D2kixqFKItYKFjmMnIfKW0jxF7x30VrY1zRylZyJcbFZjfO7Juz2ijGwzx8MPPNjOx2P/i+TxgGEFldBmsM5oK1uo8eR5E6p7npGIIgRA77PeZ45FeLgQr1ouV64gfiT6z2TqnujXz0XKaLNaP5isFsyVC58yWTL6Xpzjw222+a/TGNzoD3VpdGu8/402PqrZksVldEnqokn2skciUkXUQyxXM+FkhmHeQhy+tbnVTlBcmXScRyZe04//oDW534EYBEoAIAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;0d6d400d&apos; title=&apos;&apos; src=&apos;/static/8d3a28af10e5768cc1ffe4ea964aad7b/ca1dc/0d6d400d.png&apos; srcset=&apos;/static/8d3a28af10e5768cc1ffe4ea964aad7b/e7570/0d6d400d.png 170w,
/static/8d3a28af10e5768cc1ffe4ea964aad7b/f46e7/0d6d400d.png 340w,
/static/8d3a28af10e5768cc1ffe4ea964aad7b/ca1dc/0d6d400d.png 680w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;$.pull_request.base.ref&lt;/code&gt;는 해당 PR의 base 브랜치를 의미한다.&lt;/p&gt;
&lt;p&gt;예를들어 feature -&gt; develop 형태라면 develop이 나온다&lt;/p&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/4411c0888680fd1af84065f158384c2a/ca1dc/47afaad7.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 18.23529411764706%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAx0lEQVR42m3IvU7CYBjF8UeuRxIiUQEJii4u3AOTsysXRZikCQPiagi0TkIpEyRA+EgsvKRf79/CBvQkv5yTI9P5htnKZbF2UV7EPgDlw+6MSrBLILPFCtdVLBXMtzoGfx4n0Rr8ICII9ZEfhISRJinSbH9hDh36wzHdwYhuvHu2g+WMsUbxb9vYkynf5g/1D4PmZ4eG0cJod7B+BxdE0kUk+8pV9gm5f0TyZaTwjBRfSB365oFM9Y3Kew25viN1W0LSueNO8g/H+P8hjo3mwAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;47afaad7&apos; title=&apos;&apos; src=&apos;/static/4411c0888680fd1af84065f158384c2a/ca1dc/47afaad7.png&apos; srcset=&apos;/static/4411c0888680fd1af84065f158384c2a/e7570/47afaad7.png 170w,
/static/4411c0888680fd1af84065f158384c2a/f46e7/47afaad7.png 340w,
/static/4411c0888680fd1af84065f158384c2a/ca1dc/47afaad7.png 680w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;$.pull_request.labels..name&lt;/code&gt;는 해당 PR의 라벨들의 이름을 의미한다.&lt;/p&gt;
&lt;h2&gt;Generic Webhook Trigger 설정&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/0578dc8c75ad072f2010764e63ccd0e9/ca1dc/5b94c679.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 51.764705882352935%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAABmElEQVR42o1SyU4bURCcT8XOBQiBg4kilA8jH5AjuUQsB+BGLHtmNJ63z1uL7uchi0QQLZXU7ulXXV3t5svqHBcXX7FafcZiscRy+eFVHBwscHh4hKurH7i+vsXNzS0eHh5xefkNJyefcHz8EaenZ2hCTAgh4r0RY67gNyEkpFRqvZQ9GucclFJcosIeORc4z4PCTFNmvB5MxDzc34yjwG430tT0V0OBtYHgMbkJwUd4gqOc1XFu7VTf8DdjXK2zkMYYg74fZpX7SClDagNnHbqdhjIeUlls2oFIAxFM6LuBejzlHm3bQ2mHyZNCISS225Ymuj8+ZSKMlqQSESmRNCzEiF/tDjklZNqgH0ZYUsfrKikpJ5Ulo+F1eW3+wJIZkRS66Ikw4e5J4Pu9wM9NRjca6tuvNpLiTIM52AoeyINIoa4e8MX87JX3vhrMl2Ql600HST28BdettbBkVYyx5sZYaK3ru2a93pJCWQ1msmkKVcFLCKkxDENd9eVw9Z9Qyj9HLPPvRildj/C/ENqS6R2EEL9XfCueAc1a8zPM0DyuAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;5b94c679&apos; title=&apos;&apos; src=&apos;/static/0578dc8c75ad072f2010764e63ccd0e9/ca1dc/5b94c679.png&apos; srcset=&apos;/static/0578dc8c75ad072f2010764e63ccd0e9/e7570/5b94c679.png 170w,
/static/0578dc8c75ad072f2010764e63ccd0e9/f46e7/5b94c679.png 340w,
/static/0578dc8c75ad072f2010764e63ccd0e9/ca1dc/5b94c679.png 680w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
파이프라인 설정 구성에 들어와서 작업을 이어나갑니다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 380px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/298dd4453e706355eef37beeb7982f0a/2edd7/f9141614.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 8.823529411764705%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAeUlEQVR42h2ObQuDMAyE/f8/UCa1b0pnrWlGxzrUfbg1DTwcXC5Hhvo98akV82wwTQreL9DadpxbMI4PGGMRwhPWeiilu7+uoe8kV8ob2xYhM5z3D9d1IxMjJULOjOMgEOUGtxIH5lc7Kl3Fl4zovifEmFDbQ4IU/gG4L5UmnI94bwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;f9141614&apos; title=&apos;&apos; src=&apos;/static/298dd4453e706355eef37beeb7982f0a/2edd7/f9141614.png&apos; srcset=&apos;/static/298dd4453e706355eef37beeb7982f0a/e7570/f9141614.png 170w,
/static/298dd4453e706355eef37beeb7982f0a/f46e7/f9141614.png 340w,
/static/298dd4453e706355eef37beeb7982f0a/2edd7/f9141614.png 380w&apos; sizes=&apos;(max-width: 380px) 100vw, 380px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;기존에 설정해둔 &lt;code class=&quot;language-text&quot;&gt;GitHub hook trigger for GITScm polling&lt;/code&gt; 설정을 해제한다.&lt;/p&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/5c42ec62023b3e8afc441a8a36a767e7/ca1dc/40676eae.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 81.76470588235294%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB10lEQVR42qVT23KrMAzs/39cn5M2QEiTAvEFCGDAELaSgDRnJrycemZHtmwvu5Z4e/84Ik0zwfWqkGUKdV3DuQauruCaBnVVU66RfFXNGMcRr8abH4aF6AqtjRBmWYborLA7KRzOmvIWRV7AWAtjjJzzftgiHGFtLkRKaaRJiq/rDd+5Q0zxS7M6JwpZrak6tCJu2lZojBVCozUSXeLbNshJDSsprBH1SilcUk0fasF3hvGXcJomwUxI0nOys9pOkkwsp6ZEYmvYxSK7UGRdoqHzZSfv2Hv/IBPCtu3w+Rlgt9tL3O8/EIYRgiBCSDgeY1lHUYw4PsmZYMkHQYjDIcTlkoggJhZC3mScTmeJXAR+M66mc06qO6PB7VYtFef9SvJleZP8w7K1XMEcRVEIwV+GFEXpHHlxA6utKyfREdq2l/Z4BueappXIcK4jpY3cebTNQGD/9/tdHprjv5iW/RVzfq4u35nPPCwXZUl2S3mPvw5RmCkjLcFWvKdW6D2pHmTOcVhczPNB1G0SDmSx67xgfSP+M7quf4JfMK+ZdJOQG5Ob1dKfwVV+btL/sswKDbVNUVZida0mz/t+tsvrV3GTkFuEy88kqy1ecytwjp9h3XtevyL8AbSR2e+l4BSSAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;40676eae&apos; title=&apos;&apos; src=&apos;/static/5c42ec62023b3e8afc441a8a36a767e7/ca1dc/40676eae.png&apos; srcset=&apos;/static/5c42ec62023b3e8afc441a8a36a767e7/e7570/40676eae.png 170w,
/static/5c42ec62023b3e8afc441a8a36a767e7/f46e7/40676eae.png 340w,
/static/5c42ec62023b3e8afc441a8a36a767e7/ca1dc/40676eae.png 680w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;그리고 Generic WebHook Trigger 를 활성화한다.&lt;/p&gt;
&lt;h3&gt;Post content parameters 설정&lt;/h3&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;Post content parameters&lt;/code&gt;의 추가 버튼을 눌러 파라미터를 추가한다.&lt;/p&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/089b80864d0f427310cb6d2ce3abd474/ca1dc/f66fbb52.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 55.294117647058826%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA3klEQVR42qWSsW7EIBBE/f9/lzJNpIuU4mxjnx0wsMsy2eWsKM0VwSONWJrHDDB4H7CuDzi3YJpmpJRhqrX+z3hq4MKYnQMz94FOWNUgEjMGIoal9D4iZ0K3FCwiCuSC+zjjse3gUi5bgYx9/+6/uz9+JiTCeB/hlrVVD8eBoif1uCWcN4+39w/cbp9afWpQO6kb6LWqU6joxkBXJFp7sO7HETWZx1U1YNFU9l3Mv9FZzgqCkCuS7q1B4nOW8hpovWNM+sqkSVObo35QW0MkfG0Fi2dQSliCzQTK+SXwB5OHY38SNw2hAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;f66fbb52&apos; title=&apos;&apos; src=&apos;/static/089b80864d0f427310cb6d2ce3abd474/ca1dc/f66fbb52.png&apos; srcset=&apos;/static/089b80864d0f427310cb6d2ce3abd474/e7570/f66fbb52.png 170w,
/static/089b80864d0f427310cb6d2ce3abd474/f46e7/f66fbb52.png 340w,
/static/089b80864d0f427310cb6d2ce3abd474/ca1dc/f66fbb52.png 680w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;$.pull_request.merged&lt;/code&gt;를 등록하여 Merge 되었는지 여부를 가져온다.&lt;/p&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/28afb9569d26799aca1ec26d78932b18/ca1dc/2f09a4a8.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 52.352941176470594%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAyklEQVR42qVSy44DIQzj/79xD1tpH91Cp7PDEEh4uMn03AtjyRIIyTh2HLNg2yJ67xhjzBHAkIpOGS4lwu0WQCmj1oZpqGpvDa4ww4cFcSew/sJ1nqJ0lAtCuMOEDX30Y/wZNqVjc+g91nVTlzuyftDG63GG7m/5x8flCz/fv1iWByhrlprFDEU7cFcVvIZVS0mH7TPo2riz2m1sEXmVNU4K2ty2OpbdWRyCrM6Iigoydl0dOye7KyMxPh8V9yhgzdbHCr8JpJS3gk8jdhR7qC6KZQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;2f09a4a8&apos; title=&apos;&apos; src=&apos;/static/28afb9569d26799aca1ec26d78932b18/ca1dc/2f09a4a8.png&apos; srcset=&apos;/static/28afb9569d26799aca1ec26d78932b18/e7570/2f09a4a8.png 170w,
/static/28afb9569d26799aca1ec26d78932b18/f46e7/2f09a4a8.png 340w,
/static/28afb9569d26799aca1ec26d78932b18/ca1dc/2f09a4a8.png 680w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;$.pull_request.base.ref&lt;/code&gt;를 등록하여 base 브랜치를 가져온다.&lt;/p&gt;
&lt;p&gt;원하는 값은 develop 브랜치가 될 것이다.&lt;/p&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/97e2bfcbc08fce0c205ccd0b17f3ae12/ca1dc/d7a4b4fc.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 52.352941176470594%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA1UlEQVR42qVSSW7EMAzz/5/YUwsUyDJTZ+zEm2yHpYLOsYckBAgLgkxQixEReL+i9459B7mfJ/ivNvSYYWLKGIcZzq0oRaC4JEpDvVaY2hqsXaDCjXFlUnNXKKRRV855uit445JDUsdmdIbTNMEuC7YQ4NcNmeKdBY0FZ6guzfzy+Pj8xjCMeDwtHBd0tP9XcJbG+g3jzwuB7jRxB9qV0ZXnnJHo6j2/W4Lami5GpOAuDkHhmYSQ6LAcb+RxBjLGhC0WfC0VDy8oKeG5VsyMJRfs/wj+ApylFLm2DnCIAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;d7a4b4fc&apos; title=&apos;&apos; src=&apos;/static/97e2bfcbc08fce0c205ccd0b17f3ae12/ca1dc/d7a4b4fc.png&apos; srcset=&apos;/static/97e2bfcbc08fce0c205ccd0b17f3ae12/e7570/d7a4b4fc.png 170w,
/static/97e2bfcbc08fce0c205ccd0b17f3ae12/f46e7/d7a4b4fc.png 340w,
/static/97e2bfcbc08fce0c205ccd0b17f3ae12/ca1dc/d7a4b4fc.png 680w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;$.pull_request.labels..name&lt;/code&gt;를 등록하여 라벨들의 이름을 가져온다.&lt;/p&gt;
&lt;p&gt;원하는 값은 등록된 라벨들 중에 &lt;code class=&quot;language-text&quot;&gt;백엔드&lt;/code&gt;를 포함하는 값이 존재하는 상황이 될 것이다.&lt;/p&gt;
&lt;h3&gt;Optional filter 설정&lt;/h3&gt;
&lt;p&gt;아래로 내리다보면 Optional filter 탭을 볼 수 있다.&lt;/p&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/86d218e1de75634dec2bd69278131ec7/c7d76/3f3d0f71.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 44.11764705882353%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA8ElEQVR42p1S0W6DMAzk/79y2qRA2qBVoyR2ErjZJrRs1fZApFOsw9i+i7taK5izQeN1XU9DT0fEGPwFfe8RYzKyfTt1upwzQghIif5N/KvH64Qi9c2NeO9HfPQB3l9l4ium+yxN2BAjIYkSQ9pvwhTlzlWsWpDLgmVZ0bEQ41TwORfc5myJWyECKdrP6vHeQDmyguK9FMJxQmZJivG0Zy+StbOTB3FuMKluuMCHGzgXaDObjDLUmg0bZ1MKcqkoR8lFCJPRkr5EdrhXRC1CT8mpyddN2Dn19rhqNqESRE9/uBV6eEX8K6YfsT7IcW2+AejVwqHLjWEmAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;3f3d0f71&apos; title=&apos;&apos; src=&apos;/static/86d218e1de75634dec2bd69278131ec7/ca1dc/3f3d0f71.png&apos; srcset=&apos;/static/86d218e1de75634dec2bd69278131ec7/e7570/3f3d0f71.png 170w,
/static/86d218e1de75634dec2bd69278131ec7/f46e7/3f3d0f71.png 340w,
/static/86d218e1de75634dec2bd69278131ec7/ca1dc/3f3d0f71.png 680w,
/static/86d218e1de75634dec2bd69278131ec7/c7d76/3f3d0f71.png 891w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Expression에 다음과 같은 정규표현식을 작성했다.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;(?=.*true)(?=.*develop)(?=.*백엔드).*&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;또한 Text 부분에는 위에서 파라미터로 선언한 값들을 사용했다.&lt;/p&gt;
&lt;p&gt;위 표현식으로 다음과 같은 효과를 기대할 수 있다.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;merge가 true 이고&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;브랜치가 develop 이고&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;라벨에 백엔드가 존재&lt;/code&gt;하는 작업에 대해 트리거를 수행하는것을 기대할 수 있다.&lt;/p&gt;
&lt;h3&gt;Token 설정&lt;/h3&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/0f7d36684cd0d851d21ccd02fcabb224/ca1dc/b55101b4.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 28.82352941176471%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAw0lEQVR42oWQ6w6DIAyFef/nXLyAqNwn4M4KiuHX1uQLLTltDzBrHfr4ND43fd3lj5aKHjZOHGKR4GKpGFqQ84mU80W6iCndZ8YRUyXG665pI8GGUWAkBF8xzRJS7tg2jbVDrqrelVNpC60dLfYwxsGHN/J5PjBNAqUsDIm2lQZQk5QKy7JjpgWluTg5jogQDnKU8CuY9+/aLMQGTi6HQeD14pimMszWIeUL2vP+BStCS/atDXAu1Lw8pbo2/qbV7u/AL0aY077bX6d7AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;b55101b4&apos; title=&apos;&apos; src=&apos;/static/0f7d36684cd0d851d21ccd02fcabb224/ca1dc/b55101b4.png&apos; srcset=&apos;/static/0f7d36684cd0d851d21ccd02fcabb224/e7570/b55101b4.png 170w,
/static/0f7d36684cd0d851d21ccd02fcabb224/f46e7/b55101b4.png 340w,
/static/0f7d36684cd0d851d21ccd02fcabb224/ca1dc/b55101b4.png 680w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Token 탭에 토큰 이름을 작성한다.&lt;/p&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/f70ad188965b50d1b47da8d38d37378c/ca1dc/8e4baf8e.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 68.82352941176471%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAACHElEQVR42n1T2W7bMBDUUxPZ1n2Qug/KcmQ5tuykSAu0fWpR9Pj/35nu0kfQosrDYKmDw53ZoRFlDTxRwHQiLD1BiLEM6LmYYGY75GqH9Tih2eyhhgOsIMHKl7MwRKEQJBXcOIcdpli4MVZBClFv4cgGUa4Q5y2cKNP/8Pe3YOTtgIf9M3VxvG3gLmTeQGQ1WEGYNnRorQ/mdZS1dIhCxOvLM8MTJXfYIa37W3cs26IOq/EjuuMXqO2E9uERbT+iIShaq80O/XhCN0yEA+qHA2I1IcjWMLJmoyUxEXtwrglE1cMnb+8tH8uowlJ2WIruXGMF0xXa97PUiJ65ChiFGhDICguHvPOkhh3mWp7tuDAtD+n4CdnTLySnH8iff0MevmEVl+cBeq8D4bUxHl9wfPlM3lREUiKg6oQZyTyg3z3Biws6RMCmDRYTUDcr95qIfyH/lnyVbZHkmEw27RB3q4Dg484K8O5S7+n9LGGY1nqqPBTuTA+FCDkm/M6lyl4y2Ab+xyTSWcJqPYJll92ou9I5JEKWPOzf6zixAll2hLWOz+K/ZBfCpFrr2PCm65S5w7TdoBn2aAnc7YImylIXs/5dCEu1pWv1qOW9+kiEWY+UIiKSFgn5bF8suB46S8g3oaDbouV652AvA4n86wnZTwrr1KHMFCqS61O83iLkyBns2TWgt4++gPeBuvu+Q3jsUMkaJV0xy5e3rM7hD+ijZVRvBEYpAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;8e4baf8e&apos; title=&apos;&apos; src=&apos;/static/f70ad188965b50d1b47da8d38d37378c/ca1dc/8e4baf8e.png&apos; srcset=&apos;/static/f70ad188965b50d1b47da8d38d37378c/e7570/8e4baf8e.png 170w,
/static/f70ad188965b50d1b47da8d38d37378c/f46e7/8e4baf8e.png 340w,
/static/f70ad188965b50d1b47da8d38d37378c/ca1dc/8e4baf8e.png 680w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;이 때 GitHub WebHook 설정에 들어가서 Payload URL에 token 파라미터를 포함하도록 수정한다.&lt;/p&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/1a38795c4df610bc6171c31200b69ec4/ca1dc/675ca490.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 23.52941176470588%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAnUlEQVR42p2QXQ6CMBCEe/9reBTjETQxPokSaelPgAIFth0XDIkvKnGSL/M2+2VFHwYY66CURtN4rEkp/YUIwwAlSxQPhUJqqFJD8njbdiCKGCfCtAEiQmA5UVYVMmuRWwNjNOq64ZEJFCMiX1yIb/2FWUBccoPdIWPu2J8krHHousCG/dIr3r+Mf0X4fsT5VuF4dWwZ5u99/M+WPAFweYZBb0pcXQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;675ca490&apos; title=&apos;&apos; src=&apos;/static/1a38795c4df610bc6171c31200b69ec4/ca1dc/675ca490.png&apos; srcset=&apos;/static/1a38795c4df610bc6171c31200b69ec4/e7570/675ca490.png 170w,
/static/1a38795c4df610bc6171c31200b69ec4/f46e7/675ca490.png 340w,
/static/1a38795c4df610bc6171c31200b69ec4/ca1dc/675ca490.png 680w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;바로 아래 탭에서 TokenCredential에 토큰에 대한 Secret Key를 추가해줘야한다.&lt;/p&gt;
&lt;p&gt;외부에서 빌드를 유발하기 위해서는 token을 확인하는 방식이 존재하는데 이 때 Jenkins의 Credential에 있는 정보를 기반으로 수행한다.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;token을 사용하지 않는 경우 계정정보를 입력할 수도 있지만 해당 과정에서는 token을 등록하는 방식을 사용합니다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/b221c2b685a63c919b0a1b7cd7b9e51f/ca1dc/639919be.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 82.3529411764706%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAAAsTAAALEwEAmpwYAAABxElEQVR42q1U267TMBDs7/PGV/DEOy98AFcJ2lN6KOTa5n7vSeI4sTOsnTaqjiAtAksjy4k1uzO769V2+w3rzYPGfv8Dtu3AIqjdtCzYjosgCO/GqihKVFWFLMvR9wP+da3iKEGeF6jrBmVZom4aSDlCCDFBypsY6N44jhMhYx1axtC2DIz2vu/1z7/FnGFKUhWZpI9zxEFMEPImerrHr6xaNW1LHp4gz2lfQ6oAd0hXwWdCxjmSNEPZtHgi+U8d1zi1HRhFVmKkwjnA73AJqgmVZw0VpDUNtK4DdjyCOTYay0TvHyHjCOLgQmQpxJUtz4sihLxIZrBNC8nDGuF2g/DzJ3gf3yPZfEXw4R24ZUA6FoQiXpA9V7njPYI4RkyZRY6DiPoySFJEeQ4/ScCHs+wFyRoXwrquEWYZ8scd0t0OBZ1TIlI2qKX9GRSWe3EmVFW2bBuO5+NgmvAoy4PnIaVCAaP25hZU+6hhmKrcdfB9HyHJLtZfUB0PqChLNTV5UVCP8bmFljB7mJYnbB/3MAwT338a+mEwKFP1MDiui4baaRrFhQyHiVQTvnj1Bi9fv6Wx4//ncVBjoyqtjRfyjzN6L+Ev/wPaIEAnUosAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;639919be&apos; title=&apos;&apos; src=&apos;/static/b221c2b685a63c919b0a1b7cd7b9e51f/ca1dc/639919be.png&apos; srcset=&apos;/static/b221c2b685a63c919b0a1b7cd7b9e51f/e7570/639919be.png 170w,
/static/b221c2b685a63c919b0a1b7cd7b9e51f/f46e7/639919be.png 340w,
/static/b221c2b685a63c919b0a1b7cd7b9e51f/ca1dc/639919be.png 680w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;위와 같은 정보로 Secret text를 작성하고 등록하고 적용한다.&lt;/p&gt;
&lt;h2&gt;응답 확인하기&lt;/h2&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/fca53a76b19e9b744c8f4e9d9b359a97/ca1dc/8f20f94d.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 55.88235294117647%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABxUlEQVR42o1T23LaQAz1YwkQjPHdxru+YhtsTEIoFJo0nU4vb/3/nzmV1pCBzLTThzPyalfSOZKs3XklBukRH+RHDOcNmsc9lps9qvUO3e6ERfOI8czDcOr8F7ThzMfEjXFvC5hhhkAu4MsCU2euoNvhuyD3jNtEI6P3afxhBYkK5ERhWsEjy0F3+tXjM0bvwfc3DE0PerCAJRoY8xq6X8IIajhxCyfpYEZLwgqWbNX3OFpjIJ4oeaASzjyJqRuRFaQoOjMMUxjkyIoOYreG/VxhNHExNn2MqH+MMbWGGU5didX2RGpKlcCmWNOPlUpukeaJAlndYTCxenkmybBJnn7bnwt4QNyeeyrGRdhewIU1N8rxsH9Buz3SdA+QOUml4XiCh9PDprPpJ2+YebFidY03hiJf4fXXb3x6/Ynd6RsOLz+wf/6Oh8MXNFREFi0lrSgopaDsr7DDHIYresnb41fauc+KKVtOlJQdVRQkL6KHUrH6N3hTiGGYlIjSGhMrVBXU7l3toOn3U2Qf37Ovv+tx2VeD3nAfNSfK6G94QrxolbwoWyKtNpB0DuISxWqr2LI/qzeYJzXicg2RNxBFo95ewBP/AwyEJLtFVI/fAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;8f20f94d&apos; title=&apos;&apos; src=&apos;/static/fca53a76b19e9b744c8f4e9d9b359a97/ca1dc/8f20f94d.png&apos; srcset=&apos;/static/fca53a76b19e9b744c8f4e9d9b359a97/e7570/8f20f94d.png 170w,
/static/fca53a76b19e9b744c8f4e9d9b359a97/f46e7/8f20f94d.png 340w,
/static/fca53a76b19e9b744c8f4e9d9b359a97/ca1dc/8f20f94d.png 680w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;GitHub의 WebHook 탭의 Recent Deliveries 탭으로 가서 확인해보면 Response Body값에 다음과 같은 응답이 담겨있는 것을 확인할 수 있다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;jobs&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;pium-dev&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;regexpFilterExpression&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;(?=.*true)(?=.*develop)(?=.*백엔드).*&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;triggered&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;resolvedVariables&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token property&quot;&gt;&quot;BRANCH&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;develop&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token property&quot;&gt;&quot;LABELS&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;[\&quot;?️ \\b리팩터링\&quot;,\&quot;? 백엔드\&quot;]&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token property&quot;&gt;&quot;LABELS_0&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;?️ \b리팩터링&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token property&quot;&gt;&quot;LABELS_1&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;? 백엔드&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token property&quot;&gt;&quot;MERGED&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;true&quot;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;regexpFilterText&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;true develop [\&quot;?️ \\b리팩터링\&quot;,\&quot;? 백엔드\&quot;]&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;id&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;248&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;url&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;queue/item/248/&quot;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;message&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Triggered jobs.&quot;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;regexpFilterText&lt;/code&gt;에 원하는 값이 잘 들어간 것을 확인할 수 있다.&lt;/p&gt;
&lt;h2&gt;결론&lt;/h2&gt;
&lt;p&gt;젠킨스의 &lt;code class=&quot;language-text&quot;&gt;Generic Webhook Trigger&lt;/code&gt; 플러그인을 이용하여 Merge 여부, target branch, label 값을 비교하고 빌드를 유발하는 설정을 했다.&lt;/p&gt;
&lt;p&gt;경우에 따라 세부적인 검증을 추가할 수 있을 것 같다.&lt;/p&gt;
&lt;h3&gt;트러블 슈팅&lt;/h3&gt;
&lt;p&gt;Generic Webhook Trigger 설정 - Token 설정에서 많이 헤맸다.&lt;/p&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/474079b05b637abf6d764381248e8ad2/ca1dc/1c588600.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 40.588235294117645%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsTAAALEwEAmpwYAAABZUlEQVR42n2RSXOCQBCFqRyNCIKsygwILoC4pSyJidlMUpV4zP//LS/dQ5F48vBVL0O/6XlonjOCPcrhxJXCFQsE8RJuwqwwkCVsUVKkM+obroDpDKHbIbqWD8sXCjuI0fcENNMdQaQFbGqGswqnrMR5mOLGdKH3Pdxe0KGe6UYoNzVG47nKB2FCgpIiC0bQ5KREVqzRMRz06Oa+HcDk4QuhruVBt4IG+5/eIIRBM23UKWrj+Qr74zvW+ycU6xox1UGSQ9CmEZOW8MWUNhjDoc0Zztu6zRnLj6HNljt8nH9wPJ1RP3/i8PqFx7dv7B5O6gIxIU/lnAYyEriOHSTQ4mmFbf1CvtxjQ1tWdwfk6z3i6ZI8EsofNpw/vgZ72fckCy7gRRn5MFSmstGMQT+L6wahMP/qptd+y3CPNTQWS/MtJD0tma2QFlsk5KPIuF4qeFs+4zwrNqpO8ybKSQVJr+SZQE7xC1nc2VtW9UMnAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;1c588600&apos; title=&apos;&apos; src=&apos;/static/474079b05b637abf6d764381248e8ad2/ca1dc/1c588600.png&apos; srcset=&apos;/static/474079b05b637abf6d764381248e8ad2/e7570/1c588600.png 170w,
/static/474079b05b637abf6d764381248e8ad2/f46e7/1c588600.png 340w,
/static/474079b05b637abf6d764381248e8ad2/ca1dc/1c588600.png 680w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;{&quot;jobs&quot;:null,&quot;message&quot;:&quot;Did not find any jobs with GenericTrigger configured! If you are using a token, you need to pass it like ...trigger/invoke?token=TOKENHERE. If you are not using a token, you need to authenticate like http://user:passsword@example.org/generic-webhook... &quot;}&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;404 에러와 함께 위 메시지가 반환되었는데 Jenkins의 Token에 대해 이해를 하지 못해 생긴 문제였다.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;왜 다들 Token이 뭔지는 설명을 안해주는거지..?? ㅠㅠ&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;외부에서 빌드를 유발하기 위해서는 token을 확인하는데 이 때 Jenkins의 Credential에 있는 정보를 기반으로 수행한다.&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;이 한마디를 이해하기 위해 하루가 걸렸다... 😇&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;Reference&lt;/h2&gt;
&lt;h3&gt;설정 과정에서 참고한 글&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://bepoz-study-diary.tistory.com/385&quot;&gt;https://bepoz-study-diary.tistory.com/385&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://velog.io/@zayson/Jenkins-CICD-4.-WebHook%EC%9D%84-%EC%9D%B4%EC%9A%A9%ED%95%9C-%EC%9E%90%EB%8F%99-%EB%B0%B0%ED%8F%AC&quot;&gt;https://velog.io/@zayson/Jenkins-CICD-4.-WebHook%EC%9D%84-%EC%9D%B4%EC%9A%A9%ED%95%9C-%EC%9E%90%EB%8F%99-%EB%B0%B0%ED%8F%AC&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;트러블 슈팅 과정에서 참고한 글&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://georgik.rocks/jenkins-generic-webhook-plugin-failed-with-did-not-find-any-jobs-with-generictrigger-configured/&quot;&gt;https://georgik.rocks/jenkins-generic-webhook-plugin-failed-with-did-not-find-any-jobs-with-generictrigger-configured/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://pikachu987.tistory.com/61&quot;&gt;https://pikachu987.tistory.com/61&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[Jenkins와 Github Webhook을 이용해 CI/CD 구축하기]]></title><description><![CDATA[이 글은 우테코 피움팀 크루 '그레이'가 작성했습니다. 이번 피움 서비스에서 CI/CD를 적용하기 위해 Jekins와 Github Webhook을 이용했습니다. 본 글에서는 Jenkins와 Github Webhook을 이용한 SpringBoot…]]></description><link>https://pium-official.github.io/ci-cd-setting/</link><guid isPermaLink="false">https://pium-official.github.io/ci-cd-setting/</guid><pubDate>Mon, 24 Jul 2023 00:00:00 GMT</pubDate><content:encoded>&lt;blockquote&gt;
&lt;p&gt;이 글은 우테코 피움팀 크루 &apos;&lt;a href=&quot;https://github.com/Kim0914&quot;&gt;그레이&lt;/a&gt;&apos;가 작성했습니다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;이번 피움 서비스에서 CI/CD를 적용하기 위해 Jekins와 Github Webhook을 이용했습니다.&lt;/p&gt;
&lt;p&gt;본 글에서는 Jenkins와 Github Webhook을 이용한 SpringBoot 서버 자동 빌드, 자동 배포 과정을 다루겠습니다.&lt;/p&gt;
&lt;p&gt;Jenkins 설치 과정은 &lt;a href=&quot;https://pium-official.github.io/jenkins-setting/&quot;&gt;피움 팀 젠킨스 설치하기&lt;/a&gt; 를 참고하시면 됩니다 !&lt;/p&gt;
&lt;p&gt;작업 환경&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;인스턴스: AWS EC2 t4g.small&lt;/li&gt;
&lt;li&gt;OS: Ubuntu 22.04.2 LTS&lt;/li&gt;
&lt;li&gt;RAM: 2GB&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Jenkins 접속&lt;/h2&gt;
&lt;p&gt;젠킨스를 접속하는 방법은 간단합니다. 젠킨스를 설치한 인스턴스 public IP와 port를 주소창에 입력하면 쉽게 접근할 수 있습니다.&lt;/p&gt;
&lt;p&gt;정상적으로 접속하면 다음과 같은 화면을 만나게 됩니다.
&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/714cdc2e70d78f318a24f0bfa41486a1/bbbf7/img.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 49.411764705882355%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAABMUlEQVR42q1RW27CMBD0zYB+0R/6i9Qf1CPQA8FpEPQqCIhD/Fzb091NW6kPVUJipVU22cl4Zmyel0usVi+Yzx8xnc4wmz3825PJFJvNFvv9AbvdDofDG9brV/1/sXiCsf0VznnU2n51KfXPOWfSTilrE41zjAlmGAYeIj6rcWeqSnBL5TySm9PpjPP5wiePBPJ0PsINHrZ3DCwIIaHreoTISliZtT27irrzjJVd5B1RgRG7l0sHKqSEVBmUPIhPtAODWGlhYCckgdDYghsc+iFATKSUIC4LR5HYuiqUE9Vua6owkuRSEXJVoJT3gdWVj7wSuwgczfgu2Ym6LITWXtWSyB9lE+c3ym/te0ayCyF+kcbIKkvRO5DvgjHH40lzEEUp0c2X8bNMCEGt3qsM7lzvFp3wHPm6DicAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img&apos; title=&apos;&apos; src=&apos;/static/714cdc2e70d78f318a24f0bfa41486a1/ca1dc/img.png&apos; srcset=&apos;/static/714cdc2e70d78f318a24f0bfa41486a1/e7570/img.png 170w,
/static/714cdc2e70d78f318a24f0bfa41486a1/f46e7/img.png 340w,
/static/714cdc2e70d78f318a24f0bfa41486a1/ca1dc/img.png 680w,
/static/714cdc2e70d78f318a24f0bfa41486a1/02d09/img.png 1020w,
/static/714cdc2e70d78f318a24f0bfa41486a1/bbbf7/img.png 1280w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h2&gt;Github Webhook 설정&lt;/h2&gt;
&lt;p&gt;먼저 Webhook을 설정하기 위해 현재 프로젝트의 깃허브 레포지토리로 이동합니다.&lt;/p&gt;
&lt;p&gt;레포지토리의 Settings를 눌러서 접속할 수 있습니다. 이후 왼쪽 메뉴바에 Webhooks를 누르면 아래와 같은 화면을 볼 수 있습니다.
&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/88c4995821b586b038ddb80cefdee513/bbbf7/img_1.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 54.70588235294118%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABEElEQVR42qVS23KFIAw8//+ZPV7QIngBPRBgmzBqX/pkd2YHAmSTkLw2v2PZHOy8wtgFy+owMw3bozaY+W7d/E07GWx8RikjUEKICf4IOELEJxJeOHEcB1JKl4nID3qlsDmHnDOInVMiZCZRRGRnYQgBk7F1L6iCpRTMy1LpvL8D9L1C23Vo2w5d1/PKVBqNmjAYrmr12PededSgt6BAcynDOHKkWG15IHshEd1roIKYCieBP3ELWjtXBwFlArvgCapgygVqGM/UC9xn509PzwWJS3g3fS1bBDN3sJR/ZCjOnpsh/3Z97lOcgsC31tB6guMxeZrdb1PYf1nXOjJXYx6XLCXKQH+9m8rwCbjOnvAHGGJhDhIh4l4AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img 1&apos; title=&apos;&apos; src=&apos;/static/88c4995821b586b038ddb80cefdee513/ca1dc/img_1.png&apos; srcset=&apos;/static/88c4995821b586b038ddb80cefdee513/e7570/img_1.png 170w,
/static/88c4995821b586b038ddb80cefdee513/f46e7/img_1.png 340w,
/static/88c4995821b586b038ddb80cefdee513/ca1dc/img_1.png 680w,
/static/88c4995821b586b038ddb80cefdee513/02d09/img_1.png 1020w,
/static/88c4995821b586b038ddb80cefdee513/bbbf7/img_1.png 1280w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;오른쪽 상단의 Add Webhook 버튼을 눌러 webhook을 추가하는 화면으로 이동합니다.&lt;/p&gt;
&lt;p&gt;그러면 아래와 같은 Payload URL, Content Type, Secret을 입력하는 폼이 나타납니다.
&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/c9f86ed3f14eb7f8d26b35ebd50a1b81/bbbf7/img_2.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 87.64705882352942%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB40lEQVR42p2UaW7bMBCFdfaiPUHQnqYw0D8BcoKibeLIkhftmyWR4qLXGcpWlPzwEgIfuInPnDdjeuu4R5B0CHcH+MEWZX2EGDR6qT4wfEAteoWOxnYc4dWtxLEb0BxbVHWDrhcQ/KGQM4IOnNe4l8M0dwgBKaczIws+v/h4Xm/gb0IEQYDNJkAYhsQWu91+mm+32NDey3qN11d/Xmf8fYZ/YY6sPIKbV7YGSa3RCQ1rLbQ2MMa4MffGvK0xWms3n7GAIjhcd8M4jpAkCQYpYRYi4+mDN3CxjTgJRkmGfZQiL2oUVUNXr9G0PaTSlBz1DntBlXcmwSh2fnVdj4EOyYGNli60e9oseCDBmEIuq5qyTFQVsjynbPefE0yzHJqTQBNjR+ejpV6Tj4pMZ3isT75eFeTD80HuzYQTPAmxn8xNHqZpgizLHJztJE0RRRHiOHbwmrVmyuN4HS/JaxJLkaYZyrJyIQ9KQS24y8O8KMGZ3lL1H+hmhsIerxXdJUEpespwRXVYoChL5HnhyubTgnHaQrZTiXDtqTOUhIFqkv85t3g3e7j684TV70f8+vuEsqkhen5hhLtl23U3F/h8w6+r7/i2+oEvPx9QiWbaXHg43ojF9EB4736FFs6vhl1wT8j/ASXRfKJMUiADAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img 2&apos; title=&apos;&apos; src=&apos;/static/c9f86ed3f14eb7f8d26b35ebd50a1b81/ca1dc/img_2.png&apos; srcset=&apos;/static/c9f86ed3f14eb7f8d26b35ebd50a1b81/e7570/img_2.png 170w,
/static/c9f86ed3f14eb7f8d26b35ebd50a1b81/f46e7/img_2.png 340w,
/static/c9f86ed3f14eb7f8d26b35ebd50a1b81/ca1dc/img_2.png 680w,
/static/c9f86ed3f14eb7f8d26b35ebd50a1b81/02d09/img_2.png 1020w,
/static/c9f86ed3f14eb7f8d26b35ebd50a1b81/bbbf7/img_2.png 1280w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Payload URL&lt;/strong&gt;은 젠킨스가 설치되어 있는 서버의 &lt;code class=&quot;language-text&quot;&gt;도메인 주소:포트/github-webhook/&lt;/code&gt; 을 입력합니다.&lt;/p&gt;
&lt;p&gt;젠킨스의 기본 포트는 8080으로 설정되어 있습니다.&lt;/p&gt;
&lt;p&gt;주소 마지막에 / 는 꼭 넣어주셔야 합니다.&lt;/p&gt;
&lt;p&gt;/를 넣지 않으면 redirect URL로 인식해 정상적으로 동작하지 않습니다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Content-type&lt;/strong&gt;은 &lt;code class=&quot;language-text&quot;&gt;application/json&lt;/code&gt;을 선택합니다.&lt;/p&gt;
&lt;p&gt;Secret은 비워두면 됩니다.&lt;/p&gt;
&lt;p&gt;마지막으로 어떤 동작에서 webhook을 발생시킬지 선택하면 됩니다.&lt;/p&gt;
&lt;p&gt;저희 팀의 경우에는 &lt;strong&gt;Let me select individual events&lt;/strong&gt;를 눌러 &lt;strong&gt;push&lt;/strong&gt;와 &lt;strong&gt;pull request&lt;/strong&gt;가 발생했을 때 webhook이 동작하도록 선택했습니다.&lt;/p&gt;
&lt;p&gt;모든 선택을 마친 후 &lt;strong&gt;Add webhook 버튼을 누르면 토큰이 발행&lt;/strong&gt;됩니다.&lt;/p&gt;
&lt;p&gt;토큰을 생성할 때 토큰 권한도 함께 설정할 수 있는데, 이 때 repo와 admin:repo_hook을 선택해주시면 됩니다.&lt;/p&gt;
&lt;p&gt;만약 CI를 통해 PR에 comment를 남기는 등의 write가 필요없는 경우에는 wirte 권한을 빼줄 수 있을 것 같습니다.&lt;/p&gt;
&lt;p&gt;해당 토큰은 생성 후 재발행되지 않기 때문에 따로 보관을 하는 것이 좋습니다.&lt;/p&gt;
&lt;hr&gt;
&lt;h2&gt;Credentials 생성&lt;/h2&gt;
&lt;p&gt;다시 젠킨스 화면으로 이동해서 Credentials를 등록하여 Github webhook을 연동 시켜야 합니다.&lt;/p&gt;
&lt;p&gt;젠킨스 메인 화면에서 Jenkins 관리 페이지로 접속하면 Security 탭에 Credentials를 눌러 접속합니다.
&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/eeb60e900905f7bc182e9621a1488b8a/baa93/img_3.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 75.88235294117648%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB0ElEQVR42pVTgW6rMAzk/39y0tRRKBQIJJCEEL87A33q1E5bJIsqte8uPrvw3ss0TSKS5Tzrusrl8iVledXf308+UmNcxZhZxnER71cJYZXCGCPOuaeCbdtAYhEOiUH+cgoW3u+dWGsfl2SuqgYKK9w7qEwgyQdZlq5jDYX4R1jrZVmiFG3bo/CGhEFlMwhA+fwyqJKqeVLakDuBcJC+dzIMTr8kmSa/A16vjQKEkDRiTOiLRaIBa5B5XhQ0hKjA1i5yu7XSNC3UzSqCNRnNLajMuQVKNlXD5/K7LB7sI4pnBaU5OW9aRJWsYZDsJFLAum7hlFWGXeWqCePoVIUxk5LwjipZ9LD5u+00pW3vR492ZgbZQghH/+LDlNOYJ6wzjr+K/SnPibzr++F5Bs8cjFm6lBLrm2xNI3BD4BDt3wFfzdLZ+K4b0COv/fSIxP8AMn18So+hH6+VJI5bWXLW3gOmlHSo65qzWKuTfHaCygwTFih03CK4vIIgQSVr2JK3gDMURbDSkN2U3f0NoA6uG7jvOa/oedC5jZLwff1kAHJDOIfcIj49sgDFcrqc8+vVe7eTdL6q7ohWOFpcAK7bK6d/Bchnc1v+PzmqQTn/DPgPV6WWi+Dj700AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img 3&apos; title=&apos;&apos; src=&apos;/static/eeb60e900905f7bc182e9621a1488b8a/ca1dc/img_3.png&apos; srcset=&apos;/static/eeb60e900905f7bc182e9621a1488b8a/e7570/img_3.png 170w,
/static/eeb60e900905f7bc182e9621a1488b8a/f46e7/img_3.png 340w,
/static/eeb60e900905f7bc182e9621a1488b8a/ca1dc/img_3.png 680w,
/static/eeb60e900905f7bc182e9621a1488b8a/02d09/img_3.png 1020w,
/static/eeb60e900905f7bc182e9621a1488b8a/baa93/img_3.png 1236w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Add Credentials를 누릅니다.
&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/7a5b569bed511798c15faed3c85bba2b/e4ddf/img_4.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 28.82352941176471%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAkUlEQVR42q2P6w6CMAyFef/HNMi4iGNssHW34wnRxH9i9CQnbZP2a9t0nYJSA92jba9YFoNf1BjjMPQjQSus3bFtAfqu4dyOGAtCSKddayWQoGnx2HxGzgUpFVwGi/G2wvsAkURw/miRjFIIFBFEgjKLQ9xieN00z9Baszl997JI5FXcEN4Ga32G+krPA/FnPQABGNhYehKerAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img 4&apos; title=&apos;&apos; src=&apos;/static/7a5b569bed511798c15faed3c85bba2b/ca1dc/img_4.png&apos; srcset=&apos;/static/7a5b569bed511798c15faed3c85bba2b/e7570/img_4.png 170w,
/static/7a5b569bed511798c15faed3c85bba2b/f46e7/img_4.png 340w,
/static/7a5b569bed511798c15faed3c85bba2b/ca1dc/img_4.png 680w,
/static/7a5b569bed511798c15faed3c85bba2b/02d09/img_4.png 1020w,
/static/7a5b569bed511798c15faed3c85bba2b/e4ddf/img_4.png 1082w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;그러면 아래와 같은 화면을 볼 수 있습니다.&lt;/p&gt;
&lt;p&gt;깃허브 webhook에서 발급받은 토큰을 이용해 크리덴셜 값을 생성합니다.
&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/da40bf6b3f114efc1945300dbdb20c63/b034b/img_5.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 83.52941176470588%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAAAsTAAALEwEAmpwYAAABT0lEQVR42qWUa26DMBCEffVep397iko9QaU2FYqSUCUE29gYP5juLklURWoTAtInIQzr2dkxqq6/sV5vsFpVqKo1cs5Ycqm21bCdg/Me3vcYx/HhYvytclTE2g6G8H1ALiNRkDKTZxFTgkopo2mOCCFIu7KYmCQ7zqGQECmojYUhtDFyr7VFqw2GmE5KbxOpDr8vBQ+k0Dl35QdmKxQPp4It+eimXYYoXvD9XA8ZxQPgAjwYay06mngpj09acbFGWvYy3UJ+sLnMvREaz5xbnnLYS2x+E6h9NvoWnIgzKpOi/b7BdlvLpKfWJ8xp+v9xODT4qjU+Ni0a7UkhGRnCcGmTsziHSApdyOhClkEqfsCZk6MnJ6XM5CrYQ6TYHDWFmYMcUXhhAaoUkhqctM273Xsy/kK97wa8fvYIiWRjXK7w+c3g6WUP05fLkVvyP/wBBas4+001170AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img 5&apos; title=&apos;&apos; src=&apos;/static/da40bf6b3f114efc1945300dbdb20c63/ca1dc/img_5.png&apos; srcset=&apos;/static/da40bf6b3f114efc1945300dbdb20c63/e7570/img_5.png 170w,
/static/da40bf6b3f114efc1945300dbdb20c63/f46e7/img_5.png 340w,
/static/da40bf6b3f114efc1945300dbdb20c63/ca1dc/img_5.png 680w,
/static/da40bf6b3f114efc1945300dbdb20c63/02d09/img_5.png 1020w,
/static/da40bf6b3f114efc1945300dbdb20c63/b034b/img_5.png 1072w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;kind&lt;/strong&gt;는 &lt;code class=&quot;language-text&quot;&gt;Username with password&lt;/code&gt;를 선택합니다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;username&lt;/strong&gt;에는 깃허브 토큰을 발급받은 &lt;code class=&quot;language-text&quot;&gt;깃허브 아이디&lt;/code&gt;를 작성합니다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;password&lt;/strong&gt;에는 &lt;code class=&quot;language-text&quot;&gt;해당 토큰 값&lt;/code&gt;을 넣으면 됩니다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ID&lt;/strong&gt;는 젠킨스에서 이 &lt;strong&gt;크리덴셜을 식별하기 위한 이름이므로 크게 의미가 없는 값&lt;/strong&gt; 입니다.&lt;/p&gt;
&lt;hr&gt;
&lt;h3&gt;Gradle 설정&lt;/h3&gt;
&lt;p&gt;현재 우리 팀은 스프링 부트 서버를 빌드하기 때문에 gradle이 반드시 필요합니다.&lt;/p&gt;
&lt;p&gt;젠킨스 메인 화면에서 대시보드 -&gt; 젠킨스 관리 -&gt; Tools를 누르면 아래와 같은 Gradle 설정 화면을 볼 수 있습니다.
&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/dc8e606c0d893391862fc9aeb13e7aee/23e59/img_6.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 81.17647058823529%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAAAsTAAALEwEAmpwYAAABJElEQVR42qWTC26EMAxEOXGP1Vv0GL0Cu2KBEAhJyG9qO/1QqVIbGmlAAfEyY+wuhAClFpRSRP9dXYwJt9uEvh+htQXvWZeBfNHrhmEYsSwaKVXgVbcC3K3HNGtY6wQWQkTO+TrQOo/N7EgEYWNVpU2citIJ0BiDeZ7lhJKLuGtVipQqvgPVZvCYFDl1cN6L05TaFBlccgUOasVAwIXa5zFO2OiALPH/Hpnd8Tcdb/hHeKrjSn/bWksl2OXUllU4cjoBDYGmaRZQ5mfcPg3yNCDpw2EguqXaKb1RC7lal9yur8ipbrwPzVHPi5N99iG7qyNX5MUVsbmObrUGR7g8Hd8m5TgOHN5Vy+dG/anffulPqWGvIp6e73h5XZG8JaexfexOegOyqO+9u/tqSwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img 6&apos; title=&apos;&apos; src=&apos;/static/dc8e606c0d893391862fc9aeb13e7aee/ca1dc/img_6.png&apos; srcset=&apos;/static/dc8e606c0d893391862fc9aeb13e7aee/e7570/img_6.png 170w,
/static/dc8e606c0d893391862fc9aeb13e7aee/f46e7/img_6.png 340w,
/static/dc8e606c0d893391862fc9aeb13e7aee/ca1dc/img_6.png 680w,
/static/dc8e606c0d893391862fc9aeb13e7aee/02d09/img_6.png 1020w,
/static/dc8e606c0d893391862fc9aeb13e7aee/23e59/img_6.png 1098w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Gradle 8.2.1 버전을 추가했습니다.&lt;/p&gt;
&lt;p&gt;추가를 완료하고 바로 페이지를 나가면 안됩니다.&lt;/p&gt;
&lt;p&gt;가장 아래에 있는 파란색 save 버튼을 눌러야 해당 설정이 저장됩니다 !!&lt;/p&gt;
&lt;p&gt;Gradle 설정까지 마치면 빌드할 준비를 모두 마쳤습니다.&lt;/p&gt;
&lt;p&gt;이제 CI를 자동으로 실행하기 위해서는 CI 스크립트를 작성해야 합니다.&lt;/p&gt;
&lt;hr&gt;
&lt;h2&gt;CI 스크립트 작성&lt;/h2&gt;
&lt;p&gt;드디어 CI를 담당하는 젠킨스 아이템을 생성할 시간입니다 !&lt;/p&gt;
&lt;p&gt;대시보드에서 New Item을 누르면 아래와 같은 화면을 볼 수 있습니다.
&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/6df00fb04c89f3d1d4140127c5a51b6d/84a58/img_7.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 102.35294117647058%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAACb0lEQVR42p1USXLbMBDkJ/OfPCP/yBtyzCWHRLEsS6QocQUXgCBIWnFnGiIV2lV22Tl0zQKgORsnqCqNKEoQxynC8Aza1o7ouuFDMGZA70YEnXUoigqlqjGMj4IJbhifoXd84N5LOKBQLeq6lccT+l6iE5+dsdbfAkk9YVXl2G1/SMpnPOwPyLJMSHu5YAXdDcaYG2hrkXrWjbmej8OAwGqFIt5IHU/Ybu9xOISiH5EkqUTdCGqpawWlpCylghK9Ep9SSuzS36mq2uvOOQR15xAVjTQkun5llJr1TtIfME2TtxesbSd1HaXeg9R4EvvP0xOmywUBm2Dl8HQ6I81ySfmKJMme6Yw4z4tZljBMdUZnLR6FjAg6Icskld3ugF+bO9zd3WMjMi9KtFqjaRq0bevTZGrNrFOuox8ko2FkU1qD3THFMYr9Az5m3bSQEbT1TEys9TUZ60c9iPIa337GCKUZ53MiKSU+/QX0xfHpGeiPT1fJ2tPH5rDGAYeWkR0Oke/ww8Ped5ANWiJsmn+gvWA5591bhK02iE7J7cuRpE5CpsRxqf2IVHOarR8dEi0dXyTT9oS1XNrtI4Qyeww/Co9om/YWoR9mTd34AWYkhG/CC3hCXuJXMxkFdjaT0chXelEoD/oK8Vnb+zl9CfpJGjTaIj7zYYM0FZJMeaSpkgaVXubSOOr0v7YkbsvhWGh836Yoc9atmy+4lbzCE5l3bBvuvrbtZVAN6kb7rcMDN2PRueZI+hq07mF7LgdfAxpWtkf/6oN3L9iwrPHpyx6fvx6FVP5NPfrDj0Jr2Ys9Ux4H/E47RMrOv9Ljf2OaLvgL59X3vdpjMPoAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img 7&apos; title=&apos;&apos; src=&apos;/static/6df00fb04c89f3d1d4140127c5a51b6d/ca1dc/img_7.png&apos; srcset=&apos;/static/6df00fb04c89f3d1d4140127c5a51b6d/e7570/img_7.png 170w,
/static/6df00fb04c89f3d1d4140127c5a51b6d/f46e7/img_7.png 340w,
/static/6df00fb04c89f3d1d4140127c5a51b6d/ca1dc/img_7.png 680w,
/static/6df00fb04c89f3d1d4140127c5a51b6d/84a58/img_7.png 972w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;상단에 아이템 이름을 설정하고 Pipeline을 구축할 것이기 때문에 Pipeline을 선택하고 OK를 누릅니다.&lt;/p&gt;
&lt;p&gt;이후 아래와 같이 아이템을 설정할 수 있는 화면이 나옵니다.
&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/6dda25c41475b6bea44e52dcc55c70f3/649dd/img_8.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 104.11764705882354%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAVCAYAAABG1c6oAAAACXBIWXMAAAsTAAALEwEAmpwYAAABnklEQVR42qWU606DQBCFeW1fyjfxh/+MUUOpbbrlfltgd+E4Zy01sdISO8mUksLXM2dmNkjTDFG0xTAMmGMYDMJwg6ZpcCsmfowOTy8feN0qBHGcY7+PobVF31t0nfFA65x/eJymmzkxCZdrkOcVlErAa1k2MMbBudH/iNNDE26Hh48CZKlt28rND8SJuqpuUPfjGTaDl1Q6eZ+MYOkf6V8i/tLjoqxgrPU+G2OvKg0uDJaodI+3zSfUQaGsKl+B1h3aRovH3XrgHFY8zEUVYVaUzaVO3qfRl/c77a2SddejFh8JxOzV6aVrHQ+WZoswJstlevCKWASyEUodZZwK5EUhI1Wdp+BfwOMxwXa7E5W1L3NtLAAnvy2d+Miuci7vAhKgVIyiKH2ZvF+rctnDokKSpB6qtb6vKQzCwjBCluWrYVcG2yETZYRxdLj0azq8uHpl2+F9s0OWprIttd9rzuK/x4bBQ+Egu/x9IJjVnf67KaKEI9O22ie/3wXkEcWmUCWvBNJHHrzX8uJwmC1KaoeHxwTPkcZoRN2pKWvyC/Vbd+UXG3z9AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img 8&apos; title=&apos;&apos; src=&apos;/static/6dda25c41475b6bea44e52dcc55c70f3/ca1dc/img_8.png&apos; srcset=&apos;/static/6dda25c41475b6bea44e52dcc55c70f3/e7570/img_8.png 170w,
/static/6dda25c41475b6bea44e52dcc55c70f3/f46e7/img_8.png 340w,
/static/6dda25c41475b6bea44e52dcc55c70f3/ca1dc/img_8.png 680w,
/static/6dda25c41475b6bea44e52dcc55c70f3/02d09/img_8.png 1020w,
/static/6dda25c41475b6bea44e52dcc55c70f3/649dd/img_8.png 1234w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;저희는 깃허브 프로젝트를 사용하고 있기 때문에 Github Project를 체크한 후 레포지토리의 url을 입력합니다.&lt;/p&gt;
&lt;p&gt;다음으로 Build Trigger를 선택해야하는데, Github webhook을 사용할 계획이므로 Github hook triger for GITScm polling을 선택합니다. 해당 버튼을 클릭하면 아래에 스크립트를 작성하는 칸이 나옵니다.
&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/bd8c7b72f56aa54df93f026f56661fe7/8dc7d/img_9.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 75.29411764705883%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA/UlEQVR42rVTu27DMAzUX/cD+j3ZunfpVnTr0KFAmymwHSe2bJl6X0gl6VzVroCTSAg8HXGUmqYZTdMi54wtlppn80MonGtQCJeF0LRHaD3Bh4AQYx3C9bTWlVPFlEBEDIvE8VXp73Ff91wl3rquwzAM8N5XwVqLvj9x/bHUR1GYbgolqVUnNdKZtQTnXOmwtCwvyeUmLv8bocjdhDCljODZch4ZiQXySPX43DxQISbsDx1Ow4iRZ/E8aEzGgHiualFMcT7i/fuA/sxE/A211sWxP7dc7GeMNmNy6/+zev0iPOxaPH8Y5OCxkFtH+LYnPD71ePkkBEcwxq4ivAB8BJ6XaIkQOwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img 9&apos; title=&apos;&apos; src=&apos;/static/bd8c7b72f56aa54df93f026f56661fe7/ca1dc/img_9.png&apos; srcset=&apos;/static/bd8c7b72f56aa54df93f026f56661fe7/e7570/img_9.png 170w,
/static/bd8c7b72f56aa54df93f026f56661fe7/f46e7/img_9.png 340w,
/static/bd8c7b72f56aa54df93f026f56661fe7/ca1dc/img_9.png 680w,
/static/bd8c7b72f56aa54df93f026f56661fe7/8dc7d/img_9.png 888w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Script칸에 팀에서 필요로 하는 CI Script를 입력하면 됩니다.&lt;/p&gt;
&lt;p&gt;여기서 저장 버튼 위에 보이는 Pipeline Syntax를 누르면 깃허브를 이용해 접근할 수 있는 스크립트를 생성하는 화면이 나옵니다.
&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/15781dae004666ce624f5a21f7b899ca/74b07/img_10.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 87.64705882352942%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAAAsTAAALEwEAmpwYAAABvklEQVR42p1UyU7DMBTM//8F4iuKxJXlgoALEoeWlpKmaZImjrPHHd44pARIW8DSyPv4LfPsxLFCVdVoGoO2NTBmhyRJkKYau91O5sb2Q3CN54hu/rnnLBYulss1wlBBqQJ13WK99jGbzfH25sLz1litPCwWS8znr3LWtftc8zzfgnP2eV7ACYIQ2+1WCNnH9pUkUfD9jSAA9znmhb7fbAI7juMEOsugtbYeVVXVE8Z20ratJeQm3fpPs4RBEFlSxoItirZI5VUj5K0Q/wbNhzEOzSfyPN+/khcFqrr+QWiOoGmajpBxIOhu3+h+VVb2wJ9dHlsshdCVLNJylaYCjUSlKPnICUvHCeWikhjSjVpcJxgCxulYHA8TioWM4xcx/zJBBwnDMBJLy7115oSrR10mCUWts9wiE/SldggsW2KUMFIafhRbIpL/O8u9TFZhAk/EXhdioU7/VDXfCLv+8u4JZ5MrnF9cY+pu7Jo5oslh8kZdvn9+weTmAZPbR0yXKxE6k9PYj0CJHlnrBDXKEqWcehU4Y68Nren+yO5P7ALf7hPQg8eJ0aTY30ZniOSzyIsSpN5nc6DJL+NBtt8BiNKBWl2aAGEAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img 10&apos; title=&apos;&apos; src=&apos;/static/15781dae004666ce624f5a21f7b899ca/ca1dc/img_10.png&apos; srcset=&apos;/static/15781dae004666ce624f5a21f7b899ca/e7570/img_10.png 170w,
/static/15781dae004666ce624f5a21f7b899ca/f46e7/img_10.png 340w,
/static/15781dae004666ce624f5a21f7b899ca/ca1dc/img_10.png 680w,
/static/15781dae004666ce624f5a21f7b899ca/02d09/img_10.png 1020w,
/static/15781dae004666ce624f5a21f7b899ca/74b07/img_10.png 1238w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Sample Step을 Git으로 설정한 후 아래에 값을 입력하면 됩니다.&lt;/p&gt;
&lt;p&gt;Credentials에는 좀 전에 생성했던 크리덴셜을 선택하면 됩니다. 해당 정보에 토큰 값이 있기 때문에 정확한 크리덴셜을 선택해야 합니다.&lt;/p&gt;
&lt;p&gt;크리덴셜은 생성할 때 입력한 ID와 동일하게 보여집니다.&lt;/p&gt;
&lt;p&gt;모두 입력했다면 Generate Pipeline Script를 눌러 완성된 스크립트를 확인합니다.&lt;/p&gt;
&lt;p&gt;해당 스크립트를 만드는 이유는 빌드 과정에서 Github 저장소에서 저장소를 복제해야하기 때문입니다.&lt;/p&gt;
&lt;p&gt;그러므로 저장소에 대한 접근 권한이 반드시 필요합니다.&lt;/p&gt;
&lt;p&gt;전체 빌드 스크립트는 아래와 같습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;pipeline &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    agent any
    tools &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        gradle &lt;span class=&quot;token string&quot;&gt;&apos;gradle&apos;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    triggers &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        githubPush&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    stages &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        stage&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;저장소 복제&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            steps &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                // 여기서 방금 생성된 깃허브 스크립트 넣기
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        
        stage&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;빌드&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            steps &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;token function&quot;&gt;sh&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;&apos;&lt;/span&gt;&apos;
                &lt;span class=&quot;token builtin class-name&quot;&gt;cd&lt;/span&gt; backend/pium
                ./gradlew clean build
                &lt;span class=&quot;token string&quot;&gt;&apos;&apos;&lt;/span&gt;&apos;
            &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
            post &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                failure &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                    slackSend &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
                        channel: &lt;span class=&quot;token string&quot;&gt;&apos;#알림-젠킨스&apos;&lt;/span&gt;,
                        color: &lt;span class=&quot;token string&quot;&gt;&apos;#FF0000&apos;&lt;/span&gt;,
                        message: &lt;span class=&quot;token string&quot;&gt;&quot;백엔드 Build 실패...😢&quot;&lt;/span&gt;
                    &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;stages에서 깃허브 저장소에 있는 프로젝트를 가져온 후, 본인의 프로젝트 디렉토리로 이동해 build를 진행하도록 하면 됩니다.&lt;/p&gt;
&lt;p&gt;디렉토리를 옮기는 부분에서 몇 번 에러가 있었는데, Jenkins 대시보드의 Console Output을 이용해 디버깅하면서 수정해나가면 쉽게 설정할 수 있습니다.&lt;/p&gt;
&lt;p&gt;지금까지 올바르게 적용되었다면 CI 설정은 모두 정상적으로 마쳤습니다.&lt;/p&gt;
&lt;p&gt;다음으로 CD(자동 배포) 설정 방법을 알아보겠습니다.&lt;/p&gt;
&lt;hr&gt;
&lt;h2&gt;SSH Agent 설치&lt;/h2&gt;
&lt;p&gt;현재 빌드 서버와 운영 서버가 서로 다른 인스턴스로 분리되어 있기 때문에, 젠킨스 빌드 서버에서 빌드한 파일을 운영서버로 전달해야&lt;/p&gt;
&lt;p&gt;합니다. 이때 다른 인스턴스로의 접속이 필요하므로 SSH 연결 설정을 해야 합니다.&lt;/p&gt;
&lt;p&gt;기존의 블로그나 여러 레퍼런스를 찾아보면 Publish Over SSH를 많이 사용하는데, 현재 접속 불가 이슈가 있습니다.&lt;/p&gt;
&lt;p&gt;그러므로 SSH Agent를 사용해야 합니다.&lt;/p&gt;
&lt;p&gt;Jenkins 관리의 Plugin 탭을 들어가서 설치할 수 있습니다.&lt;/p&gt;
&lt;p&gt;Jenkins도 하나의 서버에서 동작하고 있기 때문에 운영서버로 접속하기 위한 pem 키가 필요합니다.&lt;/p&gt;
&lt;p&gt;대시보드 -&gt; 젠킨스 관리 -&gt; Credentials 로 이동합니다.&lt;/p&gt;
&lt;p&gt;깃허브 크리덴셜을 생성하는 것과 동일한 방법으로 pem 키를 크리덴셜로 설정합니다.
&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/3d725457a15753e0fdcec93acfa61a2f/bbbf7/img_11.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 53.529411764705884%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAs0lEQVR42q2SwRLCIAxE+f8/8R+8+xce6niojra0lBKgrEk69S6YmXeh02V3ien7B7ruhtFOkCmlMKikwKxrwBoIRBHbVpgNOdeSYaZphmV3IuwWj8DiTYIxJqQkZEU+7E7r0Mjee1VvReoyC8eU/mRanH0dinKMUTluacFYfpRhGPkxgh7UTuZ/dW2eb6sd/mtM4pjOORU9ov8CEelWn84XXO89d8hWZW1a+pOor3FGoIgP9rZj6Gx0/M4AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img 11&apos; title=&apos;&apos; src=&apos;/static/3d725457a15753e0fdcec93acfa61a2f/ca1dc/img_11.png&apos; srcset=&apos;/static/3d725457a15753e0fdcec93acfa61a2f/e7570/img_11.png 170w,
/static/3d725457a15753e0fdcec93acfa61a2f/f46e7/img_11.png 340w,
/static/3d725457a15753e0fdcec93acfa61a2f/ca1dc/img_11.png 680w,
/static/3d725457a15753e0fdcec93acfa61a2f/02d09/img_11.png 1020w,
/static/3d725457a15753e0fdcec93acfa61a2f/bbbf7/img_11.png 1280w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;kind&lt;/strong&gt;는 &lt;code class=&quot;language-text&quot;&gt;SSH Username with private key&lt;/code&gt;를 선택합니다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;id&lt;/strong&gt;는 깃허브 크리덴셜과 마찬가지로 식별자이기 때문에 &lt;code class=&quot;language-text&quot;&gt;원하는 값을&lt;/code&gt; 입력하면 됩니다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;username&lt;/strong&gt;은 인스턴스의 HostName ex) ubuntu@123-345-678-23의 &lt;code class=&quot;language-text&quot;&gt;ubuntu&lt;/code&gt; 를 입력하면 됩니다.&lt;/p&gt;
&lt;p&gt;마지막으로 &lt;strong&gt;인스턴스를 생성하면서 받았던 pem 키를 Add 버튼을 눌러 추가&lt;/strong&gt;합니다.&lt;/p&gt;
&lt;p&gt;pem 키에 있는 모든 내용(Begin, End 포함)을 다 복사해서 넣어야합니다.&lt;/p&gt;
&lt;hr&gt;
&lt;h2&gt;CD 스크립트 작성&lt;/h2&gt;
&lt;p&gt;이제 젠킨스가 설치된 서버에서 빌드된 결과물을 운영 서버로 전달하는 스크립트를 작성해야 합니다.&lt;/p&gt;
&lt;p&gt;이때 scp 라는 프로토콜을 사용하여 파일을 전달합니다.&lt;/p&gt;
&lt;p&gt;저희 팀이 사용한 스크립트는 아래와 같습니다.&lt;/p&gt;
&lt;p&gt;빌드 성공 유뮤, 배포 성공 유무를 슬랙과 연동해 사용하고 있습니다 !&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;pipeline &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    agent any
    tools &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        gradle &lt;span class=&quot;token string&quot;&gt;&apos;gradle&apos;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    triggers &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        githubPush&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    stages &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        stage&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;저장소 복제&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            steps &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                // 깃허브 크리덴셜
            &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        
        stage&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;빌드&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            steps &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;token function&quot;&gt;sh&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;&apos;&lt;/span&gt;&apos;
                &lt;span class=&quot;token builtin class-name&quot;&gt;cd&lt;/span&gt; //프로젝트 위치
                ./gradlew clean build
                &lt;span class=&quot;token string&quot;&gt;&apos;&apos;&lt;/span&gt;&apos;
            &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
            post &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                failure &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                    slackSend &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
                        channel: &lt;span class=&quot;token string&quot;&gt;&apos;#알림-젠킨스&apos;&lt;/span&gt;,
                        color: &lt;span class=&quot;token string&quot;&gt;&apos;#FF0000&apos;&lt;/span&gt;,
                        message: &lt;span class=&quot;token string&quot;&gt;&quot;백엔드 Build 실패...😢&quot;&lt;/span&gt;
                    &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        stage&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;배포&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            steps &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                sshagent&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;credentials: &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;pem 키로 생성한 크리덴셜 ID&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                    &lt;span class=&quot;token function&quot;&gt;sh&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;&apos;&lt;/span&gt;&apos;
                        &lt;span class=&quot;token builtin class-name&quot;&gt;cd&lt;/span&gt; //프로젝트 위치
                        
                        &lt;span class=&quot;token function&quot;&gt;ssh&lt;/span&gt; &lt;span class=&quot;token parameter variable&quot;&gt;-o&lt;/span&gt; &lt;span class=&quot;token assign-left variable&quot;&gt;StrictHostKeyChecking&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;no &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;HostName&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;@&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;Private IP&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;uptime&lt;/span&gt;
                        &lt;span class=&quot;token builtin class-name&quot;&gt;cd&lt;/span&gt; build/libs
                        
                        &lt;span class=&quot;token function&quot;&gt;scp&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;빌드된 Jar 파일명&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;HostName&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;@&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;Private IP&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;:/home/ubuntu
                        &lt;span class=&quot;token function&quot;&gt;ssh&lt;/span&gt; &lt;span class=&quot;token parameter variable&quot;&gt;-t&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;HostName&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;@&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;Private IP&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;운영서버 배포 스크립트 파일&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
                    &lt;span class=&quot;token string&quot;&gt;&apos;&apos;&lt;/span&gt;&apos;
                &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
            post &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                success &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                    slackSend &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
                        channel: &lt;span class=&quot;token string&quot;&gt;&apos;#알림-젠킨스&apos;&lt;/span&gt;,
                        color: &lt;span class=&quot;token string&quot;&gt;&apos;#00FF00&apos;&lt;/span&gt;,
                        message: &lt;span class=&quot;token string&quot;&gt;&quot;백엔드 배포 성공! 🚀&quot;&lt;/span&gt;
                    &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
                failure &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                    slackSend &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
                        channel: &lt;span class=&quot;token string&quot;&gt;&apos;#알림-젠킨스&apos;&lt;/span&gt;,
                        color: &lt;span class=&quot;token string&quot;&gt;&apos;#FF0000&apos;&lt;/span&gt;,
                        message: &lt;span class=&quot;token string&quot;&gt;&quot;백엔드 배포 실패 🥲&quot;&lt;/span&gt;
                    &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;CI/CD 설정을 모두 마친 후 깃허브 프로젝트에 push, pull request와 같은 trigger가 발생하면 아래와 같이 빌드 결과를 볼 수 있습니다.
&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/b07a6d79f709673b8ffa107d58d45df6/bbbf7/img_12.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 84.11764705882354%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAAAsTAAALEwEAmpwYAAACdklEQVR42q1S227bMAzN//9PURTbc/qQoSiKpUmT2HFly5Zkyfdb7MRnlLIO6zCgQFEDhCWSIs855CKOEzw+PsHzfOx2B/h+AMYifPZbtG2LNNUoyxJZlqOqajRN8/mC+OLv6wvmeQGro1IphmF4F5zn2dnf9/+d3xUsipKGEEIIibbtPnz81uTfZh9S7roOm+0L9gcP4zi6u21+Pp/d2TKzjGxRe79cLs4Wb51sok04nUZM0+SS7CpZs347eaMNxU+oaROkZUQ+m1uWlWt6Pk9XhH0/UMccSSLAeew0NcYgCOxOMkipYDIDrTVSshc/wtP2iIBx51NKIZEpOqqzkHkDJjJsN89Yr9fXjkRNVRJh/YqoZhANR3qSUIOA6gVYEcA3HnjFfvsTF+vHDgvLu2larFYrZ1flgeykwQeGeAihTgmyOYW+SOizQtyHCJsAycBhLop8EmaWGKbeImzB0xKpkjRpca13mWEGDUaPooYoEwJzvj7UowSrAnhm59DbBnqSLtZPDuHs1uV+eY/lcvkHYT4aRF0A3hOtUSCftUOZXVKwOsBebxG1jHzaIbexK8KsRigMYh4hDCMq3qCpW8Q5h5ft4GcHsDJA3IXOItL1SL4DIQxy0pEY8DYkY2hPLRY1octpCN+/f8PNzQ2qukKR07LrAGvxhGfxk4ru8Vr5OJYHBIWHrVzj4bjCLt0gKH34xd7FmqHBwpQtVF5Dpymth3RTnsYJshauiNWLNyEkDcZa0nGH+LU8ur/oY+cXQ4zOTjk1BaJE4e7uDre3t+iHnhaWKBccG7XGC6Gwj61edrKW8l7v8OD/cHLYoVlNwzZAVhr8Ap6uFHRoqasBAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img 12&apos; title=&apos;&apos; src=&apos;/static/b07a6d79f709673b8ffa107d58d45df6/ca1dc/img_12.png&apos; srcset=&apos;/static/b07a6d79f709673b8ffa107d58d45df6/e7570/img_12.png 170w,
/static/b07a6d79f709673b8ffa107d58d45df6/f46e7/img_12.png 340w,
/static/b07a6d79f709673b8ffa107d58d45df6/ca1dc/img_12.png 680w,
/static/b07a6d79f709673b8ffa107d58d45df6/02d09/img_12.png 1020w,
/static/b07a6d79f709673b8ffa107d58d45df6/bbbf7/img_12.png 1280w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h3&gt;Reference&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://developer-nyong.tistory.com/47#article-7-1--ssh-%ED%94%8C%EB%9F%AC%EA%B7%B8%EC%9D%B8-%EC%84%A4%EC%B9%98&quot;&gt;베베의 CI/CD 글&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[프론트엔드: Tanstack Query 사용에 대하여]]></title><description><![CDATA[이 글은 우아한테크코스 5기, 피움팀 크루 '참새'가 작성했습니다. 서론  피움의 프론트엔드에서는 서버 상태 관리를 위해 Tanstack Query를 사용하기로 하였다. 이 글에서는 많고 많은 상태 관리 라이브러리 중 Tanstack Query…]]></description><link>https://pium-official.github.io/fe-tanstack-query/</link><guid isPermaLink="false">https://pium-official.github.io/fe-tanstack-query/</guid><pubDate>Sun, 23 Jul 2023 00:00:00 GMT</pubDate><content:encoded>&lt;blockquote&gt;
&lt;p&gt;이 글은 우아한테크코스 5기, 피움팀 크루 &apos;&lt;a href=&quot;https://github.com/WaiNaat&quot;&gt;참새&lt;/a&gt;&apos;가 작성했습니다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;서론&lt;/h2&gt;
&lt;p&gt;&lt;figure class=&apos;gatsby-resp-image-figure&apos; style=&apos;margin-bottom: 16px;&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; &apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/786b9835d1c8415b10776ff3826ac6a8/3bd09/tanstack.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 46.470588235294116%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABJ0AAASdAHeZh94AAAB6klEQVR42m1R2W7aUBD15/cXuj1UrRTUiEIJINMYh8UFbLElJYtoU8JiDME22Hi7JnA6vqloHvpwdO/MaM6cMyOweAcOFoM97RHoS/ijCdjhgHgPsDCEvxgj8rZgu/1zjoUItwbFT9Qb48hBEF4SxgC83gDWhxQcpYpNrUTIwRTfwpLfwL0rY3OdgTuSYPZfIdiMSASexfyPkO0PCNYObKmKx5NPWCtE0K3DbuVha1mYjfdYqa+xHhZg3rzD1rzlhBFj/wgjIgojdoTnBwgTcrLjhQzO1kPg+wjYjuoRQvLsBxRH8dFu9FIhucRsNkc6U8Bp+gxNtYOW1kFBLCOXL+HjSRrD+xHP54sSiqKMn/djVGpN1BQV9e8aQUUQhNjRDQR9voDS0JD6nEXqNMuL4jcZX74W6b2A1u7jXK7SsBxK5xfInYlE1EKG6gVRgiTX+eDBzR1XKozGU1LURf/yGp3uFbr9Aa5+3GJCqpPXMAyoTZlQwa9hD22thm5bQUORcNlTUZZEqK0K/RtwnDWEZG+mZWPjuHBdD6a9hmVvsDJtjqRmU261MulvwTQtqiex9bfPISI6JPUkXEKyaJcWv/UCfpDJVMdUNzh+P0ygG0vo8yWmM4OrnuoLzI1HPExmfGAQRtQX8v7E8h+5s44JPeZX3QAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;Tanstack: High-quality open-source software for web developers. Headless, type-safe, and powerful utilities for state management, routing, data visualization, charts, tables, and more.&apos; title=&apos;&apos; src=&apos;/static/786b9835d1c8415b10776ff3826ac6a8/ca1dc/tanstack.png&apos; srcset=&apos;/static/786b9835d1c8415b10776ff3826ac6a8/e7570/tanstack.png 170w,
/static/786b9835d1c8415b10776ff3826ac6a8/f46e7/tanstack.png 340w,
/static/786b9835d1c8415b10776ff3826ac6a8/ca1dc/tanstack.png 680w,
/static/786b9835d1c8415b10776ff3826ac6a8/3bd09/tanstack.png 896w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&apos;gatsby-resp-image-figcaption&apos;&gt;Tanstack: High-quality open-source software for web developers. Headless, type-safe, and powerful utilities for state management, routing, data visualization, charts, tables, and more.&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;피움의 프론트엔드에서는 서버 상태 관리를 위해 &lt;a href=&quot;https://tanstack.com/query/v5/docs/react/overview&quot;&gt;Tanstack Query&lt;/a&gt;를 사용하기로 하였다.&lt;/p&gt;
&lt;p&gt;이 글에서는 많고 많은 상태 관리 라이브러리 중 Tanstack Query를 사용하기로 결정한 이유를 소개하고자 한다.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;설치한 버전: 5.0.0-alpha.86&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;Tanstack query로 얻을 수 있는 개발적인 이점&lt;/h2&gt;
&lt;h3&gt;코드 간소화와 컴포넌트의 관심사 분리&lt;/h3&gt;
&lt;p&gt;Tanstack query에서 제공하는 다양한 함수들을 활용하면 비동기 통신의 처리 코드를 선언형으로 만들 수 있다. 또한 Tanstack query가 서버와의 통신을 대신해주기 때문에 컴포넌트의 렌더링 함수는 UI/UX의 구현이라는 보다 근본적인 내용에 집중할 수 있다. 조금 더 풀어서 설명하면 네 가지로 나눌 수 있다.&lt;/p&gt;
&lt;p&gt;우선 &lt;code class=&quot;language-text&quot;&gt;&amp;lt;Suspense&gt;&lt;/code&gt;와 &lt;code class=&quot;language-text&quot;&gt;&amp;lt;ErrorBoundary&gt;&lt;/code&gt;의 편한 사용이 가능하다. 이 둘을 사용하기 위해서는 각각 promise 또는 error를 throw하는 과정이 필요하다. 특히 error가 아닌 것을 던진다는 생각은 기존의 틀을 깨는 것으로 (eslint에 &lt;a href=&quot;https://eslint.org/docs/latest/rules/no-throw-literal&quot;&gt;관련 설정&lt;/a&gt;이 있다는 점으로 미루어 볼 때 자주 사용하는 기법이 아니었을 것이다) 새로운 코드를 짜야 한다. &lt;a href=&quot;https://react.dev/reference/react/Suspense#displaying-a-fallback-while-content-is-loading&quot;&gt;Suspense를 설명하는 리액트 공식 문서&lt;/a&gt;의 첫 번째 예제에서 Fork를 눌러 &lt;code class=&quot;language-text&quot;&gt;Albums.js&lt;/code&gt;안의 &lt;code class=&quot;language-text&quot;&gt;use()&lt;/code&gt;함수를 보면 promise를 던지기 위해 굉장히 재미있는 기법을 사용하고 있다는 걸 확인할 수 있다. 이러한 일련의 과정을 tanstack query가 대신하기 때문에 편리한 사용이 가능하다.&lt;/p&gt;
&lt;p&gt;다음으로 낙관적 업데이트를 적용하기에 유리하다. &lt;code class=&quot;language-text&quot;&gt;useMutation&lt;/code&gt;의 &lt;code class=&quot;language-text&quot;&gt;onSuccess&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;onError&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;onSettled&lt;/code&gt;와 같은 설정을 이용하면 된다.&lt;/p&gt;
&lt;p&gt;세 번째로는 비동기 통신의 결과 타입을 자동으로 추론해준다는 점이다. 따라서 컴포넌트 내부에서 불필요한 타입 가드 및 추론, 강제 타입 지정과 같은 행동을 하지 않아도 되므로 타입스크립트를 더 깔끔하게 사용할 수 있다.&lt;/p&gt;
&lt;p&gt;마지막으로 서버 상태 처리를 위한 전역 상태 관리 라이브러리를 도입하지 않아도 된다. 물론 이건 비단 tanstack query만의 장점은 아니다. 하지만 캐싱을 이용해서 전역 상태를 이용하지 않고도 여러 컴포넌트에서 같은 쿼리를 요청했을 경우 추가적인 통신 없이도 정보를 전달받을 수 있다는 점은 매력적이다.&lt;/p&gt;
&lt;h3&gt;비동기 통신&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;캐싱을 지원하기 때문에 서버와의 불필요한 통신을 줄일 수 있다.&lt;/li&gt;
&lt;li&gt;다양한 상황에서 자동 refetch가 가능해서 원한다면 항상 최신 값을 유지할 수 있다.&lt;/li&gt;
&lt;li&gt;여러 컴포넌트가 같은 쿼리를 사용할 때, 해당 쿼리로부터 반환되는 데이터가 바뀌었다면 그 컴포넌트들을 한 번에 업데이트할 수 있다.&lt;/li&gt;
&lt;li&gt;쿼리가 오랫동안 사용되지 않으면 가비지 컬렉터를 자동으로 불러서 정리한다.&lt;/li&gt;
&lt;/ol&gt;
&lt;h2&gt;다른 라이브러리와의 비교&lt;/h2&gt;
&lt;p&gt;우리 팀에서는 Recoil 이외의 다른 전역 상태 라이브러리나 서버 상태 라이브러리를 사용해본 경험이 많은 크루가 없어서 간단하게만 비교하였다.&lt;/p&gt;
&lt;h3&gt;&lt;a href=&quot;https://github.com/vercel/swr&quot;&gt;SWR&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Next.js 팀에서 만든 서버 상태 관리 라이브러리. 데이터 캐싱이라는 측면에 집중했다. 따라서 다른 라이브러리와 비교했을 때 굉장히 가벼운 편에 속한다.&lt;/p&gt;
&lt;h3&gt;&lt;a href=&quot;https://tanstack.com/query/v5/docs/react&quot;&gt;Tanstack Query&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;데이터 캐싱뿐만이 아니라 에러 처리나 무한 스크롤과 같은 다양한 기능을 지원한다. 비슷한 기능을 하는 리액트 쿼리의 &lt;a href=&quot;https://tanstack.com/query/v5/docs/react/reference/useQuery&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;useQuery&lt;/code&gt;&lt;/a&gt;와 SWR의 &lt;a href=&quot;https://swr.vercel.app/docs/data-fetching&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;useSWR&lt;/code&gt;&lt;/a&gt;의 반환값을 확인해보았을 때 받을 수 있는 정보의 양이 차이가 많이 난다. 다양한 상황을 고려한 UI를 보여준다면 Tanstack query를 활용하는 것이 좋겠다는 생각을 했다. 추가적으로 받아온 데이터의 일차 가공이 필요하다면 &lt;code class=&quot;language-text&quot;&gt;useQuery&lt;/code&gt;에서 &lt;code class=&quot;language-text&quot;&gt;selector&lt;/code&gt;를 사용할 수 있다는 점도 상대적인 장점이라고 생각한다.&lt;/p&gt;
&lt;h3&gt;Redux, Recoil 등 다른 전역 상태 관리 라이브러리&lt;/h3&gt;
&lt;p&gt;현재 피움 서비스 내에서 전역적으로 관리할 값이 많지 않다고 판단하였다.&lt;/p&gt;
&lt;p&gt;또한 일반적인 전역 상태 라이브러리의 경우 서버 상태를 나타나기에는 부적절한 것 같다. 특히 Recoil은 selector의 캐시 문제로 인해 사용자의 장바구니 목록처럼 자주 변하는 값을 받아오기 굉장히 힘들었던 기억이 있다.&lt;/p&gt;
&lt;h2&gt;Tanstack Query로 사용자에게 어떤 서비스를 제공하고자 하는지&lt;/h2&gt;
&lt;p&gt;우리가 추구해야 하는 것은 기술적 고점이 아니다. 그렇기 때문에 이 라이브러리를 도입해서 사용자에게 어떤 경험을 선사할 수 있을지 고민하였다.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Suspense&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Suspense는 사용자에게 &apos;지금 무슨 일을 하는 중이다&apos;라는 암시를 준다. 따라서 사용자의 기다리는 시간을 편하게 할 수 있다.&lt;/li&gt;
&lt;li&gt;피움 서비스의 &apos;식물 사전&apos; 기능은 공공데이터를 활용한다. 현재 사용하고 있는 공공데이터의 경우 이용에 제약이 없어서 DB에 저장할 수 있다. 만약 그렇지 않아서 항상 백엔드 서버에서 공공데이터 API와의 통신을 추가적으로 진행해야 할 경우 정보를 받아오는 데 시간이 걸린다. 이 때 Suspense를 잘 활용할 수 있을 것이다.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Refetch&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;피움 서비스는 모바일 환경을 우선적으로 고려하고 있다.&lt;/li&gt;
&lt;li&gt;지하철 와이파이처럼 인터넷이 불안정한 곳에서는 요청이 잘 가지 않을 수 있다. 이 때 사용자가 같은 행동을 두 번 하지 않더라도 tanstack query가 자동적으로 요청을 보내서 UX 측면의 개선이 가능하다.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;caching&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&apos;식물 사전 정보&apos;는 변하지 않는 자료이다. 따라서 사용자가 여러 번 요청을 하더라도 매번 같은 정보를 보게 된다. 이러한 요청에 대해서는 &lt;code class=&quot;language-text&quot;&gt;staletime&lt;/code&gt;을 길게 잡아 캐시를 오래 유지한다면 불필요한 서버와의 통신을 줄이고 사용자 경험도 개선할 수 있다.&lt;/li&gt;
&lt;li&gt;&apos;내가 키우는 식물 목록&apos;이나 &apos;내가 키우는 식물의 상세 정보&apos;도 사용자가 값을 추가하거나 바꾸지 않는 이상 변하지 않는 값이다. 이 친구들도 적절한 캐싱을 사용하면 서버와의 통신을 줄여 사용자의 대기시간을 줄일 수 있다.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;무한 스크롤&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;피움에서는 자신의 식물에게 물을 준 날짜들을 기억해서 타임라인 형태로 볼 수 있도록 제공할 계획이다. 타임라인은 시간의 흐름을 나타내기 위한 도구이다. &apos;시간&apos;과 &apos;흐름&apos; 모두 연속성을 띠는 표현인 만큼 무한 스크롤을 이용해 유의미한 경험을 제공할 것이다.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3&gt;Tanstack Query v5를 사용하게 된 이유&lt;/h3&gt;
&lt;p&gt;마지막으로 피움 프론트엔드에서 Tanstack query의 다섯 번째 메이저 버전을 사용하기로 한 이유를 짧게 남긴다. Tanstack query v5는 &lt;a href=&quot;https://tanstack.com/query/v5/docs/react/guides/migrating-to-v5&quot;&gt;획기적인 변화&lt;/a&gt;가 있고, alpha 단계이다.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;어차피 버전은 5로 흘러간다. 피움 프론트엔드의 세 크루 모두 Tanstack query를 처음 배우는 단계라면 굳이 역사의 뒤안길로 흘러갈 v4부터 배울 필요는 없다고 생각한다.&lt;/li&gt;
&lt;li&gt;문서를 살펴본 결과 v5의 &apos;획기적인 변화&apos;는 대부분 기존의 불필요하거나 문제를 일으키기 쉬운 기능을 제거하는 것이었다. 따라서 만약 v4를 학습해야 한다면 기존의 v5 공부 내용에서 덧붙이는 방법으로 가능할 것이다.&lt;/li&gt;
&lt;li&gt;현재 피움 서비스에서는 복잡한 서버와의 데이터 통신은 없을 것 같다. 따라서 alpha 단계이기 때문에 무언가가 안 되는 상황은 없을 것으로 예상된다.&lt;/li&gt;
&lt;/ol&gt;</content:encoded></item><item><title><![CDATA[피움의 배포과정]]></title><description><![CDATA[이 글은 우테코 피움팀 크루 '주노'가 작성했습니다. 서론  http://pium.life…]]></description><link>https://pium-official.github.io/pium-deploy-step/</link><guid isPermaLink="false">https://pium-official.github.io/pium-deploy-step/</guid><pubDate>Tue, 18 Jul 2023 00:00:00 GMT</pubDate><content:encoded>&lt;blockquote&gt;
&lt;p&gt;이 글은 우테코 피움팀 크루 &apos;&lt;a href=&quot;https://github.com/Choi-JJunho&quot;&gt;주노&lt;/a&gt;&apos;가 작성했습니다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;서론&lt;/h2&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/f67e51b2131d2821f9e1581e6399b0fd/cc6c5/3162b98e.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 63.52941176470588%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAABaElEQVR42q2Sy04CMRSG22AcWZjxvnDjm2jkUVhD4A3IhDEZmNFouMUV7jQ+DmsgEF1puA3hkunl2FMYAwYJEv/kS9P2/H9P0xLTMGIHR/vOydl5xjSPLfPw1KKUWoSQNVANpRGLRgxrZ3cvE42ajmEY1ySbtb1q9QkKhTIvlSpQVHje3RKud6sJ507OBcfJwf1DEUrlR6iUK/zl+RVs+8Yl7XbbhZmmCrYl6AWVlSPNZtPDCVcSQgDCFwgYg7fRB7xPPiHgTK8JKWfM6xljHDPq9bpLWq2WDpRSclghbRAcBEj4TapGexuNxupANAuJHXIY+D70Bn3o9fvgD329hnuLB6wNVCMM2BgmItCM+RRGbKpHJFwfBmNdu1GHHLsLgR8s7G185b9qKTB85fnz4x3w7I34rheCzQPz/99hrVbLq38EnU6Hd7td2Ab0KoHKckg8Hr9IJBKxVCp1mUwmr7YBvel0OoZZX6UfYwEuhsjCAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;3162b98e&apos; title=&apos;&apos; src=&apos;/static/f67e51b2131d2821f9e1581e6399b0fd/ca1dc/3162b98e.png&apos; srcset=&apos;/static/f67e51b2131d2821f9e1581e6399b0fd/e7570/3162b98e.png 170w,
/static/f67e51b2131d2821f9e1581e6399b0fd/f46e7/3162b98e.png 340w,
/static/f67e51b2131d2821f9e1581e6399b0fd/ca1dc/3162b98e.png 680w,
/static/f67e51b2131d2821f9e1581e6399b0fd/02d09/3162b98e.png 1020w,
/static/f67e51b2131d2821f9e1581e6399b0fd/9d567/3162b98e.png 1360w,
/static/f67e51b2131d2821f9e1581e6399b0fd/cc6c5/3162b98e.png 1552w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://pium.life&quot;&gt;http://pium.life&lt;/a&gt; 로 접속하면 피움의 홈페이지가 나오기까지의 과정을 기록으로 남겨보려고 한다.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;본 과정은 서버 구축을 처음 하면서 과정을 이해하기위해 작성된 글입니다.&lt;/p&gt;
&lt;p&gt;빠르게 따라할 수 있는 설정 기반 글을 원한다면 마지막 목차인 정리를 확인해보시길 바랍니다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;본 과정에서는 소량의 과금(?)이 존재합니다.
(도메인 구입비용 : 약 4000원)&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;도메인 정하기&lt;/h2&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/beeec2ef08bc2096e099db73407a0997/649dd/8e211be2.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 62.94117647058823%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAACiUlEQVR42nVTy2oUQRTtP3Av+A0uXbj0P8SVG9FVNhFEyC8IQgQfRJCRCTGTSEBBg4Y8Jpk8hsRE0cwDM5OZnp7u6kdVV/XreKuSGSPEgsN9cOvUved2WwMmMAwUlJQIAx+CR/A919hRLuYcUggIwTF0bKRpgtHhAQMb9DDsdRAyD9bE7CGmvzSxsNfB/G4Hld0u3u2cGLuwd4r5nc7Yr+x1Mbf9G4v1Hhbqp1ja72Nyto470yu4+3wdE+V9WNcefsZU5QArRx2sNhhWj12sNTxjL/NH8fL3PjYaQ1x/9AHW7RKu3F/E1clPsDZbDFvtANWWj40mw3rTw3rjL9Y00Tl0rGtGqFJtre0bbLUZNls0stZJhAyZEkglR5ZI5BlplCdkM+TFWC5kpF0SR0hEBBlzcJUZrWMeIMtSU2PFUoH5AfwgRBCGiDiJH0tIpSAUEWS5Ic1zUC4BFzFBIEnowaJAnioDFDkohMVpg1EU0YWcXslog2cv6Qs61kcRufYLuqGSsw1X6n08KB9iaukXHr//iXulAyz/cGhkKtakuljS+BrmIuU1ucmTrx+UaYFGL6LZFTYbLp5+PER5o4m52glefG3iW8eHFQSB6ebi0SQjq72CdZF7XfoOBRYPXCwdeWZETjJJkigjKTIpjeaW4zimmzHBRbJzP7ePkdoNKFrEy2oPT9Zs0i2Bwzhcn34Mso5Hy5EJLM/1xrqNSP6BJhw0kfq22fDrWh/PqgMUtFVN5AUCjOD59DeplDocDmH7MeIku5zwnDQjDSPfxdsdGzPbLgpqIiQiEdHWCWEozgjtwQCcWlVpjv8dTci4BHP6mNnq41VtiBNf4sabJm6W2mRbuFVuw+UJ/gC7D8S+CPzx7gAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;8e211be2&apos; title=&apos;&apos; src=&apos;/static/beeec2ef08bc2096e099db73407a0997/ca1dc/8e211be2.png&apos; srcset=&apos;/static/beeec2ef08bc2096e099db73407a0997/e7570/8e211be2.png 170w,
/static/beeec2ef08bc2096e099db73407a0997/f46e7/8e211be2.png 340w,
/static/beeec2ef08bc2096e099db73407a0997/ca1dc/8e211be2.png 680w,
/static/beeec2ef08bc2096e099db73407a0997/02d09/8e211be2.png 1020w,
/static/beeec2ef08bc2096e099db73407a0997/649dd/8e211be2.png 1234w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;도메인을 구입하기 위해 도메인 호스팅 사이트 &lt;a href=&quot;https://www.gabia.com/&quot;&gt;가비아&lt;/a&gt;를 이용했다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;pium.com&lt;/code&gt; &lt;code class=&quot;language-text&quot;&gt;pium.co.kr&lt;/code&gt; &lt;code class=&quot;language-text&quot;&gt;pium.net&lt;/code&gt; 등등.
서비스의 이름으로 자주 사용하는 도메인을 생성하고싶었으나 이미 존재하거나 가격이 너무 비싸다는 문제가 있었다.&lt;/p&gt;
&lt;p&gt;적당한 가격에 서비스의 이름을 가진 도메인인 &lt;code class=&quot;language-text&quot;&gt;pium.life&lt;/code&gt;를 선택했다. (1년 4000원)&lt;/p&gt;
&lt;h2&gt;도메인 설정하기&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;가비아 서비스를 기준으로 과정이 진행됩니다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;3.123.123.123&lt;/code&gt;과 같은 인스턴스 public ip 주소를 &lt;code class=&quot;language-text&quot;&gt;pium.life&lt;/code&gt;로 별칭을 지정해주자.&lt;/p&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/5c39231cc02060595d5acd7d53964cac/89578/ce5d100b.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 61.76470588235294%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAAC3UlEQVR42lWTW0hUaxiG/y72RUEbklFnpoNlZZoTmqlJjjnWzFgzzTgzGdmBbZmVHfCUVgTWZofEpg2F7U03QVHaibroKiKC7oIi6C7oJoqUHNtzaJzTmuU8/WvVGH3w8i6e7/v/9S74lghGU0xEUqRSSRLxGPHpGNOxKOlUglQyobNkMk46neJrNKz3tMpms7qr8lzw3VumPn4gHAkjXP1jbOkdxS19a98orr4xNOYZuIN38A4eXXfxnnqAR3J37008J27p3Dt4W7JRmvaNYDvwH/bj1xHz1p9iqXsYQ+MQZudfGO1/km8bYo6lB2HpQ1QMICpPSj/BnPoLzA085LdN1xCrjyDWdCPWDiKqTyOq+uWcpsA5Wnv+xXvsMs7Of6Qu4u66RP2eYRr+uEixa4jC5rPkWQco3DFG/U2ovaKSb79KXk0nhvoeDNZ+DBu6yZMSRQ2drGzqosxxjOW2w5jr9mOsbafI2smSjV2YrN0Un32Fpfs+q/deZ8VwhIp7UNT+ht9X+TDW7aOg7iD5dYfIr+1ALK7ejqWpnRLrbhauC2Ba68Nc5cdYKb16J8aKAEUtI/iegO38Uwr9j1h0BgoCz1lQ4qR01wjLmk9iqtmDuaYNYSptYLHFxqLyRoyrrD9VKlW2icISK8UbdmE5epuljl4Kyn3Mt44yr/wIhuXrMa/bi6mqDVOlH1NZI8LhbsXh2o59a0D3X9WK09OGu0X6Zid25zbJ/Njdfhzu7/3NrgC2lg4avR00NfsQweAkodD/+p4lEnFdSbmDipImoyi6p9Np6RkyGU3KLE9JDjP8/ew9jquvefw2iFDVDKqq/ljU7C+eW95c5ViOZ79DIokMU9MKYy/HERqLx+NMTgZlEmX2cDgcZmJiQiZOzLJQKMT4+Pgsm5mZYWrqC18mP6MqSW68+KQlVInFYkSjUf3iXBKNRSIR+dsldabIz9RmNKbN5ZJqz9qLtL5W3wA2so9kRrWVagAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;ce5d100b&apos; title=&apos;&apos; src=&apos;/static/5c39231cc02060595d5acd7d53964cac/ca1dc/ce5d100b.png&apos; srcset=&apos;/static/5c39231cc02060595d5acd7d53964cac/e7570/ce5d100b.png 170w,
/static/5c39231cc02060595d5acd7d53964cac/f46e7/ce5d100b.png 340w,
/static/5c39231cc02060595d5acd7d53964cac/ca1dc/ce5d100b.png 680w,
/static/5c39231cc02060595d5acd7d53964cac/02d09/ce5d100b.png 1020w,
/static/5c39231cc02060595d5acd7d53964cac/89578/ce5d100b.png 1209w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;우측 상단의 &lt;code class=&quot;language-text&quot;&gt;My 가비아&lt;/code&gt; 탭으로 들어간다.&lt;/p&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/73e1f16d1334bd57f1a8ece74d6d0c21/9d8cf/48a0d2d6.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 60.58823529411765%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAACBklEQVR42mVTy47TQBD0v3PkyA9w4Qf2ivbEhQMSBzisBAg22ayddfwYe94PF9WTRERLS5XxTHrcVdXtph0tfrYL+tmhVw4xZah5hrUWs1IwxmCaJnjvMQxDPb9GIYwPsCHi8anDrz97NFobhBhRNiDzxzMhci8wWnMNKKVU5Jzrum3bBXwuEdgykbgENCOrCiRZkpxzKHw+tEf8aKf6gtdRmCfxZa/x9n6Hd5+e8ea+w4evIxq1rHjpB8gaQqLkcpbN/aQ02ecKz//OiHA+VgIPncHd9wl33wa8/9zi48OApjsO2O0OWFbDxIR1tVi0ZZERXfcCxfNVO1gXK64v1saTwFluiQ4gUqBkY1w1XcwX41MiSyZqG3CaFlpgeTFUmSmXC8MAYx3MojEcWszzgmkxVUljXaiNyLlUOOfZiESWHt2w0EN6S78SGyZnO3bz9+OexVbYWeG022MdZwyzrlY02liMZLiuurIUiBSRFVnxNsSKp+cjdvsWx56qqKLvevpt0B5PcLzXWGEnI3FByqkytqwmuI2ZF4Vh250wkKFnQcfCwkwt0sAkDB1WdlRz5ix9kZkUjzwbJAm3odmc07jQ31jli6e3IXt66OsQXz2UuRMPRfKkFig112IS1qy0Z66zehnF/18o46L4ia28JN4V+VrYVZET0j8r5Fz2KZ+fX2MjxPO/QnGg8g4b/ygAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;48a0d2d6&apos; title=&apos;&apos; src=&apos;/static/73e1f16d1334bd57f1a8ece74d6d0c21/ca1dc/48a0d2d6.png&apos; srcset=&apos;/static/73e1f16d1334bd57f1a8ece74d6d0c21/e7570/48a0d2d6.png 170w,
/static/73e1f16d1334bd57f1a8ece74d6d0c21/f46e7/48a0d2d6.png 340w,
/static/73e1f16d1334bd57f1a8ece74d6d0c21/ca1dc/48a0d2d6.png 680w,
/static/73e1f16d1334bd57f1a8ece74d6d0c21/02d09/48a0d2d6.png 1020w,
/static/73e1f16d1334bd57f1a8ece74d6d0c21/9d8cf/48a0d2d6.png 1216w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;우측의 &lt;code class=&quot;language-text&quot;&gt;DNS 관리툴&lt;/code&gt; 탭으로 들어간다.&lt;/p&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/a4cb9491393cae21332985fd64fb8c0d/a47a4/dbaa42b0.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 26.47058823529412%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA0UlEQVR42mWQC47DIAxEuf9Bq7ShBAiG8J0OtFLVXaQn28B4DOqmPbbdwOkHRsloKaJmxoF/9D8MYlOHIYmaeBUo4zzsmSBnwH7fcOgdSYSH88L1IS8kXQjxy6wfLmGzEYY9tAtQwq5GCmiG226xHRFHbHiGsjBSFzO/al9jjT7p6L0xNrRa2FyQaK5EIhynnMunAu0jnj7hfghMyHR91zOfT6qtUpg5YUSuzHNZzw0S4IyF6nRqra2G07XSbYzPJIxl/iuF3GD9Zep+6toQT8ELsPqF7ZFV6ZYAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;dbaa42b0&apos; title=&apos;&apos; src=&apos;/static/a4cb9491393cae21332985fd64fb8c0d/ca1dc/dbaa42b0.png&apos; srcset=&apos;/static/a4cb9491393cae21332985fd64fb8c0d/e7570/dbaa42b0.png 170w,
/static/a4cb9491393cae21332985fd64fb8c0d/f46e7/dbaa42b0.png 340w,
/static/a4cb9491393cae21332985fd64fb8c0d/ca1dc/dbaa42b0.png 680w,
/static/a4cb9491393cae21332985fd64fb8c0d/02d09/dbaa42b0.png 1020w,
/static/a4cb9491393cae21332985fd64fb8c0d/9d567/dbaa42b0.png 1360w,
/static/a4cb9491393cae21332985fd64fb8c0d/a47a4/dbaa42b0.png 1421w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;도메인의 &lt;code class=&quot;language-text&quot;&gt;설정&lt;/code&gt; 탭으로 들어간다.&lt;/p&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/edf6fd8e323628c5351511474c4ae487/047c3/0b4d4be0.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 20.58823529411765%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAiElEQVR42qXM2wqDMBCEYd//KduCBmM0J03JJvVvFHrRglcd+GAWhu360aCmBbcmbEy4K+s13yi7oW2kU8OAc44z+86/6YwxaK15psRsJrz3p+O2zjOHSGxqrV9Ks78qYxQey9a2lnVLdCEE5kmjbj3q3lNyJotQmnz0LEjrvw8/pJSmnhuRwhstujbY9gqqNQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;0b4d4be0&apos; title=&apos;&apos; src=&apos;/static/edf6fd8e323628c5351511474c4ae487/ca1dc/0b4d4be0.png&apos; srcset=&apos;/static/edf6fd8e323628c5351511474c4ae487/e7570/0b4d4be0.png 170w,
/static/edf6fd8e323628c5351511474c4ae487/f46e7/0b4d4be0.png 340w,
/static/edf6fd8e323628c5351511474c4ae487/ca1dc/0b4d4be0.png 680w,
/static/edf6fd8e323628c5351511474c4ae487/02d09/0b4d4be0.png 1020w,
/static/edf6fd8e323628c5351511474c4ae487/047c3/0b4d4be0.png 1208w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;DNS 관리 탭의 &lt;code class=&quot;language-text&quot;&gt;설정&lt;/code&gt; 혹은 &lt;code class=&quot;language-text&quot;&gt;레코드 수정&lt;/code&gt;에 들어간다.&lt;/p&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/be57907274a476d1261092d3bac97cd0/51f47/d830ba27.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 38.82352941176471%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsTAAALEwEAmpwYAAABOUlEQVR42pWRS07DMBCGc6giIa7AissU0U2PQViU1xKJAyEhWKaQOHYedvyKf2bSpCo7GOmXXzPf/Lazq9cKly8lzp/2WD3scfb4f61IXH/x/IWs1g4sxTJ+kuiGo5a9RfI0/6RGGYfeRWTDMEBajzGNMFoj0ciRUoK1dl4njOMI7z2cs+j7HjHQnM75jMdAa47MOgcf45QUQgA32O3ucZvnyPM7SCmnRN4fqJDBrKZtocmApxohFVTbEZqAkWCY3XAYY7DdbnG9XmOzuUFZlkego+bsnKNpmgkYQkRNwLbrDg4rUcPSVbg7w1lFUUAIgY6S2DVDGGhnh7xWSkHTrZwPqGoF2XTsC9nbt8F7ZaHdweniYIk077EW2DIHvW+lAz6Ew2dNn+JHekPiDIESfnP+HIG4zGAx4wc1NFLtdAuILQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;d830ba27&apos; title=&apos;&apos; src=&apos;/static/be57907274a476d1261092d3bac97cd0/ca1dc/d830ba27.png&apos; srcset=&apos;/static/be57907274a476d1261092d3bac97cd0/e7570/d830ba27.png 170w,
/static/be57907274a476d1261092d3bac97cd0/f46e7/d830ba27.png 340w,
/static/be57907274a476d1261092d3bac97cd0/ca1dc/d830ba27.png 680w,
/static/be57907274a476d1261092d3bac97cd0/51f47/d830ba27.png 892w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;위와 같이 레코드를 추가하고 저장한다.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;CNAME 설정은 향후 서브도메인 설정을 위한 설정입니다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;이제 &lt;a href=&quot;http://pium.life&quot;&gt;http://pium.life&lt;/a&gt; 로 접속하면 서버로 바로 접속할 수 있게된다. (SSH 접속이 아닌 HTTP 접속을 의미한다.)&lt;/p&gt;
&lt;h2&gt;환경 살펴보기&lt;/h2&gt;
&lt;p&gt;피움은 하나의 EC2에 프론트엔드, 백엔드의 배포를 모두 진행하려고한다.&lt;/p&gt;
&lt;p&gt;이를 위해서라면 서로 다른 포트에 서비스를 띄워둔 뒤 각 요청별로 포트를 분산시킬 필요가 있다.&lt;/p&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 555px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/6b66749ad542471689f2ca5ecb3a11d0/98c96/ee357fa5.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 51.17647058823529%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAABTklEQVR42qWRu04CQRSGeQPfxdfwJSxsLH0DE2sTGiobCzoLY0OIhUYTotHEoEEwS1y5CCQs4F5wN7s7M5/DirIYCEbP5GRmTvGd/z8nwx9D6bMoMv+B3VslLl6PCWXwXV8OVGo+pzWlZPJs2lWy5R3O2kdYfmc1UKVyEjL09Ud+/qtVWuUCJ+1Dbnqn80AhBKPRCM/zcF0X23EY22/Q76JqZfADrPM8jc01KO6hHA/xYiSAh8EVpW6BWEYzoNI2TNOkXq9jGEZy9/sWjUaX68tbLFfQym7ztK7N7G+gdSLiaOmCEsu+7yfqJionGcYCO9Zz8mIcPTK3fkczt4V8LNJ5h0rXQWrGcySphZJAzcaUWbyPWUclJUNts+8GDNyJPkml51HqjTkYw+4QjGgF8Odi5sxNC0OhyHuQs8GMfwlMK/7KdLOhHsdAQJSy/AFt8QHX+h2MDwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;ee357fa5&apos; title=&apos;&apos; src=&apos;/static/6b66749ad542471689f2ca5ecb3a11d0/98c96/ee357fa5.png&apos; srcset=&apos;/static/6b66749ad542471689f2ca5ecb3a11d0/e7570/ee357fa5.png 170w,
/static/6b66749ad542471689f2ca5ecb3a11d0/f46e7/ee357fa5.png 340w,
/static/6b66749ad542471689f2ca5ecb3a11d0/98c96/ee357fa5.png 555w&apos; sizes=&apos;(max-width: 555px) 100vw, 555px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;때문에 위와 같은 흐름으로 요청이 진행되는 것이 최종 목표다!&lt;/p&gt;
&lt;h3&gt;EC2 보안규칙&lt;/h3&gt;
&lt;p&gt;우아한테크코스 과정에서 제공되는 EC2의 보안규칙은 다음과 같다.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;사내에서만 22번 포트 접속 가능&lt;/li&gt;
&lt;li&gt;80, 443은 열려있음&lt;/li&gt;
&lt;li&gt;이외의 포트는 열려있지 않음.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;우리가 흔히 개발을 하면서 사용하는 3000번 포트 혹은 8080번 포트를 통해 해당 서버에 접근하지 못한다는 이야기다.&lt;/p&gt;
&lt;p&gt;즉, 다시말해 pium.life:8080과 같은 접근이 안된다는 이야기다.&lt;/p&gt;
&lt;p&gt;인바운드 규칙에서 8080 혹은 3000번 포트를 열어버리는 방법도 있겠지만 보안 규칙에 손대지 않으면서 해결할 수 있는 방법을 찾아보자.&lt;/p&gt;
&lt;h2&gt;nginx로 포트포워딩하기&lt;/h2&gt;
&lt;p&gt;linux에 존재하는 &lt;code class=&quot;language-text&quot;&gt;iptables&lt;/code&gt; 명령어를 통해 서버 자체적으로 포트포워딩 환경을 구성할 수도 있지만 현재 피움은 하나의 서버에서 두개의 어플리케이션을 배포하고 있고, 도메인도 하나다.&lt;/p&gt;
&lt;p&gt;따라서 후에 설명할 서브도메인을 적용하기 위해서라도 nginx를 이용하기로 한다.&lt;/p&gt;
&lt;h3&gt;nginx 설치하기&lt;/h3&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;&lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;apt&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; nginx&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;systemctl status nginx&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/62f73813a3dbce8bfdc5b39ca49641f1/1ed31/28e0139a.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 18.823529411764707%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAAsTAAALEwEAmpwYAAAApUlEQVR42pWPOw+DMBCDI4TCkPJGKC8ULjQ0Qv3/f8/VZWBplw6f7FtsnziOA9ppGG/gyYMiIVIEEcE5h23bbu+9h1IKbduirmsIIb4504nwCqA3QScN6y1CCIV1XWGtxb7vMMYgxliCl2XBNE2FcRwxz3PxUkqInDPSM+HKFyhQaR+GoWjf90W7rrs9wyF8s3I4Ky+uqgqC23mNeig0jfz9xh98AJx/X27IEAMSAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;28e0139a&apos; title=&apos;&apos; src=&apos;/static/62f73813a3dbce8bfdc5b39ca49641f1/ca1dc/28e0139a.png&apos; srcset=&apos;/static/62f73813a3dbce8bfdc5b39ca49641f1/e7570/28e0139a.png 170w,
/static/62f73813a3dbce8bfdc5b39ca49641f1/f46e7/28e0139a.png 340w,
/static/62f73813a3dbce8bfdc5b39ca49641f1/ca1dc/28e0139a.png 680w,
/static/62f73813a3dbce8bfdc5b39ca49641f1/1ed31/28e0139a.png 974w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;이제 주소창에 인스턴스 ip 를 치고 접속하면 다음과 같이 nginx default 페이지를 볼 수 있다. &lt;/p&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 663px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/9a3c9696e83150d8f8c8cc0df8288ade/5c8e6/9345764b.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 38.23529411764706%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsTAAALEwEAmpwYAAABcklEQVR42l1STW+CUBD0//8B7x7kZIwnEz1oqPKhNeIFNBaBIqgINSrBpgrTt9tirS+Z7OyGN292l0qn08F0OoVlWYzFYoHlcon5fA7P82CaJgzD4HqSJKBzu92Q5zmDeJkXRYFKrVZDvS6h1Wqh0Wig2Wyi1+uh3W5zrFarkCQJ3W4XcRyzIF18PlRjwcvlgizLcDqdcD6f/8U0TXE8HjkSDocD9vs9NpsNdrud4AnW64A5fceCw+EQmq5h8joB8cFgAEVRIMsyVFWFMZuJuiK4Ji5G2G638H0fQeALHsBxbB5NOY4KvRaGAaIoYtBrjuuKWshuqBaGnnD1Lpx/sMs0pQ4K4Qqiu6eWaSGapmE0GkHXdXY3Ho85J5eKooq4Qr/vQn6xhSOXndl2BtP6wsr5xPV6E2K/S3FcR8xhzXOhVgjUFtWSJOZ5xnEuUAh3xcNCijtKdz+CjsMzCIKA26Tctt9Y8O/kd5S/S54XdzwKfgPTY01z0d7cygAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;9345764b&apos; title=&apos;&apos; src=&apos;/static/9a3c9696e83150d8f8c8cc0df8288ade/5c8e6/9345764b.png&apos; srcset=&apos;/static/9a3c9696e83150d8f8c8cc0df8288ade/e7570/9345764b.png 170w,
/static/9a3c9696e83150d8f8c8cc0df8288ade/f46e7/9345764b.png 340w,
/static/9a3c9696e83150d8f8c8cc0df8288ade/5c8e6/9345764b.png 663w&apos; sizes=&apos;(max-width: 663px) 100vw, 663px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h3&gt;80 포트 접속을 8080 포트로&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;해당 과정은 8080포트에 애플리케이션이 구동중인 상태에서 진행됩니다.
다음 명령어로 8080포트에서 애플리케이션이 구동중인지 확인한다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;&lt;span class=&quot;token function&quot;&gt;lsof&lt;/span&gt; &lt;span class=&quot;token parameter variable&quot;&gt;-i&lt;/span&gt; tcp:8080&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 598px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/51a5f82dfc1fcb417df2c1222b0262f7/02e46/1573063d.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 9.411764705882353%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAdklEQVR42j2Nuw7DIBRDYUJqRG4hAak8rkgEKwNz//+33MDQ4cjy4GPB34ytvkCGoJSCMQZEb8SYcN8Xcs7ovWOMgRACrLXw3i+ICEIISCn/CP4w9m1HrfWRxJVTfJ4HUkpgZrTW1njKZp8nk1LKEmutV3fO4Qe5aTJ2IHR74gAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;1573063d&apos; title=&apos;&apos; src=&apos;/static/51a5f82dfc1fcb417df2c1222b0262f7/02e46/1573063d.png&apos; srcset=&apos;/static/51a5f82dfc1fcb417df2c1222b0262f7/e7570/1573063d.png 170w,
/static/51a5f82dfc1fcb417df2c1222b0262f7/f46e7/1573063d.png 340w,
/static/51a5f82dfc1fcb417df2c1222b0262f7/02e46/1573063d.png 598w&apos; sizes=&apos;(max-width: 598px) 100vw, 598px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;이제 nginx 설정파일을 작성하여 80포트로 오는 요청을 8080포트로 전환시켜본다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;cd&lt;/span&gt; /etc/nginx/sites-available/

&lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;vi&lt;/span&gt; default&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;주석처리 되어있는 부분은 제외하고 코드로 표현합니다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# 변경 전 파일내용&lt;/span&gt;
server &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        listen &lt;span class=&quot;token number&quot;&gt;80&lt;/span&gt; default_server&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        listen &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;::&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;:80 default_server&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

        root /var/www/html&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

        index index.html index.htm index.nginx-debian.html&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

        server_name _&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

        location / &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                try_files &lt;span class=&quot;token variable&quot;&gt;$uri&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;$uri&lt;/span&gt;/ &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;404&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;처음 파일을 열어보면 위와같이 설정되어있을 것이다.&lt;/p&gt;
&lt;p&gt;최대한 간략하게 포트를 변경한다는 목적만 달성해보기 위해 다음 내용들을 수정해보자.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;root /var/www/html;&lt;/code&gt; 주석처리&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;index index.html index.htm index.nginx-debian.html;&lt;/code&gt; 주석처리&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;location / { ... }&lt;/code&gt; 내부 내용에 다음 내용 추가&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;proxy_set_header Host $host:$server_port;&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;proxy_set_header X-Real-IP $remote_addr;&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;proxy_pass http://127.0.0.1:8080;&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# 변경된 파일내용&lt;/span&gt;
server &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        listen &lt;span class=&quot;token number&quot;&gt;80&lt;/span&gt; default_server&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        listen &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;::&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;:80 default_server&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

        &lt;span class=&quot;token comment&quot;&gt;# root /var/www/html;&lt;/span&gt;

        &lt;span class=&quot;token comment&quot;&gt;# index index.html index.htm index.nginx-debian.html;&lt;/span&gt;

        server_name _&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

        location / &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                proxy_set_header Host &lt;span class=&quot;token variable&quot;&gt;$host&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;$server_port&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
                proxy_set_header X-Real-IP &lt;span class=&quot;token variable&quot;&gt;$remote_addr&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
                proxy_set_header X-Forwarded-For &lt;span class=&quot;token variable&quot;&gt;$proxy_add_x_forwarded_for&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
                proxy_pass http://127.0.0.1:8080&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;위와같이 설정파일을 수정했다면 다음 명령어를 수행해 nginx를 다시 시작한다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;&lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; systemctl restart nginx&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 604px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/eef9247c8964e484681e7dfae0a0e86b/1994c/232c6d5d.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 28.235294117647058%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA1ElEQVR42o1QyaqEQBDr//8jBfEg6FkvgrjhLi4XD+5mSEGD8B7DFISUVZikWpmmCcuyYNs2HMeB53mCIAjg+z4Mw4DruljXFaz7vvE8z79gqaqqkGUZkiRBmqZo2xZN06AsSyzLgiiKRJxCv5Tquk5EpmkSzPOMuq4xjqOIcs953/fS04x9nueyH4ZBmIF4heLPTFkUhQjpdFwex4Ft24TP8xSw3/dd5uT3N69QcRzLyeQwDOVEgqlpRKYRmQk5o6l+sz8nX9cFDSagi+7fyd749p4fy07GAzZ6YT4AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;232c6d5d&apos; title=&apos;&apos; src=&apos;/static/eef9247c8964e484681e7dfae0a0e86b/1994c/232c6d5d.png&apos; srcset=&apos;/static/eef9247c8964e484681e7dfae0a0e86b/e7570/232c6d5d.png 170w,
/static/eef9247c8964e484681e7dfae0a0e86b/f46e7/232c6d5d.png 340w,
/static/eef9247c8964e484681e7dfae0a0e86b/1994c/232c6d5d.png 604w&apos; sizes=&apos;(max-width: 604px) 100vw, 604px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;스프링부트 애플리케이션을 실행중이였다면 위와같은 Whitelabel Error Page를 확인할 수 있을것이다.&lt;/p&gt;
&lt;h2&gt;서브도메인 구성하기&lt;/h2&gt;
&lt;p&gt;이제 80포트에서 8080포트로 요청을 변환하는 과정은 성공했다.&lt;/p&gt;
&lt;p&gt;하나의 서버에 프론트엔드, 백엔드 코드가 같이 띄워져야하므로 서브도메인을 통해 페이지와 API를 구분해줘야한다.&lt;/p&gt;
&lt;h3&gt;index 파일 지정하기 - default 파일 수정&lt;/h3&gt;
&lt;p&gt;프론트에서 빌드 산출물로 나온 index.html을 기본 페이지로 참고하도록 설정하자.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;cd&lt;/span&gt; /etc/nginx/sites-available/

&lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;vi&lt;/span&gt; default&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# 변경 전 설정내용&lt;/span&gt;
server &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        listen &lt;span class=&quot;token number&quot;&gt;80&lt;/span&gt; default_server&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        listen &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;::&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;:80 default_server&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

        &lt;span class=&quot;token comment&quot;&gt;# root /var/www/html;&lt;/span&gt;

        &lt;span class=&quot;token comment&quot;&gt;# index index.html index.htm index.nginx-debian.html;&lt;/span&gt;

        server_name _&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

        location / &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                proxy_set_header Host &lt;span class=&quot;token variable&quot;&gt;$host&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;$server_port&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
                proxy_set_header X-Real-IP &lt;span class=&quot;token variable&quot;&gt;$remote_addr&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
                proxy_set_header X-Forwarded-For &lt;span class=&quot;token variable&quot;&gt;$proxy_add_x_forwarded_for&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
                proxy_pass http://127.0.0.1:8080&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;기존에 80포트를 8080포트로 포워딩시켜주는 설정을 바꿔준다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# 변경 후 설정내용&lt;/span&gt;
server &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        listen &lt;span class=&quot;token number&quot;&gt;80&lt;/span&gt; default_server&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        listen &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;::&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;:80 default_server&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

        root /var/www/html&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

        index index.html&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

        server_name pium.life&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

        location / &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이제 pium.life로 접속하면 &lt;code class=&quot;language-text&quot;&gt;/var/www/html&lt;/code&gt; 경로에 있는 &lt;code class=&quot;language-text&quot;&gt;index.html&lt;/code&gt;을 참조하도록 설정되었다.&lt;/p&gt;
&lt;p&gt;위 설정에 따르면 &lt;code class=&quot;language-text&quot;&gt;index.html&lt;/code&gt; 및 &lt;code class=&quot;language-text&quot;&gt;bundle.js&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;assets&lt;/code&gt; 등의 프론트 리소스들은 서버의 &lt;code class=&quot;language-text&quot;&gt;/var/www/html&lt;/code&gt;를 기준으로 위치시키면 된다.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;빌드 산출물 및 CD와 관련된 내용은 본 게시글에서 다루지 않습니다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3&gt;API 서버 지정하기 - api_config 파일 만들기&lt;/h3&gt;
&lt;p&gt;&lt;a href=&quot;http://api.pium.life&quot;&gt;http://api.pium.life&lt;/a&gt; 로 API를 호출하도록 구성해보자.&lt;/p&gt;
&lt;p&gt;nginx는 기본적으로 &lt;code class=&quot;language-text&quot;&gt;/etc/nginx/sites-enabled&lt;/code&gt; 경로에 있는 파일들을 참고하여 설정파일에 적용한다.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;/etc/nginx/nginx.conf&lt;/code&gt; 파일의 60번째 줄 참고&lt;/p&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 547px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/03d7a15ebc7bea96de5efdc6e60d72a2/25257/f4ceb33e.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 73.52941176470587%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAAsTAAALEwEAmpwYAAABh0lEQVR42p1U23KCMBBNsglJ0HKJ7QgDHWqnxcE+yLf0//9lu0lUsKOO+nDmLJDsnr3BcsNQCoaMEXSCrMiRZTnassR6vca2bbHrOmyaBquqQudcsKWU8c5/lHZyKESKgltkXCDnkuCZn+DPzO2LmCsUsESpKuKSFKwI6+D46uVLWKWTQy4MAmjM4HiAP+bMo5ilzFKL1hX42zhkQjzndF5DzhWCLCnlLKQvxPJxh68LhgqmphizQ236CP2FSbKh94v71eakEE4KDSb6g5y8E2+oQTUqglRvz6UcFQ5BmVeY6I7wSQE6KoWj7zYE9RyRzmACnzXFjwhATvV7iRwOejsLaQMUh29lsP2ZyEfbxRpOc7gIDfHNiRH1gUnZvc2ZKwTqqo8Suiy8wiwAYBWCTBdvOHdng03rJoFmkDpPu6qUpG0BYqA6JuQYwg57vmtsGK0h6yhAK3H7vcX9fsTd7geHYcC+7wPGccS6rm/vcmp1fPBKFSkleEXWWuq4DrZnY8zp3bUfxB9XPjy8n5tihwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;f4ceb33e&apos; title=&apos;&apos; src=&apos;/static/03d7a15ebc7bea96de5efdc6e60d72a2/25257/f4ceb33e.png&apos; srcset=&apos;/static/03d7a15ebc7bea96de5efdc6e60d72a2/e7570/f4ceb33e.png 170w,
/static/03d7a15ebc7bea96de5efdc6e60d72a2/f46e7/f4ceb33e.png 340w,
/static/03d7a15ebc7bea96de5efdc6e60d72a2/25257/f4ceb33e.png 547w&apos; sizes=&apos;(max-width: 547px) 100vw, 547px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;다음 과정을 통해 서브도메인 설정을 해보자.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;cd&lt;/span&gt; /etc/nginx/sites-available

&lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;vi&lt;/span&gt; api_config&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# api_config 파일 내용&lt;/span&gt;
server &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        listen &lt;span class=&quot;token number&quot;&gt;80&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        listen &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;::&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;:80&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

        server_name api.pium.life&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        
        location / &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                proxy_set_header Host &lt;span class=&quot;token variable&quot;&gt;$host&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;$server_port&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
                proxy_set_header X-Real-IP &lt;span class=&quot;token variable&quot;&gt;$remote_addr&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
                proxy_set_header X-Forwarded-For &lt;span class=&quot;token variable&quot;&gt;$proxy_add_x_forwarded_for&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

                proxy_pass http://127.0.0.1:8080&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;server_name&lt;/code&gt; 옵션을 통해 api.pium.life 라는 도메인으로 접근하는 요청을 확인하고, 맞다면 8080 포트로 변경한다.&lt;/p&gt;
&lt;p&gt;위와 같이 파일을 작성했으면 &lt;code class=&quot;language-text&quot;&gt;sites-enabled&lt;/code&gt; 경로에 soft link(바로가기)를 생성한다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;&lt;span class=&quot;token function&quot;&gt;ln&lt;/span&gt; &lt;span class=&quot;token parameter variable&quot;&gt;-s&lt;/span&gt; /etc/nginx/sites-available/api_config /etc/nginx/sites-enabled/api_config&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이제 nginx를 재시작하여 설정을 적용해보자.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;💡 Tip : &lt;code class=&quot;language-text&quot;&gt;nginx -t&lt;/code&gt; 명령어를 통해 현재 설정파일이 정상적으로 작성되었는지 확인할 수있다.&lt;/p&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 545px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/b33f0caf9870e4f0864cfa6f8ea7af4d/f2ede/10d7627b.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 10.588235294117647%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAbklEQVR42k2NyQpDIRRDLS3igC3uBHFWHP7//1K8q7cICYcDYVJKPGOMgVIKIQTUWtF7p91ag3MO1loIIaC1Ju825xwf/gZ7MbA5J8nee+y9cc6hzjkTizFirUX8ZoxB/j1KKaGUgtEH6ij4/gz+iCQzrFRZETQAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;10d7627b&apos; title=&apos;&apos; src=&apos;/static/b33f0caf9870e4f0864cfa6f8ea7af4d/f2ede/10d7627b.png&apos; srcset=&apos;/static/b33f0caf9870e4f0864cfa6f8ea7af4d/e7570/10d7627b.png 170w,
/static/b33f0caf9870e4f0864cfa6f8ea7af4d/f46e7/10d7627b.png 340w,
/static/b33f0caf9870e4f0864cfa6f8ea7af4d/f2ede/10d7627b.png 545w&apos; sizes=&apos;(max-width: 545px) 100vw, 545px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/0b93d643e5673d6286e16237ce61a080/833a5/04601361.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 31.176470588235293%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA+klEQVR42oWQ2WqDUBCGfbOmtJe1TUublIQG+prVK3spiLl0ARVB3BdwV/zrHDA0UujAzyxn5uPMcLv9Ebv9AYfjCfzjM/inFzzw2zne4vXtHR+nT1a/2dxhc3v/rzhJkiAIAiTpG6IoQpZlqKoK9XyGoij4mt/yogDZNE34y6i+iEvTFJ7nXRRFEYIgQBiG8H0fpmmimIFN06Cua5RlyUQ5+aqqruAcAVzXZTCCEIziPM8RxzEbIuAiqlFflmXM0/wV0LZtGIYBx3Gg6zo0TYNlWUiS5CIapk0IsP7R2rhxHDEMA1PXdej7nolWatuW1cgvOfX9vtn6rj+fgqGzBfn+VAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;04601361&apos; title=&apos;&apos; src=&apos;/static/0b93d643e5673d6286e16237ce61a080/ca1dc/04601361.png&apos; srcset=&apos;/static/0b93d643e5673d6286e16237ce61a080/e7570/04601361.png 170w,
/static/0b93d643e5673d6286e16237ce61a080/f46e7/04601361.png 340w,
/static/0b93d643e5673d6286e16237ce61a080/ca1dc/04601361.png 680w,
/static/0b93d643e5673d6286e16237ce61a080/833a5/04601361.png 681w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://api.pium.life&quot;&gt;http://api.pium.life&lt;/a&gt; 로 접속하면 API로 연결되는것을 확인할 수 있다.&lt;/p&gt;
&lt;h2&gt;정리&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;8080 포트에 API 애플리케이션을 실행한다.&lt;/li&gt;
&lt;li&gt;도메인 구입 및 A 레코드, CNAME을 설정한다.&lt;/li&gt;
&lt;li&gt;nginx를 설치한다.&lt;/li&gt;
&lt;li&gt;프론트 빌드 산출물을 &lt;code class=&quot;language-text&quot;&gt;/var/www/html&lt;/code&gt; 경로에 준비한다. (index.html, bundle.js, assets 등)&lt;/li&gt;
&lt;li&gt;서브도메인 및 포트포워딩 설정한다.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;nginx 설정 명령어 따라가기&lt;/h3&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# nginx 설치&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;apt&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; nginx

&lt;span class=&quot;token comment&quot;&gt;# default 파일 수정&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;vi&lt;/span&gt; /etc/nginx/sites-available/default&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# /etc/nginx/sites-available/default 파일 내용&lt;/span&gt;
server &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        listen &lt;span class=&quot;token number&quot;&gt;80&lt;/span&gt; default_server&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        listen &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;::&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;:80 default_server&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

        root /var/www/html&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

        index index.html&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

        server_name pium.life&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

        location / &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# api_config 파일 작성&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;vi&lt;/span&gt; /etc/nginx/sites-available/api_config&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# api_config 파일 내용&lt;/span&gt;
server &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        listen &lt;span class=&quot;token number&quot;&gt;80&lt;/span&gt; default_server&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        listen &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;::&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;:80 default_server&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

        root /var/www/html&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

        index index.html&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

        server_name pium.life&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

        location / &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# nginx 재시작 및 설정적용&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; systemctl restart nginx&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Reference&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://jminie.tistory.com/110&quot;&gt;https://jminie.tistory.com/110&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://customer.gabia.com/manual/domain/287/1201&quot;&gt;https://customer.gabia.com/manual/domain/287/1201&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[젠킨스 설치하기]]></title><description><![CDATA[이 글은 우테코 피움팀 크루 '주노'가 작성했습니다. 서론 피움팀에서 Jenkins를 도입하고 적용하는 과정을 거쳤다. 정확한 동작과정을 몰랐기 때문에 헤매는 상황이 빈번하게 있었다.
이에 Jenkins…]]></description><link>https://pium-official.github.io/jenkins-setting/</link><guid isPermaLink="false">https://pium-official.github.io/jenkins-setting/</guid><pubDate>Sun, 16 Jul 2023 00:00:00 GMT</pubDate><content:encoded>&lt;blockquote&gt;
&lt;p&gt;이 글은 우테코 피움팀 크루 &apos;&lt;a href=&quot;https://github.com/Choi-JJunho&quot;&gt;주노&lt;/a&gt;&apos;가 작성했습니다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;서론&lt;/h2&gt;
&lt;p&gt;피움팀에서 Jenkins를 도입하고 적용하는 과정을 거쳤다.&lt;/p&gt;
&lt;p&gt;정확한 동작과정을 몰랐기 때문에 헤매는 상황이 빈번하게 있었다.
이에 Jenkins를 설치하고 환경설정을 빌드서버 환경을 구축한 일련의 과정을 기록해두려고한다.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;작업 환경 : Ubuntu 22.04.2 LTS&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;공식문서 살펴보기&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;https://www.jenkins.io/doc/book/installing/linux/&quot;&gt;젠킨스 공식문서&lt;/a&gt;를 확인하면 설치 방법이 친절하게 나와있다.&lt;/p&gt;
&lt;p&gt;아무것도 없는 EC2 환경에서 Jenkins를 설치하고 구동하는 과정을 따라가보자.&lt;/p&gt;
&lt;h2&gt;(Optional) Swap 메모리 설정하기&lt;/h2&gt;
&lt;p&gt;프리티어환경에서 Jenkins를 사용하면 자칫 메모리가 부족한 상황이 발생할 수도 있다.
2GB의 메모리는 젠킨스와 빌드를 모두 견디기 어려울 수도 있다.&lt;/p&gt;
&lt;p&gt;다음 명령어를 통해 서버에 Swap 메모리를 할당하자.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;&lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; fallocate &lt;span class=&quot;token parameter variable&quot;&gt;-l&lt;/span&gt; 2G /swapfile
&lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;chmod&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;600&lt;/span&gt; /swapfile
&lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;mkswap&lt;/span&gt; /swapfile
&lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;swapon&lt;/span&gt; /swapfile

&lt;span class=&quot;token function&quot;&gt;free&lt;/span&gt; &lt;span class=&quot;token parameter variable&quot;&gt;-h&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;# 확인명령어&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;a href=&quot;https://velog.io/@junho5336/Swap-%EB%A9%94%EB%AA%A8%EB%A6%AC-%ED%95%A0%EB%8B%B9%ED%95%98%EA%B8%B0&quot;&gt;Swap 메모리 할당하기&lt;/a&gt;를 참고&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;java 설치하기&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;설치 방법은 &lt;a href=&quot;https://www.jenkins.io/doc/book/installing/linux/&quot;&gt;공식문서&lt;/a&gt;를 확인하면서 진행하고있습니다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;현재 사용할 jenkins의 버전은 java 17을 사용한다.
java 17버전을 설치하자&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;&lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;apt&lt;/span&gt; update
&lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;apt&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; openjdk-17-jre
&lt;span class=&quot;token function&quot;&gt;java&lt;/span&gt; &lt;span class=&quot;token parameter variable&quot;&gt;-version&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/d0e1b4065d85f4f0f9e8e290576873b8/49bb6/93d56503.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 10.588235294117647%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAdElEQVR42mXNwQ6CMBRE0RIIW16j1LRpBfqoYP3/77tqF25cnGQyixnjHo75OXPdLshdkEW4RU/elJQSIQTGcWQYhj9932OM+em6DlOPF/WonOVkTSu6KJoz+74TY8Q510ZVlfzpSyktf8+891hrEZFmmibeU5cx4lWIWHEAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;93d56503&apos; title=&apos;&apos; src=&apos;/static/d0e1b4065d85f4f0f9e8e290576873b8/ca1dc/93d56503.png&apos; srcset=&apos;/static/d0e1b4065d85f4f0f9e8e290576873b8/e7570/93d56503.png 170w,
/static/d0e1b4065d85f4f0f9e8e290576873b8/f46e7/93d56503.png 340w,
/static/d0e1b4065d85f4f0f9e8e290576873b8/ca1dc/93d56503.png 680w,
/static/d0e1b4065d85f4f0f9e8e290576873b8/49bb6/93d56503.png 775w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h2&gt;jenkins 설치하기&lt;/h2&gt;
&lt;p&gt;다음 명령어를 수행하여 jenkins를 설치한다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;&lt;span class=&quot;token function&quot;&gt;curl&lt;/span&gt; &lt;span class=&quot;token parameter variable&quot;&gt;-fsSL&lt;/span&gt; https://pkg.jenkins.io/debian-stable/jenkins.io-2023.key &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;tee&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
  /usr/share/keyrings/jenkins-keyring.asc &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; /dev/null
&lt;span class=&quot;token builtin class-name&quot;&gt;echo&lt;/span&gt; deb &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;signed-by&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;/usr/share/keyrings/jenkins-keyring.asc&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
  https://pkg.jenkins.io/debian-stable binary/ &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;tee&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
  /etc/apt/sources.list.d/jenkins.list &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; /dev/null
&lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;apt-get&lt;/span&gt; update
&lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;apt-get&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; jenkins

&lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; systemctl status jenkins &lt;span class=&quot;token comment&quot;&gt;# 실행상태 확인&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/377aacf35597393970adf4d2f550dffe/fcbeb/99b45540.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 16.470588235294116%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAgElEQVR42m2OywrFIAxEleIjahdy1YIbBW3//w/n1oC7Lg5DEmYywmeHOipiiyi9oI2OOSfmPTHGQK3vLUbGOYcQAqy1EEJ8Q5bw3M8b1JBqAp0EpRRzHAer1ppDpJRs2vrJMqWc0XvHVS6kX+I2q4kxhtmhRMTs/Z699/xwNf8DtG9D56Z4n3UAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;99b45540&apos; title=&apos;&apos; src=&apos;/static/377aacf35597393970adf4d2f550dffe/ca1dc/99b45540.png&apos; srcset=&apos;/static/377aacf35597393970adf4d2f550dffe/e7570/99b45540.png 170w,
/static/377aacf35597393970adf4d2f550dffe/f46e7/99b45540.png 340w,
/static/377aacf35597393970adf4d2f550dffe/ca1dc/99b45540.png 680w,
/static/377aacf35597393970adf4d2f550dffe/02d09/99b45540.png 1020w,
/static/377aacf35597393970adf4d2f550dffe/fcbeb/99b45540.png 1206w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h2&gt;jenkins 접속하기 &amp;#x26; 초기설정&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;jenkins는 기본적으로 8080포트를 사용한다.
jenkins의 포트를 변경하는 방법에 대해서는 본 글에서 다루지는 않는다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;{인스턴스-public-ip}:8080&lt;/code&gt; 으로 접속하면 다음과 같은 화면을 볼 수 있다.&lt;/p&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/1a9e2cb6709d5c991de4fa4d0d15199d/f5df9/4492665d.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 76.47058823529412%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAAsTAAALEwEAmpwYAAABjklEQVR42qVT7VLCMBDk6X0Xx1fwAQT8Ib+AoQ7IYBXblCYhTT9S1rtAwA9AGDOzXELJdm9v6QyHI8xmL5hOZ5BSoSgKrNdrFKbY77XWZ6HU9t5isUCHP3jxRYYhorKsfOVz0zT4a202G1+TJDkQTiYRug99DJ4GGI/G6HV7dO5hPufnGzjn0Lath3Nc3Zd9eyCM49gfDEleKY2VLiDUGqkyyKgqailnUFt5npNq49Vzi1wZoYtvhKU20EJCZtojF+SNIG9E7mGlRlVV+/ZOthwIraZBrCRsHqB8NRkRMmhgZVl6cPu8WBnvjxKmWYa35RLvHwm0MWjIl5ou1K7xtSKUpLCqazREYq3dDdF45b8Im8b5t50FD4FgSeXWR+vB0fGi0vRAeMybUxHZDoSGs4sa55An/S9CVhVaZl9/tXwJIf+GL0spPVEYyNGhXELIJJzFoOhsbNiD8LZT4JiwXyHI4fuj/5RrPPy5bO3wnBQYTV/RiaLIeyKEQEZZvAZCZFAyx3gW4+auj9v7R3wC/VKL2SHZQ34AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;4492665d&apos; title=&apos;&apos; src=&apos;/static/1a9e2cb6709d5c991de4fa4d0d15199d/ca1dc/4492665d.png&apos; srcset=&apos;/static/1a9e2cb6709d5c991de4fa4d0d15199d/e7570/4492665d.png 170w,
/static/1a9e2cb6709d5c991de4fa4d0d15199d/f46e7/4492665d.png 340w,
/static/1a9e2cb6709d5c991de4fa4d0d15199d/ca1dc/4492665d.png 680w,
/static/1a9e2cb6709d5c991de4fa4d0d15199d/f5df9/4492665d.png 1019w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;다시 EC2 화면으로 넘어와서 다음 명령어를 수행하여 &lt;code class=&quot;language-text&quot;&gt;initialAdminPassword&lt;/code&gt;를 알 수 있다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;&lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;cat&lt;/span&gt; /var/lib/jenkins/secrets/initialAdminPassword&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/1bfdaa00e299a618f4e0d6f9a35b40f4/e42f2/f55b94c9.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 5.294117647058823%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAABCAYAAADeko4lAAAACXBIWXMAAAsTAAALEwEAmpwYAAAARElEQVR42h2KOwrAMAzFegN/Y5OlS4OTqfe/3WvxIBBCF92EfBN5flbAlmE+E7sOqgrMDCKCqsLdYWbtItJ9jNFERL8f97MZQConaOsAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;f55b94c9&apos; title=&apos;&apos; src=&apos;/static/1bfdaa00e299a618f4e0d6f9a35b40f4/ca1dc/f55b94c9.png&apos; srcset=&apos;/static/1bfdaa00e299a618f4e0d6f9a35b40f4/e7570/f55b94c9.png 170w,
/static/1bfdaa00e299a618f4e0d6f9a35b40f4/f46e7/f55b94c9.png 340w,
/static/1bfdaa00e299a618f4e0d6f9a35b40f4/ca1dc/f55b94c9.png 680w,
/static/1bfdaa00e299a618f4e0d6f9a35b40f4/e42f2/f55b94c9.png 734w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;확인한 암호를 화면에 입력한 뒤 Continue 버튼을 눌러 계속 진행한다.&lt;/p&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/34da90f6397f6f2e2761f50b1c127250/583a7/28fea7e9.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 76.47058823529412%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAAsTAAALEwEAmpwYAAABpElEQVR42p1T7U7jMBDsq9/LIPEM9x+O4yh/oZxU2gM1JDTxR+wkTtthZ1FaQG2BW2lkx94dz35kNJlMMJ3eYzaboa5rNE2DEAJijLqPMej5MXjv1XexWGCUZRk2m41cBL0IIaJtOwQh9L5G3/f4zBhPK8tyIATuJn9x8es3rsfXuL25xdWfMc7PLjCf/VNnEm/Wa6w/YLVa6bolzPNcP6jIOI/SR5QuYCmoBFZUK5yDMVYzYTmGsnBNqd8RFkWhH42TWiwNzFKCSw8jcKVDlLMgaIxD6tJWzcGU3xLGyqKpGMzVKkksjZJG2XddJ8VvNc2hDHxgL2HxvMQie0KWF6ilMUmCmErqdyAh0csdu8oOM+VOlNOq6g1hK46tOLVtq13m61TyDmyCoBEf1i9yrAScBqqsqmpHOMj+zJji0AyCKp00jA/+FyH9os6o35Iy/deUv0lIH5aEikiksylne5vyFUIqs9Yq6cGxGQZ7aP8xpJRUHdeBiHj3p3y3hvss9Ws8mg7Thxyj+Xyu9WAqfP0YPvpYK4Mfakwfc/w4vcTJzzFeAINXjf7ZXI+HAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;28fea7e9&apos; title=&apos;&apos; src=&apos;/static/34da90f6397f6f2e2761f50b1c127250/ca1dc/28fea7e9.png&apos; srcset=&apos;/static/34da90f6397f6f2e2761f50b1c127250/e7570/28fea7e9.png 170w,
/static/34da90f6397f6f2e2761f50b1c127250/f46e7/28fea7e9.png 340w,
/static/34da90f6397f6f2e2761f50b1c127250/ca1dc/28fea7e9.png 680w,
/static/34da90f6397f6f2e2761f50b1c127250/583a7/28fea7e9.png 1013w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;초기 플러그인 세팅 화면이 나오는데 &lt;code class=&quot;language-text&quot;&gt;Install suggested plugins&lt;/code&gt; 를 눌러 초기 플러그인 설정을 진행한다. &lt;/p&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/6be6be95dbd2b5d099883b8b0c45d285/d8785/c78a9517.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 75.88235294117648%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAAsTAAALEwEAmpwYAAABzUlEQVR42p1UiW6bQBT0/39SPyCRq9RxrMolji9ALAHMfS6Hp++9GIvUaatkpdGwCzs771hmhmFgt9sLwjBEksSI488hiiLal2C73WLmeR66rkdZlsQd2rYT7vte0Lat8L/G+XwWdhwHM9/3MQwDDGOD+fwB9/ffhde/nrFYLHF3Nyd+gtatbORvmafgtatgEAQyqasKNbmsqzdU9JxnGYqiEPd13VxQ01p5WatvHZ5OJ5mouMYhKGCFJfZ+DjdtEBQdorIT0TTNKE8p8ryQFHFqRmcfCq7sGN9WeyytAD9VBJVrRPqM16zDZrPBer2G67pSAMmt5Lu9hn0VDEmQp7tTiWNUwkpqqEzDJnaIraiSCmaX8PM8J7eprDHzGgvfCK6cGD8sHw+mj4Ud0HOAlRvjxctg2zZMy3zj4xGKNopbahk+iIUlbUpNQnYSLFWMJ5Vc8UiHPLsJAuoELh7D8z0Se4WjXBHi4rDojWDV9ig09eMEPNfdIDnrLn3JPZpluYTM4XPIY7XfFWVM7P+G1locVdRmfMBNUUbBgV+w8B+YDg6Pw2ya5u835TMO2R0Ljldxelu+HPJH370TNE2L/hjJtWJfAReG3R8OB/wGHbWCEuKtdfAAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;c78a9517&apos; title=&apos;&apos; src=&apos;/static/6be6be95dbd2b5d099883b8b0c45d285/ca1dc/c78a9517.png&apos; srcset=&apos;/static/6be6be95dbd2b5d099883b8b0c45d285/e7570/c78a9517.png 170w,
/static/6be6be95dbd2b5d099883b8b0c45d285/f46e7/c78a9517.png 340w,
/static/6be6be95dbd2b5d099883b8b0c45d285/ca1dc/c78a9517.png 680w,
/static/6be6be95dbd2b5d099883b8b0c45d285/02d09/c78a9517.png 1020w,
/static/6be6be95dbd2b5d099883b8b0c45d285/d8785/c78a9517.png 1021w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/c5ec863604bfad00adc41e0bcd9ca6fd/9b7e9/82bae04f.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 76.47058823529412%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAAsTAAALEwEAmpwYAAABwElEQVR42pWUWW+bQBSF+f8/qw9J5FRK89ImYrFZhp3BgPGKfTrnIlBsJY2LdDQznjvfXWXL85ZYLldYrXx0XYfNZnOlvu+/Fe12ux2UUrDW6zWGYcD5fMblcpk1fdzz7vb+VvyKohiBF2PcmLWsKjRNC61rUV3X2G638mAg8Asonc3ArmtxND/8eHjGYvFT9Pi4wNMT9YwgCMV4yuIz8W4G9ib/wUTc9Kc5RWYwpXEbybfAV+cVbuogrH2oWiHLMoRhhNY0iCn7fiDF1rqSc5pmxiY3pWnkzJVNORwOY1N+O3/w5r3DizwkZYI4SQXIGpZliSiKkOe5OCpLQtfSUUIIY40pAuM4hmXbDmKVoMgL6ErLg6Io59VxHDNSK+MkFCeVaVxl7DguhOz3e3FwOp2QJAks13WR5hmKskClR2OlYolAa42Xl19wXU+M6YSRMu227QT2OTBNJS0WlaOTm2jbtpVogiAQCMUaUSwDH38BdCR31o2GSkXzo/F8vb8D6MqGUGp69PF8e/dPoG3bYsCi3yuWgWCCqKsuE8bij927TxwnziCjI4wNPB6P0gtrmjNCOVf/I/4PUISzib7v4y8mPXFDELhsegAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;82bae04f&apos; title=&apos;&apos; src=&apos;/static/c5ec863604bfad00adc41e0bcd9ca6fd/ca1dc/82bae04f.png&apos; srcset=&apos;/static/c5ec863604bfad00adc41e0bcd9ca6fd/e7570/82bae04f.png 170w,
/static/c5ec863604bfad00adc41e0bcd9ca6fd/f46e7/82bae04f.png 340w,
/static/c5ec863604bfad00adc41e0bcd9ca6fd/ca1dc/82bae04f.png 680w,
/static/c5ec863604bfad00adc41e0bcd9ca6fd/9b7e9/82bae04f.png 1009w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;초기 Admin 유저를 생성할 수 있다.&lt;/p&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/407217b075d5dc4ab36ca58e5b6895fb/bb4c7/a8f14e43.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 75.88235294117648%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAAsTAAALEwEAmpwYAAABV0lEQVR42pWT3W6CMBiGufOd7VJ2suwSlp2pi2Yao6A7QMlQERVULD+l9F1b0TQRRL/kSf/fvv3aGpZlYT53YNszBEGAKIpwPB5VqSP76jgcDiCEwHEcGK7rQkaSpMiyDHmeI00zUadlmYHSXLUppeAcN8HLTs/zpOBCNZbLFTqdLnq9HwyHI/T7Q4zHFlqtDkYjE6Y5Qbv9rTbWRfT6er2GsVicBU8nIiYnKMSgnFAUxQ1MwMvxRkF5VLlACrJyMdOEdFFJzthVqNqhSKoUrXJWR4NDBsYeF2NNDqPopK6+Ln9PO6TiuFTsqufvHo05jOPkeoxHue9QPFq566PQJoeExCqHlwnPOCyKy0/RBOWjJnF8zmUDeVlyLi+GVzvkVZ+0JniJjH1M8buKMNummNgujOl0Ct/3lXoYhnfZCzbbAH+eL9hgs9vha2Dj5a2N1/cuPj57+AeZf421Ajk8yQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;a8f14e43&apos; title=&apos;&apos; src=&apos;/static/407217b075d5dc4ab36ca58e5b6895fb/ca1dc/a8f14e43.png&apos; srcset=&apos;/static/407217b075d5dc4ab36ca58e5b6895fb/e7570/a8f14e43.png 170w,
/static/407217b075d5dc4ab36ca58e5b6895fb/f46e7/a8f14e43.png 340w,
/static/407217b075d5dc4ab36ca58e5b6895fb/ca1dc/a8f14e43.png 680w,
/static/407217b075d5dc4ab36ca58e5b6895fb/02d09/a8f14e43.png 1020w,
/static/407217b075d5dc4ab36ca58e5b6895fb/bb4c7/a8f14e43.png 1023w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;jenkins의 기본 URL을 설정할 수 있다. 기본값을 권장한다. &lt;/p&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/4035960bbafbca7af5331b1611fac0f0/42a19/84efb2c8.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 75.88235294117648%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAAsTAAALEwEAmpwYAAABNklEQVR42u2Uy26DMBBF8/Vd9kMqddEv6CpRUJoqUtpUICIBKY+WDYSnbcytx0CiEDZRN13U0tHg8ej6zkh4ZpomXNeD47hI0xRFUSDPcx0Hzvtcf4/JsgxVVSkNB7MgCEGrLEtFBca4goFzpnNUyDnXZxSnVtu2Ovq+j1kYdoKed8BiYWC93mC7fYdl2XhZvarcUu/n8yVse38hMBYMguAsSK7yvDgdUiyVu0y1lB6ppRpSSjRE03RRIQi1v3LYtVVqYaKuaz3TJCESHPs5VSqvYw9dOinIWH0a/iBKCMH1ZYKLbrYDKsf7GnJ+1bIQQrsiBofkYMiNz6iehIiLGUZRNDnoW9a/4O8FpRz+lL/okAmJ3WeKXVjgzVKPA702pEzEcXwT0dc3PvYH3D8auHsw8PS8wg++b41+WLe4nQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;84efb2c8&apos; title=&apos;&apos; src=&apos;/static/4035960bbafbca7af5331b1611fac0f0/ca1dc/84efb2c8.png&apos; srcset=&apos;/static/4035960bbafbca7af5331b1611fac0f0/e7570/84efb2c8.png 170w,
/static/4035960bbafbca7af5331b1611fac0f0/f46e7/84efb2c8.png 340w,
/static/4035960bbafbca7af5331b1611fac0f0/ca1dc/84efb2c8.png 680w,
/static/4035960bbafbca7af5331b1611fac0f0/02d09/84efb2c8.png 1020w,
/static/4035960bbafbca7af5331b1611fac0f0/42a19/84efb2c8.png 1024w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;여기까지 했으면 초기 설정은 완료했다고 볼 수 있다.&lt;/p&gt;
&lt;p&gt;만약 위 과정에서 admin 유저를 생성하지 않았다면 &lt;code class=&quot;language-text&quot;&gt;admin&lt;/code&gt; 이라는 기본 유저로 로그인 할 수 있다고 설명하고 있다.
비밀번호는 &lt;code class=&quot;language-text&quot;&gt;initialAdminPassword&lt;/code&gt; 과정에서 입력했던 값으로 설정되어있다.&lt;/p&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/f1396e60734e9dddb0c6a43f0652fc07/0d97d/60ba97ad.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 77.05882352941177%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAAsTAAALEwEAmpwYAAABXklEQVR42u2Uy07DMBBF+/8s+QW+gBV71kioQNOmzqNpQiFt3onzqJ3L2G2A0iJUNmwY6WTuWJrrkZ1kNJ/PwZgFy7IRxzGyLDubNE1RFAWCIMBovV5DSqkZou979TyoB07FsJ4kCUZhGOpisfAxHk8wmzE47hIu1RPDhGla4LyF2k+InjJB/Z8RcmcYx2S42US6CDwGZt7DtR7hu1MsXQPm5A4ue0DXJNRZohcFevkFkUPS+vuE6txUiMZHU5io8xl4ZoCnBupsqnNTMrSlpekqG21laZTuKIvm+diwTB3kEZmUDupCNTlkRDq3CEabzDVKqzWeMU1DWrQvx4bblqOtS3RthbquUFUF2oar2ffIPaR7caCl3H4YJsnO8OrWxsX1Ey5vDIQp17c8HPZPcXDLw4R+XMF+LbBY05RbiXPipOF379i/4R8Yep6HKIp0of4YvyHPc/reOVarFd4AhmyNTDDm+BMAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;60ba97ad&apos; title=&apos;&apos; src=&apos;/static/f1396e60734e9dddb0c6a43f0652fc07/ca1dc/60ba97ad.png&apos; srcset=&apos;/static/f1396e60734e9dddb0c6a43f0652fc07/e7570/60ba97ad.png 170w,
/static/f1396e60734e9dddb0c6a43f0652fc07/f46e7/60ba97ad.png 340w,
/static/f1396e60734e9dddb0c6a43f0652fc07/ca1dc/60ba97ad.png 680w,
/static/f1396e60734e9dddb0c6a43f0652fc07/0d97d/60ba97ad.png 1011w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;이렇게 Jenkins를 설치할 수 있다.&lt;/p&gt;
&lt;h2&gt;Reference&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://www.jenkins.io/doc/book/installing/linux/&quot;&gt;https://www.jenkins.io/doc/book/installing/linux/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[@NotNull과 nullable = false는 어떤 차이가 있을까?]]></title><description><![CDATA[이 글은 우테코 피움팀 크루 '그레이'가 작성했습니다. 서론 JPA를 이용해 엔티티를 설계하다가  어노테이션과 @Column의 의 차이점이 궁금해져 알아보았습니다. nullable = false ?? JPA는 엔티티를 매핑하고 설계하면 자동으로 DDL…]]></description><link>https://pium-official.github.io/jpa-notnull-nullable/</link><guid isPermaLink="false">https://pium-official.github.io/jpa-notnull-nullable/</guid><pubDate>Sun, 16 Jul 2023 00:00:00 GMT</pubDate><content:encoded>&lt;blockquote&gt;
&lt;p&gt;이 글은 우테코 피움팀 크루 &apos;&lt;a href=&quot;https://github.com/Kim0914&quot;&gt;그레이&lt;/a&gt;&apos;가 작성했습니다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;서론&lt;/h2&gt;
&lt;p&gt;JPA를 이용해 엔티티를 설계하다가 &lt;code class=&quot;language-text&quot;&gt;@NotNull&lt;/code&gt; 어노테이션과 @Column의 &lt;code class=&quot;language-text&quot;&gt;nullable=false&lt;/code&gt;의 차이점이 궁금해져 알아보았습니다.&lt;/p&gt;
&lt;h2&gt;nullable = false ??&lt;/h2&gt;
&lt;p&gt;JPA는 엔티티를 매핑하고 설계하면 자동으로 DDL을 생성해 주는 기능을 제공합니다.
또한 엔티티의 각 컬럼들에 대해 NOT NULL, UNIQUE 등과 같은 제약 조건이 포함되는 경우에도 자동으로 DDL을 생성해 줍니다.&lt;/p&gt;
&lt;p&gt;엔티티를 설계할 때 일반적으로 @Column 어노테이션을 활용합니다.
@Column 어노테이션에서 해당 컬럼의 NOT NULL 제약을 설정할 수 있는데 &lt;code class=&quot;language-text&quot;&gt;@Column(name = &quot;email&quot;, nullable = false)&lt;/code&gt;와 같이 nullable=false 설정을 걸어주면, 해당 제약 조건을 명시할 수 있습니다.
따로 명시하지 않으면 nullable의 기본 값은 true입니다.&lt;/p&gt;
&lt;p&gt;간단한 User 엔티티를 생성해 보겠습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token annotation punctuation&quot;&gt;@Entity&lt;/span&gt;
&lt;span class=&quot;token annotation punctuation&quot;&gt;@Table&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;name &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;user&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;User&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;AuditingEntity&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

    &lt;span class=&quot;token annotation punctuation&quot;&gt;@Id&lt;/span&gt;
    &lt;span class=&quot;token annotation punctuation&quot;&gt;@GeneratedValue&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;strategy &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;GenerationType&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;IDENTITY&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token annotation punctuation&quot;&gt;@Column&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;name &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;id&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; updatable &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Long&lt;/span&gt; id&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token annotation punctuation&quot;&gt;@Column&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;name &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;user_id&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; length &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; userId&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token annotation punctuation&quot;&gt;@Column&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;name &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;password&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; length &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; password&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token annotation punctuation&quot;&gt;@Column&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;name &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; length &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; name&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token annotation punctuation&quot;&gt;@Column&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;name &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;email&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; nullable &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; length &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;50&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; email&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;User 테이블의 email 필드는 반드시 값이 존재해야 합니다.
즉, &lt;strong&gt;NOT NULL 제약 조건이 필요&lt;/strong&gt;합니다.
여기서 JPA가 자동으로 생성하는 DDL을 확인해 보겠습니다.&lt;/p&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 511px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/07ba5d1c8c397f8be6371368e94590bd/40f84/img.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 56.470588235294116%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABL0lEQVR42pVT7ZKCMBDzNU4RCogglkK/wHv/B9trojA3o+OdP5Zuoc0m2WV3bi9iRiv9VUt9auRrn8khy2V/OHLNjsVHsVsvVXUjqqy5ltWJcczVBn6PnPt3BQlYqEom68U6Lz7MMk6WeXe5bgWapk0KzsxPKW/OHdcnQDxQLS9KGcwk3kcxabUuSIiLOOyTJSEVsvZe5NLr9G6iTVDxBIjAB4DMyzeBez2k/CZxXh4eD0mFoxr4jACRlwwhGwxxGdIheZwcwZ0PYri30nY9z60EXjaFSVbwYIizaD0SBNJ9iGyUUjX9Wpv0tsu/GboHCPyZEkNYAKZoxCt5fwICSA+jXLWhdEScb2T535ncAAtVEgAMBzOyEWCIsflosPEAO3r1GGxVVuwm4pB99qf8AHc/NmNete98AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img&apos; title=&apos;&apos; src=&apos;/static/07ba5d1c8c397f8be6371368e94590bd/40f84/img.png&apos; srcset=&apos;/static/07ba5d1c8c397f8be6371368e94590bd/e7570/img.png 170w,
/static/07ba5d1c8c397f8be6371368e94590bd/f46e7/img.png 340w,
/static/07ba5d1c8c397f8be6371368e94590bd/40f84/img.png 511w&apos; sizes=&apos;(max-width: 511px) 100vw, 511px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;email varchar(50) not null&lt;/code&gt; 과 같이 not null 제약 조건이 자동으로 명시됨을 알 수 있습니다.&lt;/p&gt;
&lt;p&gt;하지만 DDL은 애플리케이션 내부가 아닌 데이터베이스 컬럼의 속성에 대한 조건이므로, 스프링(자바) 애플리케이션 내 User 엔티티의 email 필드는 null이 허용됩니다.&lt;/p&gt;
&lt;p&gt;테스트 코드로 확인해 보겠습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token annotation punctuation&quot;&gt;@TestConstructor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;autowireMode &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;TestConstructor&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;AutowireMode&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;ALL&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token annotation punctuation&quot;&gt;@DataJpaTest&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;UserRepositoryTest&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;UserRepository&lt;/span&gt; userRepository&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;UserRepositoryTest&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;UserRepository&lt;/span&gt; userRepository&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;userRepository &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; userRepository&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;token annotation punctuation&quot;&gt;@Test&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;save&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token class-name&quot;&gt;User&lt;/span&gt; user &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;User&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;gray1234&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;password&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;gray&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

        &lt;span class=&quot;token class-name&quot;&gt;User&lt;/span&gt; savedUser &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; userRepository&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;save&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;user&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

        &lt;span class=&quot;token function&quot;&gt;assertThat&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;savedUser&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;isEqualTo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;user&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/71aee32c567a1f0f3cd007720fe0bc0e/bbbf7/img2.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 40%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsTAAALEwEAmpwYAAABN0lEQVR42m2Sa3aCMBBGWUerQEJCEkEFfFv1dAHd/3amdyhtrfXHPROScPNNIOuHjXT9IDEmqUOQNi2kSY2k1DK3YC5JmNDnoNzN1YE98Zdst73J5f1DYn+T1F/Fuyg7V8uFzXsX5OC/OMLJR9nXUToky/HQRjzj0joxlZe8MJL52EpYrCSklXgI1suGxX5iGKsbawdrXl5TGw6NVT3WMMmKwkpWj7GBlr22zQtbNmiiNxId4UCqNXuStonE5aUYKOaFOEQVvM5zKBDGv3dgTDUmPCNR4QHJEBtZ0ppBlpPiZZb/CHSszBjPHoUeLEJNeNa7ox1NODDfcoBjrSytzEmnfEvueS5EdCXZDS6IdiTs+Ooth1SkNNyz5WqeSf+1XCJcTRe/pDagNamEgyzCijX9ZRzPj8JP4iTnrJ0znIQAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img2&apos; title=&apos;&apos; src=&apos;/static/71aee32c567a1f0f3cd007720fe0bc0e/ca1dc/img2.png&apos; srcset=&apos;/static/71aee32c567a1f0f3cd007720fe0bc0e/e7570/img2.png 170w,
/static/71aee32c567a1f0f3cd007720fe0bc0e/f46e7/img2.png 340w,
/static/71aee32c567a1f0f3cd007720fe0bc0e/ca1dc/img2.png 680w,
/static/71aee32c567a1f0f3cd007720fe0bc0e/02d09/img2.png 1020w,
/static/71aee32c567a1f0f3cd007720fe0bc0e/bbbf7/img2.png 1280w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;테스트가 실패함을 확인할 수 있습니다.&lt;/p&gt;
&lt;p&gt;하지만 여기서 주의 깊게 살펴볼 점이 있습니다. 예외 메시지를 따라 올라가 보면 insert 쿼리가 한 번 발생한 것을 알 수 있습니다. 또한 발생한 예외 타입이 JdbcSQL.... Exception입니다.&lt;/p&gt;
&lt;p&gt;즉 애플리케이션 내부가 아닌, 데이터베이스 내에서 예외가 발생했다는 것입니다.&lt;/p&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/6eb86d0d25b3bd233da6c29c69b111b7/78ab2/img3.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 36.47058823529412%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsTAAALEwEAmpwYAAABFUlEQVR42m1RV1LDMBTUOYi71WUV24GEMtz/Vo99shNmGD5W+3qTWGOktGSyfiEXYuVZalLGkXOhMtssZMcMPG2Atr7CwL+kQkJpWx0vl5aapqu4/EHb9r/oBmpOZr05wflSGRKcwAJjmlWdjnmcZJWZu36sCY8G/zV9FuQnYlR9rshr9cNUi2pjEYT1sQUX12ClDY3jDP1oLuXh56asi7AkSmWjEMHrTmW7HsVxz1xW2DN4qzFlv9Y7SfYjb91fyYP149bIERZVPaZ0J1tAYzq2s8zsTg6YxLOOMwRwgh45F/GMhMLCDjN9wPgN57t2tAJvxtMNP3cHrsANq38i5ktZumOSAltGTEZslmiGE7l+okUb+gEewspdEbtDdAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img3&apos; title=&apos;&apos; src=&apos;/static/6eb86d0d25b3bd233da6c29c69b111b7/ca1dc/img3.png&apos; srcset=&apos;/static/6eb86d0d25b3bd233da6c29c69b111b7/e7570/img3.png 170w,
/static/6eb86d0d25b3bd233da6c29c69b111b7/f46e7/img3.png 340w,
/static/6eb86d0d25b3bd233da6c29c69b111b7/ca1dc/img3.png 680w,
/static/6eb86d0d25b3bd233da6c29c69b111b7/02d09/img3.png 1020w,
/static/6eb86d0d25b3bd233da6c29c69b111b7/78ab2/img3.png 1201w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;애플리케이션 내에서는 email 컬럼의 null을 체크하지 못하고, 데이터베이스에 쿼리가 실행될 때 예외가 발생한다는 것입니다. 또한 insert 쿼리가 데이베이스에서 실행되므로 Auto Increment인 PK가 증가합니다.&lt;/p&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/8328bd74000f76b69473afbebb4ddfec/ef64d/img4.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 39.411764705882355%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA4ElEQVR42o1SWxKDIAzkGq2KD0Twjdr2/jdLs/HRmY7t+LFsDMsSElXbDZQXJd2jhKJYnyJO0stQhbHkfC2mhmOg2GBKJ5xmxc8Lvr+VKauPIcfgRGeUpjllbAQzzTFy34ABeN+HuRrGQB0/ewwTLY8X9UMQ46btJdf1I4VpoYHz8/ygieFcLWfCNMseNNDjnFqWpyR83VLLSXDddCs4hhBwvjnYsqGt/KEr7doasMKS5YZu91gGsyOKNLP+O6yzniqYoSoYV87LzSgdsJUThubqtFWzlY3GYiDnA7j+27wB3onf0dqVQqkAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img4&apos; title=&apos;&apos; src=&apos;/static/8328bd74000f76b69473afbebb4ddfec/ca1dc/img4.png&apos; srcset=&apos;/static/8328bd74000f76b69473afbebb4ddfec/e7570/img4.png 170w,
/static/8328bd74000f76b69473afbebb4ddfec/f46e7/img4.png 340w,
/static/8328bd74000f76b69473afbebb4ddfec/ca1dc/img4.png 680w,
/static/8328bd74000f76b69473afbebb4ddfec/02d09/img4.png 1020w,
/static/8328bd74000f76b69473afbebb4ddfec/ef64d/img4.png 1165w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;첫 번째 유저를 저장할 때는 email 값을 null로 할당한 후 try - catch를 이용해 예외를 삼키고, 두 번째 유저는 정상적으로 저장한 후 PK를 출력해 봤습니다. 예상한 것처럼, 두 번째 유저의 PK는 2 임을 확인할 수 있습니다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;그렇다면, 애플리케이션 내 엔티티에서는 null을 어떻게 막을 수 있을까요?&lt;/strong&gt;&lt;/p&gt;
&lt;h2&gt;@NotNull과 함께라면?&lt;/h2&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;@NotNull&lt;/code&gt;은 java validation에 속하며 &lt;code class=&quot;language-text&quot;&gt;@Valid&lt;/code&gt;를 이용한 요청을 처리하는 단계에서 예외를 잡을 수도 있고, bean validation을 통해 예외를 검증할 수도 있습니다.&lt;/p&gt;
&lt;p&gt;우리가 DTO와 같이 클래스의 필드를 검증하는 방법과 동일하게 엔티티의 필드도 검증할 수 있습니다. 당연히 같은 자바 객체이고 도메인이기 때문에 동일하게 적용할 수 있습니다.&lt;/p&gt;
&lt;p&gt;@Valid 어노테이션도 없이 어떻게?라고 생각할 수 있는데요, Hibernate는 엔티티에 적용된 Bean Validation 어노테이션 역시 DDL로 변환합니다.
@NotNull은 nullable=false와 마찬가지로 DDL 상에서 해당 컬럼이 NOT NULL 제약조건을 가짐을 명시합니다.&lt;/p&gt;
&lt;p&gt;스프링 공식문서인 밸덩에서도 이를 명확히 언급하고 있습니다. &lt;a href=&quot;https://www.baeldung.com/hibernate-notnull-vs-nullable&quot;&gt;밸덩 바로가기&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;이전 User 테이블에 nullable=false를 제거한 후 @NotNull 어노테이션만 붙여준 후 생성되는 DDL을 살펴보겠습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token annotation punctuation&quot;&gt;@Entity&lt;/span&gt;
&lt;span class=&quot;token annotation punctuation&quot;&gt;@Table&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;name &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;user&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;User&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;AuditingEntity&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

    &lt;span class=&quot;token annotation punctuation&quot;&gt;@Id&lt;/span&gt;
    &lt;span class=&quot;token annotation punctuation&quot;&gt;@GeneratedValue&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;strategy &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;GenerationType&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;IDENTITY&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token annotation punctuation&quot;&gt;@Column&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;name &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;id&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; updatable &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Long&lt;/span&gt; id&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token annotation punctuation&quot;&gt;@Column&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;name &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;user_id&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; length &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; userId&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token annotation punctuation&quot;&gt;@Column&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;name &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;password&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; length &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; password&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token annotation punctuation&quot;&gt;@Column&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;name &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; length &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; name&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token annotation punctuation&quot;&gt;@NotNull&lt;/span&gt;
    &lt;span class=&quot;token annotation punctuation&quot;&gt;@Column&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;name &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;email&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; length &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;50&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; email&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 581px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/e5b63e9522a57e7a8f2337fc96f1da3e/3f4f8/img5.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 50.588235294117645%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAABAUlEQVR42pWSWXKDMBBEfQ1biH0Tu9ic3P9gHbWIKCg7KfMxSEOJp+4ebqWq0HYDVNXAkwGE59v1WNIPT3vpBy9nXN0ICKMESZojilPESWZXP4gs/OFJPISEEP7Wi63/F0jIoCfoccY4LeiHEU3bIc1yUwWKsrIrL1VVjbxQfwP5uJsb87zEsjwtmLWsX5hNr81+NBc1bW+BDn6M4QVIlZkBrs9vo06jbjpM82qBBFEtlTm773I+AXmoVLVRtlmlbQKphsNyA/ukdiA/ps1jlnznhnMZyKCZFe12/WCAs7G8IghjiA9hpwwJ1L/hM0fa5xCuqNuBVMHa/sFk76+AHPAHtkYYSW8uW1QAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img5&apos; title=&apos;&apos; src=&apos;/static/e5b63e9522a57e7a8f2337fc96f1da3e/3f4f8/img5.png&apos; srcset=&apos;/static/e5b63e9522a57e7a8f2337fc96f1da3e/e7570/img5.png 170w,
/static/e5b63e9522a57e7a8f2337fc96f1da3e/f46e7/img5.png 340w,
/static/e5b63e9522a57e7a8f2337fc96f1da3e/3f4f8/img5.png 581w&apos; sizes=&apos;(max-width: 581px) 100vw, 581px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;동일하게 &lt;strong&gt;email varchar(50) not null&lt;/strong&gt; 과 같이 not null 제약 조건이 자동으로 명시됨을 알 수 있습니다.&lt;/p&gt;
&lt;p&gt;Hibernate에 의해 DDL이 자동으로 생성되는 기능을 끄고 싶다면 아래와 같이 설정하면 됩니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;properties&quot;&gt;&lt;pre class=&quot;language-properties&quot;&gt;&lt;code class=&quot;language-properties&quot;&gt;&lt;span class=&quot;token key attr-name&quot;&gt;spring.jpa.properties.hibernate.validator.apply_to_ddl&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token value attr-value&quot;&gt;false&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;그렇다면 nullable = false와 어떤 차이가 있을까요?&lt;/p&gt;
&lt;p&gt;차이점을 알아보기 위해 이전에 User의 email 필드에 null을 세팅한 후 저장하는 테스트 코드를 실행해보겠습니다.&lt;/p&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/0def70e8fe415ea9627150a16d3d5057/78ab2/img6.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 45.294117647058826%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAABbElEQVR42kWSV3LDMAxEdRGrS+yqLuPYntz/VMgDJU8+dlC5XIAstpRkjpPENIkPSRzoByODcTkejSUXs+/pU2hN+wK+9UGsC+L9EReGYLveZN8Bdlk3MdbT5GWal6OZwzHN+YBarfuTMF90+mlapOi6QYJHgQIl1niJWAeRyzeTs04Mqqyq1rwqhLTrR+l0mtFm6EWFbTrZ2142cAULCHUrHsS6E1c1YkGkz525gK/1gXx1qaUta2kulbTEhaE4QzKBFbVqQ9OL00NKAuxpj/i/9q3HL7pRCo/sV0zyAx7InttBYiY9mr6EmlOFmg9nXsUMOs1JHuDKO7zxAC8We4dQVd4oKK7g3psM9efRyaKX4ifsws/Y5zXvtUW5h6eomHuH5EPDh2X/YBVK+NIcJL/k3/hv7Mbh1UWZwcKDadwxaoXCVkeuIdwgfJ1ED15NsUP4xD6HI69+XgkEyfL6EI7YmlVUjF2WjZRVI39VjAkScBD/sQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img6&apos; title=&apos;&apos; src=&apos;/static/0def70e8fe415ea9627150a16d3d5057/ca1dc/img6.png&apos; srcset=&apos;/static/0def70e8fe415ea9627150a16d3d5057/e7570/img6.png 170w,
/static/0def70e8fe415ea9627150a16d3d5057/f46e7/img6.png 340w,
/static/0def70e8fe415ea9627150a16d3d5057/ca1dc/img6.png 680w,
/static/0def70e8fe415ea9627150a16d3d5057/02d09/img6.png 1020w,
/static/0def70e8fe415ea9627150a16d3d5057/78ab2/img6.png 1201w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;다음과 같이 &lt;code class=&quot;language-text&quot;&gt;javax.validation.ConstraintViolationException&lt;/code&gt; 예외가 발생한다는 것을 알 수 있습니다. 또한 nullable=false 방식 때 발생하던 &lt;strong&gt;insert 쿼리가 발생하지 않는다&lt;/strong&gt;는 점도 함께 볼 수 있습니다.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;javax.validation.ConstraintViolationException&lt;/code&gt; 예외가 발생했다는 것은 스프링(자바) 애플리케이션 내에서 예외를 잡았다는 것입니다. 그러므로 데이터베이스에 쿼리가 실행될 일이 없습니다.&lt;/p&gt;
&lt;p&gt;좀 더 정확하게 말하면 객체가 생성되는 시점이 아닌 &lt;strong&gt;엔티티가 영속화되는 시점에 예외가 발생&lt;/strong&gt;합니다.&lt;/p&gt;
&lt;p&gt;확실하게 알아보기 위해 동일한 User1, User2 저장 테스트를 실행해 보면 2번째로 저장한 유저의 PK가 1 임을 알 수 있습니다.&lt;/p&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/a5bab48c86a13529241f6a4e54ab9bf5/7e04b/img7.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 38.82352941176471%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsTAAALEwEAmpwYAAABBklEQVR42o1SWY7DIBTjHNOmJQTIBiRkae9/Mhe/KJpFM+p8WM96q02i8rohzQtCnGB9B20s6sbhXjfQv6BmveBnnv2Na6FCTFjWHTFNCCHBlGW6NhjGgLYbBOTsY+Swb3vpHcYo+TFEjIWPhau8bJiKwpRmrNsD/TDCFaVb4XNewPq2P7E/nqW+Sz2WXubyspbZjDTNAgpTtHokstjmdariUt92sM4LP8Ea8+R3bVDdtKhmtLTcDwGN9QLaNY0t3Mk7Hfabb5yxNp85RudbiTymaOFyveHjUglO/jW+wzmryyFFZbRp7WGNsqmQ0Qn3uFb3t+Bi/h2KX4pDfA/iP8N/LTTW4wUNI+R3MMXm9wAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img7&apos; title=&apos;&apos; src=&apos;/static/a5bab48c86a13529241f6a4e54ab9bf5/ca1dc/img7.png&apos; srcset=&apos;/static/a5bab48c86a13529241f6a4e54ab9bf5/e7570/img7.png 170w,
/static/a5bab48c86a13529241f6a4e54ab9bf5/f46e7/img7.png 340w,
/static/a5bab48c86a13529241f6a4e54ab9bf5/ca1dc/img7.png 680w,
/static/a5bab48c86a13529241f6a4e54ab9bf5/02d09/img7.png 1020w,
/static/a5bab48c86a13529241f6a4e54ab9bf5/7e04b/img7.png 1197w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;또한 @NotNull을 어노테이션을 사용하게 되면 예외 메시지를 직접 작성할 수 있는 장점도 존재합니다.&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;여담으로, @NotNull 없이 nullable=false 만 설정한 경우에도 NULL 검증을 진행하고 싶다면 아래와 같이 설정하면 됩니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;properties&quot;&gt;&lt;pre class=&quot;language-properties&quot;&gt;&lt;code class=&quot;language-properties&quot;&gt;&lt;span class=&quot;token key attr-name&quot;&gt;spring.jpa.properties.hibernate.check_nullability&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token value attr-value&quot;&gt;true&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/e8b3a0b2d617daac6f2414986df9fed6/bb7f4/img8.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 43.529411764705884%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAABjklEQVR42m2S2ZabMBBE+Y5kYnYESAiDV7CdmTn5/2+q3JbfcvJQ7kXVpVKb7BQXxXnRFI+aiG7warpegXrwk/oxpNxPczr/t2f1GGLCsp6VNa1T03QJzg2qqkZFUalFtK5bNaAjt9rOW3g1nN5qkCIaxhm5KLtDeNF40Dh2Tks36Np7nYlnZ/moG+cbvAfxknigcTpRL1wYMDCXtfq8VHaC+Mngb3CDuCP0AJ8Iveht9Ky23Hg3VjL7KB9mENW5XpW5Rjg3wYD9S9vpym0rTYPlF0hncAV2aWx7TbZbxMe6UwWvJJacVbg10aKoldnQtxv1h2fas7/c280XDr/BO3pdhqDLOGnB3UyccRqYHRDuMeVAVbXKFn6eCD1tX817lxsOX+zzCXbcb/QjogNCE/CIB9CWlfJfuYpDodzALrMZZVv6HaQnIrB2XouLPNMrukkrn8hxWdOn0fFkP0UF8gMCPz4O+oloAnlm/9LGfmxvJmw7OyJSj4sqRH086b5t2vddrh/S0AfD/0NelPoLwD8Ks4SAzg4AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;img8&apos; title=&apos;&apos; src=&apos;/static/e8b3a0b2d617daac6f2414986df9fed6/ca1dc/img8.png&apos; srcset=&apos;/static/e8b3a0b2d617daac6f2414986df9fed6/e7570/img8.png 170w,
/static/e8b3a0b2d617daac6f2414986df9fed6/f46e7/img8.png 340w,
/static/e8b3a0b2d617daac6f2414986df9fed6/ca1dc/img8.png 680w,
/static/e8b3a0b2d617daac6f2414986df9fed6/02d09/img8.png 1020w,
/static/e8b3a0b2d617daac6f2414986df9fed6/bb7f4/img8.png 1192w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;스프링(자바) 애플리케이션 단에서 예외가 잡히는 것을 볼 수 있습니다. 하지만 예외 타입이 hibernate.PropertyValueException으로 다릅니다.&lt;/p&gt;
&lt;p&gt;굳이 추천하는 방법은 아닌 것 같습니다.&lt;/p&gt;
&lt;p&gt;또한 &lt;code class=&quot;language-text&quot;&gt;@NotBlank&lt;/code&gt;나 &lt;code class=&quot;language-text&quot;&gt;@NotEmpty&lt;/code&gt;는 자동으로 DDL을 생성해주지 않습니다.&lt;/p&gt;
&lt;p&gt;그러므로 @NotBlank나 @NotEmpty를 사용하는 경우에는 &lt;code class=&quot;language-text&quot;&gt;@Column(nullable=false)&lt;/code&gt;를 반드시 추가해야 DDL에 NOT NULL 제약조건이 반영됩니다.&lt;/p&gt;
&lt;hr&gt;
&lt;h2&gt;정리&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;@Column(nullable = false)&lt;/strong&gt;
DDL을 자동으로 생성하지만, 애플리케이션의 영속성 컨텍스트에서 엔티티 필드에 null이 들어가는 것을 막지 못한다.&lt;/p&gt;
&lt;p&gt;또한 데이터베이스에 쿼리가 실행된 후 예외가 발생한다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;@NotNull&lt;/strong&gt;
DDL을 자동으로 생성하고 애플리케이션의 영속성 컨텍스트에서 엔티티 필드에 null이 들어가는 것을 막는다.&lt;/p&gt;
&lt;p&gt;잘못된 제약 조건인 경우 데이터베이스에 불필요한 쿼리를 날리지 않는다.&lt;/p&gt;
&lt;p&gt;추가적으로 Bean Validation 방식은 예외 메세지를 직접 작성할 수 있다.&lt;/p&gt;
&lt;p&gt;또한 @Size와 같이 다른 validation을 통해 엔티티 필드 값을 검증할 수 있다.&lt;/p&gt;
&lt;p&gt;단점으로는 코드가 지저분해지고, JPA를 이용한 엔티티화 시킨 것이 아닌 객체라면 @NotNull 어노테이션을 해석하지 못한다.&lt;/p&gt;
&lt;p&gt;하이버네이트에서는 nullable=false보다 @NotNull 사용을 조금 더 권장하고 있다.&lt;/p&gt;
&lt;h2&gt;레퍼런스&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;https://www.baeldung.com/hibernate-notnull-vs-nullable&quot;&gt;https://www.baeldung.com/hibernate-notnull-vs-nullable&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://kafcamus.tistory.com/15&quot;&gt;https://kafcamus.tistory.com/15&lt;/a&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[피움 블로그 생성과정]]></title><description><![CDATA[…]]></description><link>https://pium-official.github.io/blog-starter/</link><guid isPermaLink="false">https://pium-official.github.io/blog-starter/</guid><pubDate>Sun, 09 Jul 2023 00:00:00 GMT</pubDate><content:encoded>&lt;blockquote&gt;
&lt;p&gt;이 글은 우테코 피움팀 크루 &apos;&lt;a href=&quot;https://github.com/Choi-JJunho&quot;&gt;주노&lt;/a&gt;&apos;가 작성했습니다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;서론&lt;/h2&gt;
&lt;p&gt;피움팀의 기술블로그를 만들기까지의 험난한 과정을 정리해보려고 한다.&lt;/p&gt;
&lt;h2&gt;플랫폼 선정&lt;/h2&gt;
&lt;p&gt;팀 블로그를 작성하기 위해 다양한 플랫폼들을 고려해봤다.&lt;/p&gt;
&lt;h3&gt;티스토리&lt;/h3&gt;
&lt;p&gt;티스토리는 팀 블로그 기능을 통해 다양한 작성자 및 관리자를 지정할 수 있다.&lt;/p&gt;
&lt;p&gt;하지만 UI를 직접 수정할 수 없을 뿐더러 제공되어있는 스킨들이 대부분 마음에 들지 않았다.&lt;/p&gt;
&lt;p&gt;UI 선정과정에 너무많은 힘을 들일 것 같아서 티스토리는 사용하지 않았다.&lt;/p&gt;
&lt;h3&gt;Notion&lt;/h3&gt;
&lt;p&gt;현재 팀 문서 정리를 Notion으로 관리하고있다.&lt;/p&gt;
&lt;p&gt;자유롭게 템플릿을 관리할 수 있어서 가장 매력적으로 다가온 툴이였지만 SEO를 적용하지 못하고, 도메인을 별도로 지정해야한다는 단점이 있어 선택하지 않았다.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;중간에 vercel에서 제공하는 notion 배포기능을 사용하는 방식이 있었지만 Organizaiton으로 레포지토리를 관리하고 있는 현재 상황에서 해당 서비스를 이용하려면 유료였기 때문에 해당 부분도 사용하지 못했다.
&lt;a href=&quot;https://vercel.com/templates/next.js/notion-blog&quot;&gt;Notion-backed Next.js Blog&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3&gt;Velog&lt;/h3&gt;
&lt;p&gt;팀 계정을 생성해서 Velog에 글을 게시하는 방법을 생각해봤다.&lt;/p&gt;
&lt;p&gt;팀 계정을 생성한다는 부분에서 팀 프로젝트가 계속 진행되면서 계정을 관리하는 리소스가 추가되는것이 우려되었기 때문에 선택하지 않았다.&lt;/p&gt;
&lt;h3&gt;GitBook&lt;/h3&gt;
&lt;p&gt;GitBook을 이용해서 팀 블로그를 운영할 수도 있겠지만 UI 구성적인 측면에서 기술블로그와는 거리가 멀었기 때문에 선택하지 않았다.&lt;/p&gt;
&lt;h3&gt;GitHub Pages&lt;/h3&gt;
&lt;p&gt;정적인 페이지를 무료로 호스팅할 수 있고, 마음만 먹으면 자유롭게 커스터마이징 할 수 있는 환경이라는 부분이 매력있게 다가와 GitHub Pages를 선택했다.&lt;/p&gt;
&lt;h2&gt;GitHub Pages로 팀 블로그 만들기&lt;/h2&gt;
&lt;p&gt;이제 본격적으로 GitHub Pages를 이용하여 팀 블로그를 만드는 과정을 차근차근 따라가보자.&lt;/p&gt;
&lt;p&gt;gatsby를 이용하여 블로그 배포를 진행했다. 사용한 템플릿은 gatsby-starter-hoodie이며 블로그에 친절하게 사용법이 게시되어있다.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/devHudi/gatsby-starter-hoodie&quot;&gt;🐙 gatsby-starter-hoodie&lt;/a&gt;
&lt;a href=&quot;https://hoodie.gatsbyjs.io/about-hoodie-kr/&quot;&gt;🚀 gatsby-starter-hoodie 사용 방법 보러가기&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;필자는 gatsby에 대해 아무것도 모르는 상태로 해당 작업을 진행했습니다. 😵‍💫
최대한 알기 쉽게 정리하려고 노력했습니다만... 잘못된 부분이 있다면 댓글로 남겨주시면 감사하겠습니다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3&gt;gatsby란?&lt;/h3&gt;
&lt;p&gt;우선 사용하고자하는 gatsby가 무엇인지부터 알고 진행해보자.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/Gatsby_(JavaScript_framework)&quot;&gt;위키백과&lt;/a&gt;에 따르면&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;개츠비는 React와 GraphQL을 사용하여 Node.js 위에 구축된 오픈소스 정적 사이트 생성기입니다.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;라고 설명되어있다.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;Node.js 위에 구축된&lt;/code&gt; 해당 문구로부터 로컬 환경에 Node.js가 필요하다는 것을 알 수 있다.&lt;/p&gt;
&lt;h3&gt;node 설치하기&lt;/h3&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;brew &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;node&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/73b786eee2c0d2daf34599aaaea6a06b/4c40c/dd266184.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 5.88235294117647%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAABCAYAAADeko4lAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAI0lEQVR42mOQVpD9r6qq8p+bm/s/AwMDWZibnx+MuXh5/wMAUT0VSh1aL/AAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;dd266184&apos; title=&apos;&apos; src=&apos;/static/73b786eee2c0d2daf34599aaaea6a06b/ca1dc/dd266184.png&apos; srcset=&apos;/static/73b786eee2c0d2daf34599aaaea6a06b/e7570/dd266184.png 170w,
/static/73b786eee2c0d2daf34599aaaea6a06b/f46e7/dd266184.png 340w,
/static/73b786eee2c0d2daf34599aaaea6a06b/ca1dc/dd266184.png 680w,
/static/73b786eee2c0d2daf34599aaaea6a06b/02d09/dd266184.png 1020w,
/static/73b786eee2c0d2daf34599aaaea6a06b/9d567/dd266184.png 1360w,
/static/73b786eee2c0d2daf34599aaaea6a06b/4c40c/dd266184.png 1918w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;node -v&lt;/code&gt; 명령어를 통해 잘 설치되었는지 확인해본다.&lt;/p&gt;
&lt;h3&gt;npx 설치하기&lt;/h3&gt;
&lt;p&gt;리액트를 공부하자는 글이 아니기 때문에 간단히만 알고 넘어가자&lt;/p&gt;
&lt;p&gt;npx는 npm 사용시에 발생하는 발생할 수 있는 여러 문제점을 해결하기 위해 설계되었다고한다.
진행하는 과정에서 npx를 사용할 것이기 때문에 npx도 설치하고 넘어가자.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;&lt;span class=&quot;token function&quot;&gt;npm&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; npx &lt;span class=&quot;token parameter variable&quot;&gt;-g&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/8db07d2cda121d084fdfc6db4439bb71/b06e5/ff1c3736.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 6.470588235294117%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAABCAYAAADeko4lAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAKklEQVR42mMQl5b8Ly4h9p+Nle0/AwMDyZiRiek/Fx/ffy4env/sXFz/ATymFPbdvEBAAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;ff1c3736&apos; title=&apos;&apos; src=&apos;/static/8db07d2cda121d084fdfc6db4439bb71/ca1dc/ff1c3736.png&apos; srcset=&apos;/static/8db07d2cda121d084fdfc6db4439bb71/e7570/ff1c3736.png 170w,
/static/8db07d2cda121d084fdfc6db4439bb71/f46e7/ff1c3736.png 340w,
/static/8db07d2cda121d084fdfc6db4439bb71/ca1dc/ff1c3736.png 680w,
/static/8db07d2cda121d084fdfc6db4439bb71/02d09/ff1c3736.png 1020w,
/static/8db07d2cda121d084fdfc6db4439bb71/9d567/ff1c3736.png 1360w,
/static/8db07d2cda121d084fdfc6db4439bb71/b06e5/ff1c3736.png 1928w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;npx -v&lt;/code&gt; 명령어를 통해 잘 설치되었는지 확인해본다.&lt;/p&gt;
&lt;h3&gt;gatsby-cli 설치하기&lt;/h3&gt;
&lt;p&gt;gatsby 명령어를 사용하기 위해 gatsby-cli를 설치한다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;&lt;span class=&quot;token function&quot;&gt;npm&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; &lt;span class=&quot;token parameter variable&quot;&gt;-g&lt;/span&gt; gatsby-cli&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/84ae3d9eb6ca065dde7c9f606b236fe3/a75c2/6494ac93.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 8.235294117647058%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAAAsTAAALEwEAmpwYAAAARUlEQVR42pXMwQkAIQwAwQSUECEnoqBC+m9zrwYf8x2599J7x8yoteLulFIQkScxBt+cyFqLzGTvTURwzqG19hyKKqrKD1iIKmY8cF6nAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;6494ac93&apos; title=&apos;&apos; src=&apos;/static/84ae3d9eb6ca065dde7c9f606b236fe3/ca1dc/6494ac93.png&apos; srcset=&apos;/static/84ae3d9eb6ca065dde7c9f606b236fe3/e7570/6494ac93.png 170w,
/static/84ae3d9eb6ca065dde7c9f606b236fe3/f46e7/6494ac93.png 340w,
/static/84ae3d9eb6ca065dde7c9f606b236fe3/ca1dc/6494ac93.png 680w,
/static/84ae3d9eb6ca065dde7c9f606b236fe3/02d09/6494ac93.png 1020w,
/static/84ae3d9eb6ca065dde7c9f606b236fe3/9d567/6494ac93.png 1360w,
/static/84ae3d9eb6ca065dde7c9f606b236fe3/a75c2/6494ac93.png 1938w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;gatsby -v&lt;/code&gt; 명령어를 통해 잘 설치되었는지 확인해본다.&lt;/p&gt;
&lt;h3&gt;Gatsby 사이트 생성&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;여기서부터는 &lt;a href=&quot;https://hoodie.gatsbyjs.io/quick-start-kr/&quot;&gt;Hudi의 Gatsby 환경 구성하기&lt;/a&gt;를 따라가는 내용입니다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;환경은 Pium의 프로젝트 환경에 맞게 진행됩니다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;gatsby를 이용하여 새로운 사이트를 생성한다.
이때 &lt;code class=&quot;language-text&quot;&gt;gatsby-starter-hoodie&lt;/code&gt;를 참고하여 구성한다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;node&quot;&gt;&lt;pre class=&quot;language-node&quot;&gt;&lt;code class=&quot;language-node&quot;&gt;npx gatsby new pium-official.github.io https://github.com/devHudi/gatsby-starter-hoodie&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;프로젝트 시작해보기&lt;/h3&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;cd&lt;/span&gt; pium-official.github.io

&lt;span class=&quot;token function&quot;&gt;npm&lt;/span&gt; run start&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/f8aaf9178a3da884c1aeadbbdb37c2d8/8c935/19f5a8e2.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 6.470588235294117%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAABCAYAAADeko4lAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAT0lEQVR42h3FQQqAIBRAwR+1MQQXEZmJYlgpQbjq/jd7QbMZMVvC7Ddjbuj6okPC1YY7H/wVcGmi1MKRM9ZalFKICNJ1//0wMHvPEiNrjHwQoRmHESzbLAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;19f5a8e2&apos; title=&apos;&apos; src=&apos;/static/f8aaf9178a3da884c1aeadbbdb37c2d8/ca1dc/19f5a8e2.png&apos; srcset=&apos;/static/f8aaf9178a3da884c1aeadbbdb37c2d8/e7570/19f5a8e2.png 170w,
/static/f8aaf9178a3da884c1aeadbbdb37c2d8/f46e7/19f5a8e2.png 340w,
/static/f8aaf9178a3da884c1aeadbbdb37c2d8/ca1dc/19f5a8e2.png 680w,
/static/f8aaf9178a3da884c1aeadbbdb37c2d8/02d09/19f5a8e2.png 1020w,
/static/f8aaf9178a3da884c1aeadbbdb37c2d8/9d567/19f5a8e2.png 1360w,
/static/f8aaf9178a3da884c1aeadbbdb37c2d8/8c935/19f5a8e2.png 1940w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;localhost:8000&lt;/code&gt;으로 프로젝트가 열리는 모습을 볼 수 있다.&lt;/p&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/3a3e39f1ad96077a4fb4941bbdb6c9bf/ee57e/7810b698.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 57.05882352941176%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABZUlEQVR42n1S7XKCMBDkCTq2QhJMQAiED9HO1IpMa/un7/9O27sg1aLtj52By93e3t4Fbdsiz3PEcYzVauVhjIbWGlJK/8/f09scXLder5FlmUcghPCF/DBhsXhEGEYoy9IXCRFBKfUL1/nX8WDqMimMogiZW0KnIYbhDfvXA7a7HZxzKIrCN2FFc9IJwTzAiYunB4RiSVYU2HRbtJvuZswfzBTfEGq9QmIMjDa+WApJEBeP4zPOxOyvofy7hFLGcHmMz6HFy/6Avu9R17W3gX2+xuiZpEXksGTFpDKYj5skBl23Qd00qIiMUbJ/5F1VVd7L8gyegv3k3EllMPeDHxwVNk07EhUlLcL5ZThXeWKOZ3Rqimr4VLa7ZxKSjlv+7aEibzSsLT2BUjGdT3gz7mVkEpAkSEnlXQ+5o9EKNtNI0/FYrbVe9d2jJqj/tixoKZWV+Do1OA7vOB57nE4fnnR+/H/hG05yJPI5xu6PAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;7810b698&apos; title=&apos;&apos; src=&apos;/static/3a3e39f1ad96077a4fb4941bbdb6c9bf/ca1dc/7810b698.png&apos; srcset=&apos;/static/3a3e39f1ad96077a4fb4941bbdb6c9bf/e7570/7810b698.png 170w,
/static/3a3e39f1ad96077a4fb4941bbdb6c9bf/f46e7/7810b698.png 340w,
/static/3a3e39f1ad96077a4fb4941bbdb6c9bf/ca1dc/7810b698.png 680w,
/static/3a3e39f1ad96077a4fb4941bbdb6c9bf/02d09/7810b698.png 1020w,
/static/3a3e39f1ad96077a4fb4941bbdb6c9bf/9d567/7810b698.png 1360w,
/static/3a3e39f1ad96077a4fb4941bbdb6c9bf/ee57e/7810b698.png 2576w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h3&gt;블로그 커스텀하기&lt;/h3&gt;
&lt;p&gt;해당 부분은 원작자의 &lt;a href=&quot;https://hoodie.gatsbyjs.io/quick-start-kr/&quot;&gt;🚀 2.빠르게 시작하기&lt;/a&gt;를 참고하여 진행하면 된다.&lt;/p&gt;
&lt;h3&gt;GitHub Pages로 배포하기&lt;/h3&gt;
&lt;p&gt;이제 배포할 페이지를 다 만들었다!
GitHub Pages를 이용해 배포를 진행해보자.&lt;/p&gt;
&lt;p&gt;우선 GitHub Repository를 생성한다.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;pium-official Organization에서 &lt;code class=&quot;language-text&quot;&gt;pium-official.github.io&lt;/code&gt; 레포지토리를 생성했다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/1c0299f5df6017963eedb169a138c357/100fa/b084df05.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 24.705882352941178%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA9UlEQVR42lWQy1KEMBBFwwBDQQIhIS9e4oiWzsqaKlf+hP//NddOkIWLU307/chN2OBX+PmGTgfkV4FLyVM89UleCtRC49r0YHmNrGiQXYisQUG1ouqwPb+ByWGEVB7TtGEcn9APAVJ7KDsj1lqqmXGDdiscXdyqAN4ZVFxBzB79PoN7i6pRKGsJJnqfhpRdYaYdyt8gzZIcx/MYw7In1pePQ687BNWW7zvef74QHq9oJfWSARaHRO/gqNFunzDbA2a5Ywjkllxqdyzn0iZibyTOcWHR1AaiPfIIO4UcCO3QKUu4tKTTY3r2of+T3NP3JP7yuPAXzSF58+oDL98AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;b084df05&apos; title=&apos;&apos; src=&apos;/static/1c0299f5df6017963eedb169a138c357/ca1dc/b084df05.png&apos; srcset=&apos;/static/1c0299f5df6017963eedb169a138c357/e7570/b084df05.png 170w,
/static/1c0299f5df6017963eedb169a138c357/f46e7/b084df05.png 340w,
/static/1c0299f5df6017963eedb169a138c357/ca1dc/b084df05.png 680w,
/static/1c0299f5df6017963eedb169a138c357/02d09/b084df05.png 1020w,
/static/1c0299f5df6017963eedb169a138c357/9d567/b084df05.png 1360w,
/static/1c0299f5df6017963eedb169a138c357/100fa/b084df05.png 2836w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;&lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; remote &lt;span class=&quot;token function&quot;&gt;add&lt;/span&gt; origin https://github.com/pium-official/pium-official.github.io&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;node&quot;&gt;&lt;pre class=&quot;language-node&quot;&gt;&lt;code class=&quot;language-node&quot;&gt;npm run deploy-gh&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;위 명령어를 수행하면 팀 레포지토리에 gh-pages 브랜치가 생성되고 build된 결과물이 올라온다. 해당 파일을 기준으로 GitHub Pages에서 배포를 진행한다.&lt;/p&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/4ff57d82ac33909a4f4b745b50920314/893ad/3db58ec3.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 52.352941176470594%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAABuElEQVR42lWS2XLbMAxF1WZpHC+yJO4SSe1u7GTcp/ah//9dtwAaT+sHDDggcXABsNgdFLRLeN6U2OxqlLUT//htj6eXAx7I85nvX7aV2PNriS+PrygeNuK/Pm3FW59Q2BDR9QvZijy9wYQeZeNwVAGVbunsxQ5UyLYDQpoR2hnKJNQmQvlM7zrJ25YaRWU6JAJ1wwk+TvKIVe6OmsyIMcyEDN9N8HmG/7Ui/Fhhw4DaRinckGcrOHi5/sSwfpDCM/rlgjieocMI7XtwwcZl5OUdeb4grxeMv68IHydSuwiQ7ahaKmxRNC5Kq64bRTZDXKS28kqKR6huEWWsguGc7PyERiXKmUTVvrLSBfuCH/ZUmWHcHs9B01xCXmQEKtI40kpjsNhRwp68TwSiRfI9AzmPYQLk4afxTR5IJTI+G1oAg2tS42gJR1rUnlSwEo6zWkWjqD8V3gEjLYSV3mQrAtrPEdSelkBzZuDhPyAX5Z9R6XCvkEHz96tAbkEGtf1JvohOZ6R8IqAVhfwDHLdK6lSY0VAHdwoZOKzvArwp1AS07SSxyg0w/u/f5Hv2sgwCetpyZf4the0P+g7+yRmHZbcAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;3db58ec3&apos; title=&apos;&apos; src=&apos;/static/4ff57d82ac33909a4f4b745b50920314/ca1dc/3db58ec3.png&apos; srcset=&apos;/static/4ff57d82ac33909a4f4b745b50920314/e7570/3db58ec3.png 170w,
/static/4ff57d82ac33909a4f4b745b50920314/f46e7/3db58ec3.png 340w,
/static/4ff57d82ac33909a4f4b745b50920314/ca1dc/3db58ec3.png 680w,
/static/4ff57d82ac33909a4f4b745b50920314/02d09/3db58ec3.png 1020w,
/static/4ff57d82ac33909a4f4b745b50920314/9d567/3db58ec3.png 1360w,
/static/4ff57d82ac33909a4f4b745b50920314/893ad/3db58ec3.png 2826w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;GitHub Pages에서 배포 기준으로 잡는 브랜치를 확인 &amp;#x26; 변경하고 싶다면 Settings - Pages 에서 다음 항목을 확인하면 된다.
&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/18b74e74f5e47aade85df87810ea9317/17112/b9a5c99c.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 52.352941176470594%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAABnklEQVR42nVS2XLiQBDjIZvsBnx7Do8xY3vsACFUjv//N0U9BopUZR9U4zlaUre8Wqc1stLiOamQ5AbrTGGTa+RVQzg8p9xn+naeFQZKb/HwlOLh74I/Fzz+S7EqeGnaAQkfpiROWGS3I8LhHX48UExHwbyyyGqHUqAccq7X90lpLrAkVC2cn+F2EyrT0Y1Crj3a8I5h/wEXPuK3G89RyBCyyns/vcaaSExDglVBpeHlDbtwRMY2pW1ZlQuo3ITMTChNT/U2tiyONhdXbjdHgR+EJRW6YX872BQamiPY8qwb96hth3WulnspvKJY5i241kZCsdxxVtcZbmqNnvvT2xcCW5IA0rRCRtJcwhJQNL0j+UloPQ4sjsGQUB5O/YTz+QvzdMTL/IpAp72f0G0HODfA6B6qlG5+I2wGNAyl0C2k/VI79Cw8nj7p/Iyw/8Q0n6B5V7CgoGhFspoufyUs2ZJnIJKadn0cuCJ55zx2JG6bHpVenPlugLUjajMgN4GzHpcg7wkLtRBKMPILyW9TNx6ermwX6MLewdyQ/GeG3zRg/U1uV8ZCAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;b9a5c99c&apos; title=&apos;&apos; src=&apos;/static/18b74e74f5e47aade85df87810ea9317/ca1dc/b9a5c99c.png&apos; srcset=&apos;/static/18b74e74f5e47aade85df87810ea9317/e7570/b9a5c99c.png 170w,
/static/18b74e74f5e47aade85df87810ea9317/f46e7/b9a5c99c.png 340w,
/static/18b74e74f5e47aade85df87810ea9317/ca1dc/b9a5c99c.png 680w,
/static/18b74e74f5e47aade85df87810ea9317/02d09/b9a5c99c.png 1020w,
/static/18b74e74f5e47aade85df87810ea9317/9d567/b9a5c99c.png 1360w,
/static/18b74e74f5e47aade85df87810ea9317/17112/b9a5c99c.png 2854w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/69fbabab3e1202e22cc8388012035d74/100fa/1877666d.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 24.705882352941178%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA90lEQVR42m1PXXOCQAykiiICcnzeHXDIV0Vtp7VP/f+/bJtk6kwf+rCTSTbZ3XiqsNDtiCitkOYGpXYI4xybbYjtLsLmF/4+lnkYF9gdTnjxjwTmYvhBIrDtAI9FYlUjOlUoTA9VNjBUTTMiq1okSiPJNE609wSHCI4KBzHIpQZRhn2Ywrs/vtHPqxwPr28wbkLjZlzuX9DdRAYk+kfsiZRE87pDZc8odI+UgijS8Gy/wHQjkU6WOE1N/XJ7kNENzNfthJIOSzsIKgZ9oLtZOK7GLTLz3LiiG1Y5YDF+MbMtxss7lusn5usHLCVm9yQz/0CLAafl/gcTmX0AJRGr7wAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;1877666d&apos; title=&apos;&apos; src=&apos;/static/69fbabab3e1202e22cc8388012035d74/ca1dc/1877666d.png&apos; srcset=&apos;/static/69fbabab3e1202e22cc8388012035d74/e7570/1877666d.png 170w,
/static/69fbabab3e1202e22cc8388012035d74/f46e7/1877666d.png 340w,
/static/69fbabab3e1202e22cc8388012035d74/ca1dc/1877666d.png 680w,
/static/69fbabab3e1202e22cc8388012035d74/02d09/1877666d.png 1020w,
/static/69fbabab3e1202e22cc8388012035d74/9d567/1877666d.png 1360w,
/static/69fbabab3e1202e22cc8388012035d74/100fa/1877666d.png 2836w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;GitHub Actions 탭에서 &lt;code class=&quot;language-text&quot;&gt;pages build and deployment&lt;/code&gt; 작업이 완료된것을 확인하고 &lt;a href=&quot;https://pium-official.github.io/&quot;&gt;https://pium-official.github.io/&lt;/a&gt; 로 접속해보면 페이지가 성공적으로 배포된것을 확인할 수 있다!!&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;https:://{팀 레포명}.github.io&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/0787e9418eadd11cad330b5f5be63289/f8159/f35d015e.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 55.294117647058826%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABVElEQVR42o1TS07DQAydI4CaftJJ0vyThkqE/AiqugSOAhyEJQfgGOVmLNghPewpU4WhRCyeLHmc5+dnR5Rlic1mg+VyCdu2FSzLwmKxUOC8hn4fgvNJkiAiBEEAMZvNwNAF8/kcddvAD3w40jnmmPwUoX7XNUJ3l1Li7Pwc97d3eP/8wPPrC9q6RZplpCBFTAocxxklZoihdB61qirs9294eHqE662IxP2Gc3Jss4Ew/ZhOp7AmExU5Jw0PTU+l/NlImF7EcYS+v8F2u0XXdWgJfd9jt9uhKArVSC+MEZMdruselQpTvu/7uKTNr9dr5V2e58gIRXGhYhTFSNMUYRhRvX0g9LwRQlp903aom+aIqm5UjmN5VeGaJuCmh5Hl3yMzoUfdclKXqe0mSrHybPDh2F3+IuRt8qirlafuU9/XEP86G3M5HFmtBv8FYRiqBYwRfgGuPS4RvQQaUgAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;f35d015e&apos; title=&apos;&apos; src=&apos;/static/0787e9418eadd11cad330b5f5be63289/ca1dc/f35d015e.png&apos; srcset=&apos;/static/0787e9418eadd11cad330b5f5be63289/e7570/f35d015e.png 170w,
/static/0787e9418eadd11cad330b5f5be63289/f46e7/f35d015e.png 340w,
/static/0787e9418eadd11cad330b5f5be63289/ca1dc/f35d015e.png 680w,
/static/0787e9418eadd11cad330b5f5be63289/02d09/f35d015e.png 1020w,
/static/0787e9418eadd11cad330b5f5be63289/9d567/f35d015e.png 1360w,
/static/0787e9418eadd11cad330b5f5be63289/f8159/f35d015e.png 2634w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h3&gt;글 작성하기&lt;/h3&gt;
&lt;p&gt;해당 템플릿에 글을 작성하는 방식은 원작자의 &lt;a href=&quot;https://hoodie.gatsbyjs.io/writing-guide-kr/&quot;&gt;🤔 3. 작성 가이드&lt;/a&gt;를 참고하면 된다.&lt;/p&gt;
&lt;h3&gt;GitHub Actions workflow&lt;/h3&gt;
&lt;p&gt;현재까지 진행한 작업으로는 다음과 같은 흐름으로 배포를 진행할 수 있다.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;로컬에서 글을 작성한다.&lt;/li&gt;
&lt;li&gt;글을 작성한 뒤 &lt;code class=&quot;language-text&quot;&gt;npm run deploy-gh&lt;/code&gt; 명령어를 수행해서 배포를 진행한다.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;위 방식은 혼자서 작업할 때는 문제가 없으나 여러명이 함께 글을 작성하기에는 많이 번거롭다.&lt;/p&gt;
&lt;p&gt;우리는 다음과 같은 방식으로 배포를 하는 방향을 기대하고 있다.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;로컬에서 글을 작성한다.&lt;/li&gt;
&lt;li&gt;글을 작성한 뒤 main 브랜치로 push한다.&lt;/li&gt;
&lt;li&gt;main 브랜치에 작업내용이 push 되었을 때 빌드 및 배포가 자동적으로 이뤄진다.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;위에서 3번 작업내용을 수행하기 위해 GitHub Actions의 workflow 기능을 이용할 수 있다.&lt;/p&gt;
&lt;h3&gt;workflow 작성하기&lt;/h3&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;gatsby-starter-hoodie&lt;/code&gt;에서 기본적으로 제공하고 있는 workflow는 다음과 같이 구성되어있다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yml&quot;&gt;&lt;pre class=&quot;language-yml&quot;&gt;&lt;code class=&quot;language-yml&quot;&gt;&lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; CI

&lt;span class=&quot;token key atrule&quot;&gt;on&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;pull_request&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;branches&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; main

&lt;span class=&quot;token key atrule&quot;&gt;jobs&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;build&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;runs-on&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; ubuntu&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;latest
    &lt;span class=&quot;token key atrule&quot;&gt;steps&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;uses&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; actions/checkout@v2
      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;uses&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; actions/setup&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;node@v2
        &lt;span class=&quot;token key atrule&quot;&gt;with&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
          &lt;span class=&quot;token key atrule&quot;&gt;node-version&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 20.3.1

      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Install node packages
        &lt;span class=&quot;token key atrule&quot;&gt;run&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; yarn
        
      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Check lint
        &lt;span class=&quot;token key atrule&quot;&gt;run&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; yarn check&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;lint
        
      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Check prettier
        &lt;span class=&quot;token key atrule&quot;&gt;run&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; yarn check&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;prettier
      
      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Build
        &lt;span class=&quot;token key atrule&quot;&gt;run&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; yarn build&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;자세한 구문에 대한 설명 및 내용은 &lt;a href=&quot;https://docs.github.com/ko/actions/using-workflows/workflow-syntax-for-github-actions&quot;&gt;공식문서&lt;/a&gt;를 참고해보면 좋다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;기존에 존재하는 ci.yml 파일은 삭제하고 아래와 같은 deploy.yml을 작성해보자.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;workflow에 대한 yml파일의 경로는 반드시 &lt;code class=&quot;language-text&quot;&gt;.github/workflows&lt;/code&gt; 폴더 내부에 존재해야한다.
&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/cef42a7b411892b239eec92aa35a064b/26530/d9fc2f50.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 10%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAhUlEQVR42h2MWQ6CQBQEuYEzw4cGhmUAiSyCBBBxIdH736l84aOS6nSnPRVUaNuhbItxCzq6oeMBk86oqEMfnXRX2QinHBU2suk5BDVHW9D0M2UzcK564uyCp5MRP3/LwYSfrbvvFBsme+Lbaj836V28xiSTMKIlh65m/fxYXl/Gx4YrW/5DFDhxP4DLxgAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;d9fc2f50&apos; title=&apos;&apos; src=&apos;/static/cef42a7b411892b239eec92aa35a064b/ca1dc/d9fc2f50.png&apos; srcset=&apos;/static/cef42a7b411892b239eec92aa35a064b/e7570/d9fc2f50.png 170w,
/static/cef42a7b411892b239eec92aa35a064b/f46e7/d9fc2f50.png 340w,
/static/cef42a7b411892b239eec92aa35a064b/ca1dc/d9fc2f50.png 680w,
/static/cef42a7b411892b239eec92aa35a064b/26530/d9fc2f50.png 944w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yml&quot;&gt;&lt;pre class=&quot;language-yml&quot;&gt;&lt;code class=&quot;language-yml&quot;&gt;&lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Deploy

&lt;span class=&quot;token key atrule&quot;&gt;on&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;# 어떤 작업이 수행될 때 deploy.yml 작업이 수행된다. (트리거)&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;# push 작업이 수행될 때&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;branches&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;# 특정 브랜치를 대상으로&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; main

&lt;span class=&quot;token key atrule&quot;&gt;permissions&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;# github action이 수행되는 환경에서 특정 권한을 준다&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;contents&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; write

&lt;span class=&quot;token key atrule&quot;&gt;jobs&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;build&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;runs-on&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; ubuntu&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;latest
    &lt;span class=&quot;token key atrule&quot;&gt;steps&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;uses&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; actions/checkout@v2
      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;uses&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; actions/setup&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;node@v2
        &lt;span class=&quot;token key atrule&quot;&gt;with&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
          &lt;span class=&quot;token key atrule&quot;&gt;node-version&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 20.3.1

      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Install node packages
        &lt;span class=&quot;token key atrule&quot;&gt;run&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; yarn

      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Build
        &lt;span class=&quot;token key atrule&quot;&gt;run&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; yarn build

      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Deploy 🚀
        &lt;span class=&quot;token key atrule&quot;&gt;uses&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; JamesIves/github&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;pages&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;deploy&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;action@v4
        &lt;span class=&quot;token key atrule&quot;&gt;with&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
          &lt;span class=&quot;token key atrule&quot;&gt;folder&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; public&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;JamesIves/github-pages-deploy-action@v4&lt;/code&gt; 작업에서 수행하는 내용 중 쓰기권한을 요구하는 작업이 있기 때문에 permissions 설정을 해야한다.
&lt;a href=&quot;https://github.com/JamesIves/github-pages-deploy-action/issues/1110&quot;&gt;관련 이슈 - Failed with exit code 128, Permission Denied&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;위 deploy.yml 파일을 작성했다면 프로젝트 내부에서 변경사항에 대한 commit을 수행하고 git push를 해본다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;&lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; branch &lt;span class=&quot;token parameter variable&quot;&gt;-m&lt;/span&gt; main

&lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; push origin main&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/f79aa88d3917ca03004874f6ba038c6e/48458/0491f96f.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 31.176470588235293%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsTAAALEwEAmpwYAAABLklEQVR42j2Q23qCMBCEaatW5Qw5kBAEQVTUr970/V9tOklrL/5vA9nMzk4UZwKyOWCf1ohziUq0SFlXmwTrbYYPVs/qM8U2qbCNS2x2Od5We7z/4e/e2WPbAZEXy2uDpFAw3QShO7TuiHG+Q5g+3OVV809GSmGxo3icSaSFxp6m/LA1B0Xnxzf604JCWrhhhuKUuunRTTfI9sj/DilFM4p48leVLWoOF+z1tVIuELnhgn5aoPk4qzRiOrVtj8ftC/N0Re9GHOjY0W3LbV74b2WPAe0mMgbxyKt7/Gq/ghrGWMzXB3nivDxhGUXhVy91ICsbqFLxrJAyAmkGlHTs44jM4YTDeA0ZpmxO2GwpuFzuOM83TOMFmnEorikqBUFhITs0PBchUxOyLrmuN/UDV5KXOKv+BzIAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;0491f96f&apos; title=&apos;&apos; src=&apos;/static/f79aa88d3917ca03004874f6ba038c6e/ca1dc/0491f96f.png&apos; srcset=&apos;/static/f79aa88d3917ca03004874f6ba038c6e/e7570/0491f96f.png 170w,
/static/f79aa88d3917ca03004874f6ba038c6e/f46e7/0491f96f.png 340w,
/static/f79aa88d3917ca03004874f6ba038c6e/ca1dc/0491f96f.png 680w,
/static/f79aa88d3917ca03004874f6ba038c6e/02d09/0491f96f.png 1020w,
/static/f79aa88d3917ca03004874f6ba038c6e/9d567/0491f96f.png 1360w,
/static/f79aa88d3917ca03004874f6ba038c6e/48458/0491f96f.png 2842w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;위 내용을 대략적으로 설명해보자면 다음과 같다.&lt;/p&gt;
&lt;p&gt;main 브랜치에 대한 코드를 build해보고 성공한다면 결과물을 gh-pages 브랜치로 배포한다.&lt;/p&gt;
&lt;p&gt;이제 글을 작성하고 main 브랜치로 push하기만 하면 배포까지 자동으로 수행된다.
로컬에서 &lt;code class=&quot;language-text&quot;&gt;npm run deploy-gh&lt;/code&gt;는 더이상 사용할 필요가 없다.&lt;/p&gt;
&lt;h2&gt;결론&lt;/h2&gt;
&lt;p&gt;블로그를 생성하고 배포하고 자동화하는 과정까지 차근차근 진행해봤다.&lt;/p&gt;
&lt;p&gt;여러버 삽질을 거친 끝에 완성했기 때문에 더 애정이 많이 가는 것 같다. 👍&lt;/p&gt;
&lt;h2&gt;Reference&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://hoodie.gatsbyjs.io/&quot;&gt;https://hoodie.gatsbyjs.io/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://docs.github.com/ko/actions/using-workflows/workflow-syntax-for-github-actions&quot;&gt;https://docs.github.com/ko/actions/using-workflows/workflow-syntax-for-github-actions&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://studium-anywhere.tistory.com/21&quot;&gt;https://studium-anywhere.tistory.com/21&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[구글 스프린트 기반 아이디어 도출]]></title><description><![CDATA[…]]></description><link>https://pium-official.github.io/sprint-idea/</link><guid isPermaLink="false">https://pium-official.github.io/sprint-idea/</guid><pubDate>Sat, 08 Jul 2023 00:00:00 GMT</pubDate><content:encoded>&lt;blockquote&gt;
&lt;p&gt;이 글은 우테코 피움팀 크루 &apos;&lt;a href=&quot;https://github.com/Choi-JJunho&quot;&gt;주노&lt;/a&gt;&apos;가 작성했습니다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;서론&lt;/h2&gt;
&lt;p&gt;기획부터 개발까지 하나의 프로그램이 생성되는 모든 프로세스를 경험할 수 있는 시간을 가졌다.&lt;/p&gt;
&lt;p&gt;피움팀에서 어떤 방식을 통해 아이디어와 기능을 도출해나갔는지 기록해두고자 한다.&lt;/p&gt;
&lt;h2&gt;스프린트란?&lt;/h2&gt;
&lt;p&gt;스프린트는 팀이 일정량의 작업을 완료하는 시간이 정해진 짧은 기간을 의미한다.&lt;/p&gt;
&lt;p&gt;여기서는 기획부터 데모수준의 프로그램이 나오는 단계까지를 하나의 스프린트라고 생각해볼 수 있겠다.&lt;/p&gt;
&lt;p&gt;피움 팀은 구글 스프린트의 방법론을 차용해서 기능을 도출했다.&lt;/p&gt;
&lt;h3&gt;구글 스프린트&lt;/h3&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/42a9ee4a83f74684b69e8c94baa4b74d/8b93e/googlesprint.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 35.29411764705882%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsTAAALEwEAmpwYAAABm0lEQVR42k2RW2/aQBCF/QfbtK/J32j7xGNbVe17r/+gIQluikUS1TIQSI3VgAlyuDgXsDB3ElwCNDT6uruSpT6M5syZ1ZnZM1p0O+H/mIz6/J5NFZ7djBW+nY5Ujut5dKP6Msd83NPuV3es/yx4WK8UkTG+0+sGXPoNjvMWq+UcyzyikM/SDwOFx2LoL8dmNOixXET8Xd8DDyzmEVrl1MH+WVAPzr0zTopFqq5LvV6nVqsJ0Twl2yYMQ9XzfR9dT2GaJjvJJIXjHKndJJ8+vOf6ykd7/eolT59ssPH4Ee/eviFrWaTTaTzPE4NsDMNQwlubm0JIp91ukxdDikI8kUiQ3P7Kl88fefH8GV7NRZN/Hw97TERMJwMq5VMuxBZBp4PrVsjlspRKNocHGfxWE7dSZjjo02o2cJwSF4KTlknrFvMZmjRWguVdpIze1/f4cXQg1m/xLbWLY59wVi0rzqtVSe/rgisKj5vs7WwrHB9RhiaLmJDCOcvkMGMwHQ+UJ71uR/W6wbU4Qkiz4dFqnDPsdwnalypiDXnlfxc+6LuacqBiAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;googlesprint&apos; title=&apos;&apos; src=&apos;/static/42a9ee4a83f74684b69e8c94baa4b74d/ca1dc/googlesprint.png&apos; srcset=&apos;/static/42a9ee4a83f74684b69e8c94baa4b74d/e7570/googlesprint.png 170w,
/static/42a9ee4a83f74684b69e8c94baa4b74d/f46e7/googlesprint.png 340w,
/static/42a9ee4a83f74684b69e8c94baa4b74d/ca1dc/googlesprint.png 680w,
/static/42a9ee4a83f74684b69e8c94baa4b74d/02d09/googlesprint.png 1020w,
/static/42a9ee4a83f74684b69e8c94baa4b74d/9d567/googlesprint.png 1360w,
/static/42a9ee4a83f74684b69e8c94baa4b74d/8b93e/googlesprint.png 2662w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;5일간 결과물을 도출하는 방법론으로 다음과 같은 17단계로 이어진다.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;현재 상황에 대한 구성원들의 생각과 문제 상황 공유&lt;/li&gt;
&lt;li&gt;스프린트를 통해 해결하고자 하는 목표 설정&lt;/li&gt;
&lt;li&gt;스프린트 질문 도출&lt;/li&gt;
&lt;li&gt;이해관계자의 구매 여정 Map 작성&lt;/li&gt;
&lt;li&gt;전문가 조언&lt;/li&gt;
&lt;li&gt;HMW(어떻게 하면 ~할 수 있을까) 작성 및 선정&lt;/li&gt;
&lt;li&gt;스프린트 기간에 주력하고자 하는 1순위 타깃과 질문 선정&lt;/li&gt;
&lt;li&gt;번갯불 대화 및 솔루션 스케치&lt;/li&gt;
&lt;li&gt;고객 선정을 위한 설문지 작성&lt;/li&gt;
&lt;li&gt;프로토타입 제작을 위한 최종 솔루션 선정&lt;/li&gt;
&lt;li&gt;프로토타입 제작을 위한 스토리보드 만들기&lt;/li&gt;
&lt;li&gt;프로토타입 제작&lt;/li&gt;
&lt;li&gt;프로토타입 완성 및 시연&lt;/li&gt;
&lt;li&gt;고객 인터뷰용 질문 만들기 (인터뷰 담당자)&lt;/li&gt;
&lt;li&gt;타깃 고객 인터뷰 및 학습&lt;/li&gt;
&lt;li&gt;스프린트 이후의 개발 플랜 점검 및 향후 일정 논의&lt;/li&gt;
&lt;li&gt;성찰&lt;/li&gt;
&lt;/ol&gt;
&lt;h3&gt;Figma - Figjam&lt;/h3&gt;
&lt;p&gt;오프라인 환경에서 종이, 캔버스, 포스트잇을 이용해서 각자의 의견을 종합해볼 수도 있지만 시간, 공간적 제약이 있을 때는 Figma를 사용해볼 수도 있다.&lt;/p&gt;
&lt;p&gt;디자인 툴인 Figma에는 Figjam이라는 기능을 제공한다.&lt;/p&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/220b3658614f0cbf96a85c33b623f225/eeb59/figjam.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 49.411764705882355%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAABAElEQVR42oVSy27CMBD0z/MFPfUD+IfeekO9tQdoK4QQCBTUkIRYjY1f6yGQJk3JUmxZ1nrHs7Nji+3U4qgNKBK4EWOE8w7eBSbX7HlusF8RfHAQWbpHWUiQv0A6knZ1l3/mdbE+LoQA8TR5xi7JYCpeYUvXVzTIUk1KTQExGj9g9vEJb/4j/FXEnfVViugDjPawKtwl+GNB5O0R1As4EOvnjfyl5ZvenA9bIPHEnHrBgZo4do9xz9eBwutxNBp5KlGsSmzevpEs1vhKZlinFXSl6v/m4ZzjFVprcV4tgOr2HGksXjQmjwHv8w1ep0sst3MkWQlXY5VSkFIOyA5FjhMwZxKE5M8u3wAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;figjam&apos; title=&apos;&apos; src=&apos;/static/220b3658614f0cbf96a85c33b623f225/ca1dc/figjam.png&apos; srcset=&apos;/static/220b3658614f0cbf96a85c33b623f225/e7570/figjam.png 170w,
/static/220b3658614f0cbf96a85c33b623f225/f46e7/figjam.png 340w,
/static/220b3658614f0cbf96a85c33b623f225/ca1dc/figjam.png 680w,
/static/220b3658614f0cbf96a85c33b623f225/02d09/figjam.png 1020w,
/static/220b3658614f0cbf96a85c33b623f225/9d567/figjam.png 1360w,
/static/220b3658614f0cbf96a85c33b623f225/eeb59/figjam.png 1915w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Figjam에서는 포스트잇, 연필그리기, 스티커붙이기, 타이머 등의 기능들을 제공한다.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;개인적으로 타이머 기능을 적극 활용하는 것이 좋다고 생각했다.
위 &lt;a href=&quot;###%EA%B5%AC%EA%B8%80-%EC%8A%A4%ED%94%84%EB%A6%B0%ED%8A%B8&quot;&gt;구글 스프린트&lt;/a&gt;의 &lt;code class=&quot;language-text&quot;&gt;8. 번갯불 대화 및 솔루션 스케치&lt;/code&gt; 항목에서 추구하는 목적이 무엇인지 생각해보면 정해진 시간내로 서로의 의견을 제시하여 회의가 늘어지지 않게 하기 위함임을 알 수 있다.
정해야할 내용이 많은 만큼 시간이 늘어지는 것만큼은 가장 경계해야한다고 생각한다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;서비스 주제&lt;/h2&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/6944fe6d40ce96200429ad63128f9d7c/e96ee/b95b5dfe.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 56.470588235294116%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAACw0lEQVR42jVT/UtTURi++97U6fBjzokrhBIsSy0VMr9Cc+5ud3cf193NpBItl2VFxaBfgiCDatt1ny7DNTUiCiyDUunHiiJ/KSj6b57ee0c/HJ5zDue87/M87/syqrgTWskJfcIDU8oDY9oLU5qDPumGYVleHuilMuqk8p1eonfKPf2R75MyuqElZE4UFtCdvwJmlYN2axKqrSC0bwXoin6onrCoz4vof3kTXRsL6CjNo+/FIszpIDSUUJ3glGAyysFVhMxY8RaCW1E4Pl3HqS9LCOyn4PqRgGr7PAx5Dpa0H0efzynr8NpFtBdnYM2HYC+IsK2E0VwIE0ZQm/WXGaoej8O6zUH8yeL2HzcWf4cR+0vnX0OoeOVDXTaC7o2rOLl5DXU5kaT5UEUMqzMBBS0ZgRgLqEzxZYZ6iYP5NX36zIHfd2Pwqx+j3zgMfneh8k0A1lyImF0gFiIa8pNoyAkUWKB9kFgJaFwRyJYQLFle8ZgYsphYc8K2dwnm3QVY9qKo2Y3C+HEWKpJsy0XQSf7ZC1MkNaLIay5MU2AR9bkwGsnj2qy8n6SAPBjrQxc80z2wPeOh3gnD8F6E7oMI/WYAJolFJVW8jbw7Vir7eHx9DkeKs2gqhEi+FzUZLypSXlRTd6jjsuQED3PcC2MqgMb7Y/D42mF9MA5mWX5AVSYmHaWo4p1hmafPPmoZHyXyK2iiYMaknzxkcaA0AUZH5TZnWTCUqfXOIGa67Gi5Owx1hqdeZMkrAZ3r8+ggdo6n50i2gCaqrr0gVzqi+Nq2PgX3uyBZMwrGturC2e0RCuiDIzYMsceBgfQA+nbGoYl7lFaQl17yQkPNr0mwVE03oVtBNRGyxk7jMpFoXSLJVcSiJTkGJsfjYGwIU30O9D/qR2/pDE2NBwbp/8SUp8VI0yRjBaGG0EqJem+MoCk2gEP3nPgHWWq5267TrOQAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;b95b5dfe&apos; title=&apos;&apos; src=&apos;/static/6944fe6d40ce96200429ad63128f9d7c/ca1dc/b95b5dfe.png&apos; srcset=&apos;/static/6944fe6d40ce96200429ad63128f9d7c/e7570/b95b5dfe.png 170w,
/static/6944fe6d40ce96200429ad63128f9d7c/f46e7/b95b5dfe.png 340w,
/static/6944fe6d40ce96200429ad63128f9d7c/ca1dc/b95b5dfe.png 680w,
/static/6944fe6d40ce96200429ad63128f9d7c/02d09/b95b5dfe.png 1020w,
/static/6944fe6d40ce96200429ad63128f9d7c/9d567/b95b5dfe.png 1360w,
/static/6944fe6d40ce96200429ad63128f9d7c/e96ee/b95b5dfe.png 3200w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;식물을 잘 키울 수 있도록 도와주는 서비스&lt;/code&gt;라는 주제로 팀이 이뤄졌다.&lt;/p&gt;
&lt;p&gt;위 포스터를 확인했을 때 큰 주제로 추상적인 목표들이 즐비해있음을 확인할 수 있다.
주어진 시간이 짧기 때문에 핵심기능을 추려야할 필요가 있다.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;💡 모든 과정을 진행할 때 이야기를 듣는 사람들은 형광펜 혹은 스티커 기능을 이용해 중요하다고 생각하는 부분에 색칠을 하며 듣는다. 형광펜과 스티커를 이용한 호응을 이용해 공통 관심사에 집중할 수 있으며 집중력이 분산되는 것도 예방할 수 있다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;⏰ 모든 과정에는 제한시간이 존재한다.
제한시간을 두고 회의가 루즈해지는 것을 막아야만한다!!&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3&gt;서비스의 목적과 가치&lt;/h3&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/8d5ecc06de673c5ea99b5f3142bd3d10/2ab73/959281a8.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 92.94117647058823%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAYAAACQjC21AAAACXBIWXMAAAsTAAALEwEAmpwYAAAEDElEQVR42oWUaVDUdRjHHadeNE0vmml62fS6XnRYU6kVCBg6wEoeoNONdtg4poNNL7QDaUhYlmN3/wtsXEscoTEhSsi1QEiCyiVHy8a9AiI3csnu/9OzqwxaWL+Z7zz/3/X5Pf/f8zy/dUibvTVNeXUxjS0N1DVUU1lTSv3VWq4011FzsZLi0kKxFfQO2DlXUkCnrc29DVVVudNWLKwbtUFvwzJV+X9R+8sA1p+7KfvJRkVeF1YZqzrTS01Bv/TtNJwfoTy3mz+KhnE0w0Cj6rFuDTbCzW4B5nwIca9AmgYydt7VLkgNULEEQZaMW0SZgTK2zUm2xoklYJlU/3kUbyeJr4PBC3QvQ2G4APP2q8S+AKWmYa42XqahronWa23UJE7RmzCAI62TkQwbA8oE7Sd+Y0gXyWBMLBOGaEo+sKPbCIqPy+NU4TE38IAAX4SylGFaOi7T3NRCu62Vi6ZpehLsODKuMZFrZyhlko6vz+HQHacrKoJRfQQlH9nQbRKgrwBfvQeoFQ8r02/QP9pFX38ffSM9/G6aZCjJgatoHIqnGM9YoPOb89xOi2YuRY8zXceFsK61gKAVD6uNMzg6Rum9cpP+1lFqT81xQ5lhLn+ahfwpBpV5Ok5YWUw2M2fKYsmcRvH73eg2u4HqKjA3DBKkE6OZJCKkn8g9DiJDRMEjKG/dJnmri6StTpL8VJJ83f150YJHio8TgzcYfVgFZu+XDS+B13Ez608H84hlHw9l7+bx1DAit49jegP03qpnozua+n/o38ADLkwbBHhS4eHyHTx6NpT1RYE8lhPK9/6TJB1ykKCvRlEuYfp0FL3cmWHL3QO81wDmiIcmyaGA8DyeMIfxlHKYJ02f8HT8UaJ8Z/nxux7MpaWkl1eR/OV19K8JxOc/gO47jJdFcdudnNIsER24SHTQErptSx5vzCd7sZTVkVlSR0r4EPqN/wPM2S93IXcY/u0SIfljvJd3i72/3uLEERWTHGQMXsT0zgymd2cxBtzG8Cb3wdYEGgR4SDvP9oohgkvG0NTPEi6T+W/30WE5TGfaF9gsn9GUqPNUxUow1gZKHhokKIdjFgmyTrCzeJLg2lmOHYWCvZ2MXfRitt4bV9smrhcdlM0rQPXBQL0Aj2hd7LrkYl8V7Kl3ceyIAENtLF7RoDbtgHZ/hqX6jVtcnvR5IDDvY0lsyfYEjUrMHhfa3S5iQ5aJ9YMzYR3imQ/qn77yxm3mxoWDKH4CFIBRqsPoi0fKVgmsBPDsVwLMDIWoZ+X5kfLTPbcq7fPu6C+QFmgnPchOhqYLs/8g2g1S+/JH9ypW0i7qGXHgcwFezoKKaKhKuCNrvHrnW6w1Vl6hH0Sn5HkTWy7rrDqZj+N+yVo3o6VA5W/OEXP1lJieygAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;959281a8&apos; title=&apos;&apos; src=&apos;/static/8d5ecc06de673c5ea99b5f3142bd3d10/ca1dc/959281a8.png&apos; srcset=&apos;/static/8d5ecc06de673c5ea99b5f3142bd3d10/e7570/959281a8.png 170w,
/static/8d5ecc06de673c5ea99b5f3142bd3d10/f46e7/959281a8.png 340w,
/static/8d5ecc06de673c5ea99b5f3142bd3d10/ca1dc/959281a8.png 680w,
/static/8d5ecc06de673c5ea99b5f3142bd3d10/2ab73/959281a8.png 749w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;서비스의 목적과 가치에 대해 구상한다.&lt;/p&gt;
&lt;p&gt;이 단계에서는 &lt;code class=&quot;language-text&quot;&gt;서비스가 어떤 기능을 제공함으로서 어떤 문제를 해결한다&lt;/code&gt;를 이야기하며 각자가 추상적인 목표를 어떤 방향으로 구체화하고 있는지 공유한다.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;⏰ 제한시간 : 3분&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3&gt;서비스의 대상&lt;/h3&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 482px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/1565d40b7b67d5c466f4c07c539338e6/b58a3/db53c739.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 131.1764705882353%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAaCAYAAAC3g3x9AAAACXBIWXMAAAsTAAALEwEAmpwYAAAFOElEQVR42pWVW3BTRRjH+6D4AD745IyPvjg644M+yICjIIgI40A7IGBx9EUZdHxgcAZ1RAQqAtMKFahAW2hLL9Cm9wulQgu9NwlN0vRqoW3a9JI0TZsmObmdy8/tjbZSZ3RP/mdPdvf88t9vv91EybKM2Wymt7eX9vZ2vF7v7LPFYmFkZITx8XFsNhtdXV3Y7XasVit9fX04HA5miqZpLC1RM4CrycncyMwkOSUFvcFAYmIiR48epbCwkOp71eTn60hNSaW4uJgzZ88SHx+PQYybKYqiLINGzdympqZQRYfk96EIx36fj3AojNPlxCn6gqLNK/oionY6nAwMDCBJ0soOZ24RWaHK0kuxqYt7oq5v72PIPQV+4cDUT9hoQDPZcVvEVANTsy+Oudx024Z5LMJiGLEz6HUvAgPhCL+kl/L1uSN8l3KQ05cvYu0eBaeK+0oT/ed1TCTrsd9owjU+Oftic5ee5LsFVDVayGptpKzfuAgMCmB2WQvJRRUk3M0iN16Hu3EMPGDPaqMxI5/Hac2488ZxT3iYmWRfbzPm+iwa2/SUd1pwT04vcRiKkHnHSEZ5K1mVFk5UlGGy2cElPunt2C/UMVhhxZtXj3G4B58ikfTwT9JNbTRntdCQU8Mjv2O5w6L7ZnTVrRTeN3Gr0kj3sBMcCnKWG++FCZQCEbtC0TapIaPQN9gv4mdnvHWMliYjNu/YIlBWFQKREKFwWMQziCQUVCPIPpmwzU9oVELp9xMZELUUQlNl1EgENRwSaSPGaeqT1Y5aWG5NXIq4/q2o81ocv+RZ0558nwXmDD5gV008Pzbksb3uZ2JqT7Gl5hg1jnb8oQATPVbo7EKy9uHpaMDXWYfS2Y7aYUEbtT+dh8cs13n22gbW6b4n6uYOnsmJISp1PTcHqqkaaaM26Qi3T8aS/useDHGvcCduLaUJ3/Lo+ElI1M+505YAT3cUsCp/Ny9Vfc6LpdGsyd/GCzl7yLDVieQWsU2NoyPtMA3Z5whcPUNf8g/YUo8hJV1ArapZmPciMKmnnOfzP2V1fiyrcrcKvcur2QfJHmwGKYiWnoI3Jw3XzSuQkYp24xpkC5X9hFZ/e1lUZ4GnOnREZX7Amry9PHdrL6vz9rMp9zQF9ofCoUQw7XcBvSj0B0rGJeSMJOTMyyiZCaj3bz8dQ5/sx+ZxMugfxR4cZkiy0+r5C3fEN7u0sieIIrRQqx5JyI/sFmnjDz8N7PRKFOiHqXysUDqkiYVQCatzSaJNi6APnkCzn0UdOoM2fBz/owI83dXihIgTfUL+nvlZqwKohfmm9R4v5z9gS14DG3VtxFQHmAzLc4OcOoJ1bzBSsY6RkvU4yt9CX/QaljuvEzGuRW5eJ86/unmgMuNQpaTHx1e6APsNKnubNT4ToZteALpKkRo3M5izDaNIpborGzCmv01n2iZclw8QaNoE3pYlDkVpMgdIOOcgRoB2N8ChRgEMzQG18WJofQ9n5U6q82KpLXmTFuEyt3gf5uvnwfAJ6nTjcmDRsEJ0k8wXepWDLSrJDeKEDs4DnTPAjdCxj4DhEpLhN2j5kkjtASY7DuGtjxMOa5cDA7KKS5KZCCq4hJwhBVVVljgU07J8hNa2VQAPo5qi0cw7cNeJ1DHtFOdmw3LgikVbAJaA+X2wRgvoDmjbMgcXz6pll/hr+FAAm5cDtRW0AGS8CFn/DkrrdgHaJuDz9awEzLQZbarpfzh03SZo2EnItB/VGvsPiTbLx2ge438Azu9NVewiVeweNTiKElhJI+K3g092yt9qcBfdLjZxHAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;db53c739&apos; title=&apos;&apos; src=&apos;/static/1565d40b7b67d5c466f4c07c539338e6/b58a3/db53c739.png&apos; srcset=&apos;/static/1565d40b7b67d5c466f4c07c539338e6/e7570/db53c739.png 170w,
/static/1565d40b7b67d5c466f4c07c539338e6/f46e7/db53c739.png 340w,
/static/1565d40b7b67d5c466f4c07c539338e6/b58a3/db53c739.png 482w&apos; sizes=&apos;(max-width: 482px) 100vw, 482px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;어떤 사용자가 이 서비스를 사용할 지 떠올리고 각자의 생각을 작성한다.&lt;/p&gt;
&lt;p&gt;이후 각자가 자신의 생각을 이야기하는 시간을 가진다.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;⏰ 제한시간 : 3분&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3&gt;어떻게 하면 ~문제를 해결할 수 있을까?&lt;/h3&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/b0779a001d5012f919647c1262166104/cf75f/1c560fdf.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 64.11764705882354%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAADDklEQVR42m2Ty28bVRTG/Q8Cy+wQyy66QEIgVd0goopVJSqiEkjcxJmHZzwznrE9Ez/jzNhx/IifkGCa0BY1D8evpizIonn8uBnIAokrHX33fOfe7z6Ovgj/jpubmxBHoxGVSpVWq8XwtyHNZkvklTAODvbp9Xph7fLyMlx/e3v7H4zcC94Tk8mEfr9Pr9ul027z+vWrsPbhwxXX19dcXd2EIXbwfyMyn88Zj8eh0HQ6ZTwZc3J6xsnZiLPROcenU+bzKZPpWxHnzKenzO7mE8GNZ8zFvtm5wJP3XMzfEclms6iqSsIwqQQ+frmAYVhsGGVkK8uatSNqNi/MLJKZ4pfcAy52PiJpxTlSB7xcb7GnV/lTOWZ7s3wvGA9F8nmPUl7kCQcz6QnORk7mUARqTgE1mcF3n9IvfkM8oXNgDejoHQpGlmGiSS0tBHO5HHpcxbYsmoMm9ZpPrRbQ/7krBA0cQ6L7Ypna2o/0VyR8VaGV+pzAXsLU1kiZz8N1s/hbRvYfd4J5ouKGsnhyqdLCFXmpVKTu17F0G1vXuZCXeaOsc7G6Rs9cYdxYoO0sceQvcL6zgKmnxbNrNHM1IunCNp/mj3mc7fIwPeDR5iFxVWIvWuZIa4jTdXrfPWMgRRlGn1FX19lMPaXqLtLxlqg6K3SMKu/0N2x5RSJurshDd8gTd4/HQnAx08C1dfbdGl3bJyH+avTE5KUk8156TncjQbfwiL+aH3Oo7XORGFMxt/jV6FC6E0wXSjzIHLKYGvJZYcaXpQMmX6c5+Ukm4Vh4kk5aiNqaQ1rTMHSDXFKl4MQoic43LB89kUBSZVzPJeIVynzh9fk2U+F7r8EP6YDGssUgqtFWGvyuNymJPzrUBtSsomiSw6vVLkHcF91XRbc1LNPE0HQ2PY+I5RX4JDvmK6eNGVtFlWLENJnYhkxWzlDWy9hKip6+S0qxUGWVvlanrLisy7EwVxSFWCyGbdtEWsJe1u4+2d0eQRDgCx9Xg3+8u13ZphyUBedTCjEgEPxWsIUvTHDv8bvwfV/4vsnffXFOQwjolxYAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;1c560fdf&apos; title=&apos;&apos; src=&apos;/static/b0779a001d5012f919647c1262166104/ca1dc/1c560fdf.png&apos; srcset=&apos;/static/b0779a001d5012f919647c1262166104/e7570/1c560fdf.png 170w,
/static/b0779a001d5012f919647c1262166104/f46e7/1c560fdf.png 340w,
/static/b0779a001d5012f919647c1262166104/ca1dc/1c560fdf.png 680w,
/static/b0779a001d5012f919647c1262166104/02d09/1c560fdf.png 1020w,
/static/b0779a001d5012f919647c1262166104/cf75f/1c560fdf.png 1078w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;어떻게 하면 ~ 문제를 해결할 수 있을까? 라는 질문들을 작성하고 이야기한다.&lt;/p&gt;
&lt;p&gt;이 과정을 통해 해결해야할 문제들을 인지할 수 있다.&lt;/p&gt;
&lt;p&gt;이 때 기술적인 질문이 나오지 않도록 경계해야한다.
해당 과정을 수행하는 이유는 서비스의 목적을 구체화하기 위함이다.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;어떻게 하면 제 시간에 식물에 물을 줄 수 있을까? (O)&lt;/li&gt;
&lt;li&gt;어떻게 하면 무중단 배포를 할 수 있을까? (X)&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;⏰ 제한시간 : 5 ~ 8분&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3&gt;워드 클라우드&lt;/h3&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/70641b5a84fd2f9bb79e54fec36d3260/0c082/07da0c75.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 72.35294117647058%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAABpklEQVR42nWUjW6CQBCEef8HbEwMBBRBQEUF/AFx6rfJtlfbXnI53NudmZ27M3o+n/p3zrPm/qp2u1adJ2rqWn3eaJpGjY9Jj8fj9T3pfr9rfuVSE3kxgXEcbZM5DIN2Ta02rRV/LBUnsdIsVZUUOiwrdceznvqudVADhOl2uxnbX4P9/X6vqqq02+00xYN0B04G6DmARv7hGygry9IKAbhcLkZELM9zldutiqpUURZK09Ti9csKBh1GDtZ1nRUzN5uNDoeDqeI3A3AAmqbR0PU6n886nU62EqMeMQbIaNtWx+Pxq83r9WoJdJBlmamEmBUASCF0MnKIRyTgn6tbLBbGxiSRwT6GowgraJFcWlTgo7UMIMUkhieNWtrxW8AoikJxHGu9XptSapIksfj25a0dih93yERstVrZ9BNEFS2xujV935tqXyGJUERBeB9DAo8BgmeAUuwX2UUAZvcQMEDDF+KqUIgdoXqAOQD2vF328PnrpYRPB1+4MsQAdbWQunchud/jH08vDLrBML63jVdeCDAk7939este4A8/nJ7D9N/vfyifYQc+OXTzteAAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;07da0c75&apos; title=&apos;&apos; src=&apos;/static/70641b5a84fd2f9bb79e54fec36d3260/ca1dc/07da0c75.png&apos; srcset=&apos;/static/70641b5a84fd2f9bb79e54fec36d3260/e7570/07da0c75.png 170w,
/static/70641b5a84fd2f9bb79e54fec36d3260/f46e7/07da0c75.png 340w,
/static/70641b5a84fd2f9bb79e54fec36d3260/ca1dc/07da0c75.png 680w,
/static/70641b5a84fd2f9bb79e54fec36d3260/0c082/07da0c75.png 804w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;위 단계에서 나온 키워드들을 기준으로 단어들을 나열한다.
중요하게 생각되는 단어들은 크고 굵게 표기한다.&lt;/p&gt;
&lt;p&gt;이 과정을 통해 키워드를 간략하게 추릴 수 있다.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;⏰ 제한시간 : X&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3&gt;(선택) 모바일 vs 데스크탑&lt;/h3&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/e98ef896a522c59419d537e2183120e8/2cbcd/8f5a28d2.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 34.705882352941174%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsTAAALEwEAmpwYAAAA6UlEQVR42p1Py46CQBDk/39iD1687C9wJCFikJnhjULCY5cLWWIWWBVKp8n4SDzoTtKZTlV3dZU2TRPmwuWp/laEvoCp0iS5XnXgrMP31xEr8/dh4V+CZfGHz2WDxUcDe92R09NpxDiONCT/+14tK/ye1+aLR2S7PTzxg8Ohv7pQTl59V8HtdgfhMvg+h2EY4JwjiiKYpomiKJDnOWFlWcJxHOrDMESSJAiCAJZlwXVdtG07R07TFLa9gef50HUdQggalstSsKqqC+ehrmvCJR/HMYnKw4wxZFmGYRhmhzJ/3/cEPIvxTuQz584XuVFWs+AAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;8f5a28d2&apos; title=&apos;&apos; src=&apos;/static/e98ef896a522c59419d537e2183120e8/ca1dc/8f5a28d2.png&apos; srcset=&apos;/static/e98ef896a522c59419d537e2183120e8/e7570/8f5a28d2.png 170w,
/static/e98ef896a522c59419d537e2183120e8/f46e7/8f5a28d2.png 340w,
/static/e98ef896a522c59419d537e2183120e8/ca1dc/8f5a28d2.png 680w,
/static/e98ef896a522c59419d537e2183120e8/2cbcd/8f5a28d2.png 764w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;생각하는 서비스가 어떤 환경에서 운영될지 생각해본다.&lt;/p&gt;
&lt;p&gt;이 과정을 통해 서비스가 어떻게 그려질지 대략적으로 생각해볼 수 있다.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;⏰ 제한시간 : 2분&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3&gt;장치/요소/기능 브레인스토밍&lt;/h3&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/1e645927501f2d913d6591289ce0174f/ed9c8/2d693ea9.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 62.35294117647059%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAAA+UlEQVR42o2S6wqDMAxG+/6v6B8RryCCN7yb7QQirtRtgVhs05MvaZy87TgOOc9Tuq6TLMukLEtJkkSd/zzPpSgKXdM01ZX9fd+5Luu6XgzHhw1W37Zt0yTLssg34y6xuCOLZeKATDgGrKoqGYZBz+7nFnM3hDmoJtfP2jSNAgn8x1Qhn1C5QOq6VqhV8DcQhdM0fYCBAGUNJQyZlmwvZGVbb1AXRZHEcXyVbH0MOfcUiAJU3ntnQMbDXviXShiwnJF9m+dZ2raVcRzVvwFt9LDHOUQZw8wrPz3cHWatcibXv2RD3fd9cOZCsAtor2p9wEMQ9uzc4v24FxCIsUaKl2LQAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;2d693ea9&apos; title=&apos;&apos; src=&apos;/static/1e645927501f2d913d6591289ce0174f/ca1dc/2d693ea9.png&apos; srcset=&apos;/static/1e645927501f2d913d6591289ce0174f/e7570/2d693ea9.png 170w,
/static/1e645927501f2d913d6591289ce0174f/f46e7/2d693ea9.png 340w,
/static/1e645927501f2d913d6591289ce0174f/ca1dc/2d693ea9.png 680w,
/static/1e645927501f2d913d6591289ce0174f/02d09/2d693ea9.png 1020w,
/static/1e645927501f2d913d6591289ce0174f/ed9c8/2d693ea9.png 1245w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;앞서 설정한 문제, 키워드 등을 참고하여 개발하고자 하는 서비스에 있을 것 같은 기능들을 브레인 스토밍 식으로 작성한다.&lt;/p&gt;
&lt;p&gt;이 과정을 통해 서비스에 존재할 수 있는 기능들을 파악할 수 있다.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;⏰ 제한시간 : 5 ~ 8분&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3&gt;지도 만들기&lt;/h3&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/058bac759478396584248cefebdce165/d621b/2bb017bc.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 37.05882352941176%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsTAAALEwEAmpwYAAABDUlEQVR42l1QW26EMAzM/W/QY/QSPUDV/wUJPngtjwTIAzL1uFCt1tLIjmPP2DZ4sZyz+uM4EEJASglVVaGua8QYFbc9nw283/Bu5jxPHIJXI9G6rti2DdZa9Xe8rk5r2raWnMP7QMY5h7Yb9GGtAwVISL/vu+K8BJdlQdM0ugHBHnrvvU7P2Hx9V/j4/NGGcCUJknAqClKANs8zyrLU6W8REjHvZHrWmb63GGePI4lS8Ei8kyizgcUsugm5clEU/4R6ruveBN8mCknOp4wd8Hg8ME6TNhK87STqbJokH4V4HEf9o1jfdZoL0jsM/R/hfVC9hayYRClzZYFUaEx/cvIU5Z2QY1Awl7n6DQC/C/oiZEpOzMgAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;2bb017bc&apos; title=&apos;&apos; src=&apos;/static/058bac759478396584248cefebdce165/ca1dc/2bb017bc.png&apos; srcset=&apos;/static/058bac759478396584248cefebdce165/e7570/2bb017bc.png 170w,
/static/058bac759478396584248cefebdce165/f46e7/2bb017bc.png 340w,
/static/058bac759478396584248cefebdce165/ca1dc/2bb017bc.png 680w,
/static/058bac759478396584248cefebdce165/02d09/2bb017bc.png 1020w,
/static/058bac759478396584248cefebdce165/9d567/2bb017bc.png 1360w,
/static/058bac759478396584248cefebdce165/d621b/2bb017bc.png 1439w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;앞서 정의한 서비스 대상을 참고하여 구체적인 페르소나를 지정한다.
페르소나를 참고하여 어떤 페이지들이 존재할지 생각해본다.&lt;/p&gt;
&lt;p&gt;위(&lt;code class=&quot;language-text&quot;&gt;장치/요소/기능 브레인스토밍&lt;/code&gt;)에서 도출된 기능들을 기반으로 각 페이지에 기능들을 작성한다.&lt;/p&gt;
&lt;p&gt;이 과정을 통해 대략적인 서비스 흐름과 구성을 생각해 볼 수 있다.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;⏰ 제한시간 : X&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3&gt;페이지 그려보기&lt;/h3&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/535c843fc7491a9b1193802999045ddc/d703b/efe27f26.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 98.23529411764706%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAADCklEQVR42nVUfYvbNhzO9/9IZX+MUsbGCqXj2I5C6dJLE9uxbOtdsq08e37KOeR6N4OQiaNHz5u0A5/L5YLrXCfM0aF9/ID84wnl2OPTH7/g82/v8OH9r8gx4OWal/MOz09ZC9Y6VszLDK97LClhmVf889dH7L8+wvuAZV2gDf+Tyw3ofuwSF+V5RowRMQWE5LEsC8K8oO0Vvu1/IMSEEAI0/6O+POD0+3s8w92Ybc+ulFJ/zDlXIHliWAk+w1gP6wKGYYDWGiEvGLsvUIc/32RXGQqIgM5kWUeJXBwx0UfjLEY9YSKY9x6j4hwzbJgru3vvbgy3l6tkyl8peZ3ROrKyBDWuyhUF3kduojEZdQN4BbgxFLOngSGUhdJnHLoTHFl5gllr6WPE0PZQ+ozGt/8vWXaWZGXOKVNyovSMr/tvOKuecic45yDhDe0RjuDShp8ZvqqNVCUT6ML8SlnRacVAHI5Hjf6sydJQBVijuSp4i11lWP0hMwFLHLmwa2VGcRNSMAQd6GFCEgXmEc6ccWzaV96JbTJ2G7IUu1D69lHYWcOAZkt2DEcbfmhYqZGgDMo7vrO3wVNvgTcB3nnsxD8BSMIy51qblQH15x4N5U6TgVIDrLfQ3QVBZ3pq2VGyJ6gar4lHBiheV8nSP0H3gaxmhbREdOPAemjsn47oujMrNOLfzyv8cA1EbFqXa5jyeIY1jOPLHp4bj7zk6mFHAM8j56R7xtTqXM/8inEaa+r3Sefneu0ESBjK0RKfUo7snK+XgiOoOh7IQpJd0R8CvyeoQXHN8qIumRvIJrstHUlRgAuLLT2UIjeNgukl5VhH92QRuWGnm9qKe8BbynJSJBjvr0csLpYe8gxT5qmbarFHeiMb9u2BXlucXIO05reLvQHWPkoXeZZHTVAytLL41MJMU/V45MmJrMk0THXNm/fhRlVuk8D70GQFxaqc/cikezw8/F1ZWjKWFMUKI0dRrrv1eg/cA9diy49Gq+qdT2SXPZOlbDLbfz9gC05SlDlTlVzKahiqsvvb5j8G1RNQx8MAJgAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;efe27f26&apos; title=&apos;&apos; src=&apos;/static/535c843fc7491a9b1193802999045ddc/ca1dc/efe27f26.png&apos; srcset=&apos;/static/535c843fc7491a9b1193802999045ddc/e7570/efe27f26.png 170w,
/static/535c843fc7491a9b1193802999045ddc/f46e7/efe27f26.png 340w,
/static/535c843fc7491a9b1193802999045ddc/ca1dc/efe27f26.png 680w,
/static/535c843fc7491a9b1193802999045ddc/d703b/efe27f26.png 786w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;위 &lt;code class=&quot;language-text&quot;&gt;지도 만들기&lt;/code&gt; 활동에서 도출된 페이지들을 직접 그려보는 시간을 가진다.
팀원들 각자가 페이지가 어떻게 구성될지 대략적으로 그려본다.&lt;/p&gt;
&lt;p&gt;잘 그릴 필요는 없다. 연필로 어떤 버튼이 어디에 위치할지, 어떤 기능이 존재하는지 정도만 알아볼 수 있을정도로 가볍게 스케치해도 좋다.&lt;/p&gt;
&lt;p&gt;이 과정을 통해 각자가 생각하는 View를 공유하면서 서비스의 구현 방향성에 대한 싱크를 맞춰갈 수 있다.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;⏰ 제한시간 : 각 페이지별 5분&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3&gt;결정권자 정하기 &amp;#x26; 페이지 정하기&lt;/h3&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/6f4640ebaab36872787ea3c684cd1730/5fbd7/9f853c4e.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 18.823529411764707%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAx0lEQVR42oVPSQrCQBDMK32Gj/DgF/QqiKCIN0HBS4QcPAqCGLdEgktcCEHNLD1TjhNBxYMNQxXd1dVTDv6U5gIq408G0oAQEkSEYLVEtAl/9M7XslIWo/EQs14FLInBJ3MkfdfYASNvAK9RwiEK0Gm30G3X37tam2cMtfpwVNrCebtAPHXB7ylwzSBPF9tv1qooFwsI12YeH+H7/ofh64eMCUukicIyZjmRApeU9xWB8VzDjeZm45vbJo2SwqIkjl2QYh9JPABZ0jE0dwJ48AAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;9f853c4e&apos; title=&apos;&apos; src=&apos;/static/6f4640ebaab36872787ea3c684cd1730/ca1dc/9f853c4e.png&apos; srcset=&apos;/static/6f4640ebaab36872787ea3c684cd1730/e7570/9f853c4e.png 170w,
/static/6f4640ebaab36872787ea3c684cd1730/f46e7/9f853c4e.png 340w,
/static/6f4640ebaab36872787ea3c684cd1730/ca1dc/9f853c4e.png 680w,
/static/6f4640ebaab36872787ea3c684cd1730/02d09/9f853c4e.png 1020w,
/static/6f4640ebaab36872787ea3c684cd1730/5fbd7/9f853c4e.png 1276w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;위 과정에서 작성한 페이지 중 하나의 페이지를 결정하기 위해 결정권자를 정한다.&lt;/p&gt;
&lt;p&gt;결정권자는 팀원들의 투표로 정하고 페이지를 결정할 때 만큼은 결정권자의 권한이 가장 높은 수직적인 구조로 진행된다.
즉, 다시말해 페이지는 결정권자의 선택으로 정해진다.&lt;/p&gt;
&lt;p&gt;결정권자를 뽑았다면 각 페이지를 정하는 시간을 가진다.&lt;/p&gt;
&lt;p&gt;이 때 결정권자가 아닌 다른 팀원들은 자신의 페이지 혹은 자신이 마음에 드는 페이지에 대해 결정권자를 설득한다.&lt;/p&gt;
&lt;p&gt;페이지를 결정 할 때 여러 페이지의 기능을 합칠 수도 있다.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;⏰ 제한시간 : 각 페이지별 5분
결정된 페이지들은 명예의전당👑 에 복사하여 올려둔다.
&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 249px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/69b90d64e0e9f639c72d30b6addbfd44/14a1f/e4e8a0fb.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 311.7647058823529%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAA+CAYAAAArvjtdAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFFUlEQVR42q1Yy47jRBTNh/AhfASfAGLLgu9gwwJpFjAs2cyCGYQEEgLBCBg2I6Y1NOoWnaFb5NHdiR07Tvwqv6p8uLccpytuO3Eaqrtkxy5f36p77rmnPFBK4VCXUgEo8ceJwGefh3j2lYC7kHStumeOHYCHliXq1nauVHX8+ekMH737Fz75YIi1k23G7I4d8Emz1wN2Ov+RU4UA0qDUhvS1xrhWg3XnKZgvcFYe7GCNhe9BJKL1xQPTq7Zm3rfPzjH7/ifYL1+Rl2G7wfrBLMvgOI7utm1juVzqo5SyepD6+NnXuH3/Q9w8eoxw4VTXN7O4Z7AoCqxWK6zX621n47VBbqPxE0ym72E0+hhRZG08VPun3Jy+eX/yzwWs69eYXw8Rx+H+NWxG2TReX89ziSIvkeXFBpu7YzRsuoLQFqgS1TVZ5lBl0RrEQXNa+4yzoUwJFCpvx2rblG9vbzGdThGG5hpVxyhfIcxcpDLub5CjzZ1BvV2bsoqmny200crD8rDBfVPeLr42pLo97FrDQ5HvGtefHIz8ZrB33R/sg0pzcJqmlCGRPiqp9udyfVMZudlseZ7r6OeSgtZBKDsEyw+cnp7i4uIC4/H4jhgMD5Mk0eOaGdJJsAwZNtT0lH+zd7GIkYhEj3twUOrf7B2vYRzH97x/MGwOYbU3bLjFNFV/HcP3YxRdHvbJFE0MZMBbBVglNrxwSUajwzWFH+JSwN2MpGZ0uucHEWz3Bq7nIgh7FCmm/Ro2V1dXOgh1Y0Jd+SG9DBTtTBs/COx93ChlSTXHgQqfIw1PsQ5Ea273ho0k9eC4LmL/DVbLEdZ+fBg2e6NMXYgMYSwRRlk3sHsZ3PyuM6hNAx2dKYLS7vLyUpeIkmVIWfYrAU3GKTfFvKB0cxwXtmXDIuKw53MNr3seHuLD+pjTmvlRgMXS1aKJjfWqKaxphsOhpq/aQ24ReTim6V5bc1iLRWfwBk1veI3Oz88xmUy2AeAWEsvYcxtrd6UZx7y3t9DXqWeWUkVrmBExnC3GeGX9DRHFOjV7waZTOdD/KFrgTTBDWcjuKR9DX10i6mEGGU6Gt+YYE2aDfTXY7HUt5uM9qWJ43msNdZQpU4Ig0CqXocUVsKY1yyW1uwrv8yEXH8uyMKcsYH1dP8TN9324xDae52mpXN+LkxSPn/6CJz+cECOpXT5kLxjQdRdCbO8x+fJLuLOXycYgq9lfX1/i5dlIr/GgSwQ1r/HLalGv1YOBw4ME20UYbMQUAm3ypTdsmhvK8hj66gOlXoLzkBQpSHUVFIQoS7DOxX/TNrx2DBXHWmA4n+DFzTlkXmy3bXWZ6G2QA8IkazsLkiQCqWBZRwYV1e7Moq1vpI3u7PUY0Dc3N5jNZrSfG2kgm/cFTXVF29s1MXeaCW2gmH+L5Le3gdkXuwbNLQXDgj0yN4583fMDXM9s3NoOFfqgSj3nR6S/v4Ny/uUuDvfJNW5pmiEKfSxdG3HkI0vFHRY3nwqODgozuVISks5Z95RKPawubymMPjqoUv0/BNsU5ztbM1VsNuJHiKUw9zAK/oQofL0jzVSyWw6OxaEoAozDM73F5fNUVvpQJTMU1ncoxVUFm+aDTKCMxeYUJU2rkDkRaogw9ei8Sj21+AbyxVsop492cXgnLOVWqpktpS9Ac4+Uw2wMx6NsSSscqvgSavopSv+k/RNBF8EW5GGcB3r9qt/ZboE6VsEqgkxpfGnawkdHWW4/t/wL16wFfQoHO4cAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;e4e8a0fb&apos; title=&apos;&apos; src=&apos;/static/69b90d64e0e9f639c72d30b6addbfd44/14a1f/e4e8a0fb.png&apos; srcset=&apos;/static/69b90d64e0e9f639c72d30b6addbfd44/e7570/e4e8a0fb.png 170w,
/static/69b90d64e0e9f639c72d30b6addbfd44/14a1f/e4e8a0fb.png 249w&apos; sizes=&apos;(max-width: 249px) 100vw, 249px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3&gt;BDD&lt;/h3&gt;
&lt;p&gt;BDD(Behavior Driven Development, 행위 주도 개발) 방법론을 차용한 방식으로 given - when - then 절로 해당 페이지에서 일어날 수 있는 모든 이벤트에 대해 정의한다.&lt;/p&gt;
&lt;p&gt;이 과정을 통해 구체적인 기능 명세를 할 수 있다.&lt;/p&gt;
&lt;p&gt;&lt;span class=&apos;gatsby-resp-image-wrapper&apos; style=&apos;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;&apos;&gt;
      &lt;a class=&apos;gatsby-resp-image-link&apos; href=&apos;/static/c4a430c5a8881a8d1b8a65f39cbe0504/eb638/faa7372e.png&apos; style=&apos;display: block&apos; target=&apos;_blank&apos; rel=&apos;noopener&apos;&gt;
    &lt;span class=&apos;gatsby-resp-image-background-image&apos; style=&quot;padding-bottom: 40%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsTAAALEwEAmpwYAAABaUlEQVR42pWSzU6DQBSFeQmf0Z0Lt+obuHOtK3cmbXwB0/iXGmvS2JqoEWkL1AaQQhl+BgaOc29LY+LKSW6YHzj3O2cwsBnN5llVFSzLgud56/2m+VcZIkkQR5GuGMlqhTwVGI3GmNnOVrAsS0gpea2UQlEUqOuaz37PWTASAkGRIUy/IQqJRIaaMtKo+sUNtuM4cF2X5yvd1DRNbkLik8kEWZZtmxvB8BnuySleL0yEoxcMOwqdvRTWTclBNFo10S7CMGQaKlpTNCRK+0EQYLlcMqkxH9zDPDzCw3Ef7tMtLvcVDnaA/lnDgqpq4PsBU6ZpyoS+7zNVnue8T3kL7ZQJ54srfM520e/ewbZ7mD4qDM4B760VVIh0xlQ02rzaCyQyOiNqytlYfNmw3ocY96aYOzZ9sraKdcgkQDRUZLelbAnjOGZBEqa1IUuJTFT4uK71DUsWIJt1/feXoDOiIHv0bJtRExIjyz/wD2Gb43TVHAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
  &lt;img class=&apos;gatsby-resp-image-image&apos; alt=&apos;faa7372e&apos; title=&apos;&apos; src=&apos;/static/c4a430c5a8881a8d1b8a65f39cbe0504/ca1dc/faa7372e.png&apos; srcset=&apos;/static/c4a430c5a8881a8d1b8a65f39cbe0504/e7570/faa7372e.png 170w,
/static/c4a430c5a8881a8d1b8a65f39cbe0504/f46e7/faa7372e.png 340w,
/static/c4a430c5a8881a8d1b8a65f39cbe0504/ca1dc/faa7372e.png 680w,
/static/c4a430c5a8881a8d1b8a65f39cbe0504/02d09/faa7372e.png 1020w,
/static/c4a430c5a8881a8d1b8a65f39cbe0504/9d567/faa7372e.png 1360w,
/static/c4a430c5a8881a8d1b8a65f39cbe0504/eb638/faa7372e.png 1422w&apos; sizes=&apos;(max-width: 680px) 100vw, 680px&apos; style=&apos;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&apos; loading=&apos;lazy&apos; decoding=&apos;async&apos;&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;해당 방식은 UI 기반의 기능 명세에 치중할 수 있기 때문에 API 설계가 요구된다면 API 명세를 하는것을 추천한다.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;⏰ 제한시간 : X&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;결론&lt;/h2&gt;
&lt;p&gt;구글 스프린트를 기반으로 피움 팀이 아이디어를 구체화하는 과정을 정리해봤다.&lt;/p&gt;
&lt;p&gt;아이디어 도출 과정에 정답은 없지만 스프린트를 처음 해본 입장에서는 참고하면 좋은 방법이라고 생각되어 기록으로 남겨봤다.&lt;/p&gt;
&lt;h2&gt;Reference&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://brunch.co.kr/@brunchjwshim/90&quot;&gt;구글스프린트&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://velog.io/@teo/google-sprint-14&quot;&gt;테오의 스프린트&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.atlassian.com/ko/agile/scrum/sprints&quot;&gt;Atlassian Sprint&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.thesprintbook.com/the-design-sprint&quot;&gt;https://www.thesprintbook.com/the-design-sprint&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item></channel></rss>