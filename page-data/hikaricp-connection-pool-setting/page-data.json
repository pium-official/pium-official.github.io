{"componentChunkName":"component---src-templates-post-jsx","path":"/hikaricp-connection-pool-setting/","result":{"data":{"site":{"siteMetadata":{"title":"pium.log"}},"markdownRemark":{"id":"dd095976-5a96-51b5-9686-8956dc60cd24","excerpt":"이 글은 우테코 피움팀 크루 '주노', '그레이', '조이', '하마드'\n가 작성했습니다. 서론 Connection Pool 개수 설정에 대해 알아보고 최적의 개수를 설정하기까지의 과정을 정리해보자. Connection Pool 크기 10,000명의 사용자가 동시에 요청을 보내는 웹 사이트가 있다고 하자. TPS 목표는 20,000인 상황에서 커녁센 풀 …","html":"<blockquote>\n<p>이 글은 우테코 피움팀</p>\n<p>크루 '<a href=\"https://github.com/Choi-JJunho\">주노</a>', '<a href=\"https://github.com/kim0914\">그레이</a>', '<a href=\"https://github.com/yeonkkk\">조이</a>', '<a href=\"https://github.com/rawfishthelgh\">하마드</a>'\n가 작성했습니다.</p>\n</blockquote>\n<h2>서론</h2>\n<p>Connection Pool 개수 설정에 대해 알아보고 최적의 개수를 설정하기까지의 과정을 정리해보자.</p>\n<h3>Connection Pool 크기</h3>\n<p>10,000명의 사용자가 동시에 요청을 보내는 웹 사이트가 있다고 하자. TPS 목표는 20,000인 상황에서 커녁센 풀 크기는 얼마나 하면 좋을까?</p>\n<p>생각보다 많은 pool이 필요하지 않다.</p>\n<p>보유한 CPU 코어보다 과도하게 많은 Connection Pool을 생성할 경우 컨텍스트 스위칭이 빈번하게 발생하여 처리속도가 더 느려질 것이다.</p>\n<p>10,000명의 사용자가 있을 때 10,000개의 커넥션 풀을 유지하는건 자원 낭비가 심하다.</p>\n<h4>최적의 커넥션 풀을 구하는 공식</h4>\n<p>hikariCP 문서에서 다음과 같은 공식을 설명하고있다.</p>\n<p><strong>connections = ((core<em>count * 2) + effective</em>spindle_count)</strong></p>\n<blockquote>\n<p><a href=\"https://github.com/brettwooldridge/HikariCP/wiki/About-Pool-Sizing#connections--core_count--2--effective_spindle_count\">출처 - About Pool Sizing</a></p>\n</blockquote>\n<p>또한 커넥션 풀이 deadlock 상태에 빠지지 않기 위한 개수를 구하는 공식은 다음과 같이 구성된다.</p>\n<blockquote>\n<p>자세한 내용은 아래 글을 참고\n<a href=\"https://techblog.woowahan.com/2664/\">HikariCP Dead lock에서 벗어나기 (이론편)</a>\n<a href=\"https://techblog.woowahan.com/2663/\">HikariCP Dead lock에서 벗어나기 (실전편)</a></p>\n</blockquote>\n<p><strong>pool size = Tn x (Cm- 1) + 1</strong></p>\n<ul>\n<li><strong>Tn: 최대 스레드 수</strong></li>\n<li><strong>Cm: 단일 스레드에서 사용하는 최대 커넥션 수</strong></li>\n</ul>\n<h2>하나의 쿼리가 실행되는 과정</h2>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n\n\t<span class=\"token class-name\">Connection</span> connection <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token class-name\">PreparedStatement</span> preparedStatement <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span>\n\n<span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n  connection <span class=\"token operator\">=</span> hikariDataSource<span class=\"token punctuation\">.</span><span class=\"token function\">getConnection</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  preparedStatement <span class=\"token operator\">=</span> connection<span class=\"token punctuation\">.</span><span class=\"token function\">preparedStatement</span><span class=\"token punctuation\">(</span>sql<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  preparedStatement<span class=\"token punctuation\">.</span><span class=\"token function\">executeQuery</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Throwable</span> e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">RuntimeException</span><span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span> <span class=\"token keyword\">finally</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>preparedStatement <span class=\"token operator\">!=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    preparedStatement<span class=\"token punctuation\">.</span><span class=\"token function\">close</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>connection <span class=\"token operator\">!=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    connection<span class=\"token punctuation\">.</span><span class=\"token function\">close</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 여기서 connection pool에 반납됩니다.</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2>Hikari CP에서 connection을 리턴하는 방법</h2>\n<ul>\n<li>HikariPool에서 getConnection() 로직은 총 3단계를 통해 Connection을 리턴한다.</li>\n<li>HikariCP에서는 내부적으로 ConcurrentBag이라는 구조체를 이용해 Connection을 관리한다.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token class-name\">HikariPool</span><span class=\"token punctuation\">.</span><span class=\"token function\">getConnection</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-></span> <span class=\"token class-name\">ConcurrentBag</span><span class=\"token punctuation\">.</span><span class=\"token function\">borrow</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>라는 메서드를 통해 사용 가능한(idle) Connection을 리턴하도록 되어있다.</p>\n<h2>스레드가 Connection을 획득하는 과정</h2>\n<blockquote>\n<p><a href=\"https://techblog.woowahan.com/2663/\">출처 : HikariCP Dead lock에서 벗어나기 (실전편)</a></p>\n</blockquote>\n<p>시나리오: 스레드 1이 커넥션을 얻으러 왔다.. 히카리는 어떤 커넥션을 줄 수 있을까?</p>\n<p><strong>스레드 1</strong>: 히카리님, 커넥션 하나 주세요</p>\n<p>히카리: 스레드 1님은 이전에 커넥션을 가져간 적이 있네요. 저희는 사용한 커넥션이 있으면 해당 커넥션을 주는게 원칙이라 확인해볼게요</p>\n<p>히카리: 죄송한데, 그 커넥션은 스레드 3님이 사용중이에요.</p>\n<p><strong>스레드 1</strong>: 그럼 딴거 주세요</p>\n<p>히카리: 지금 사용가능한 커넥션이 없어요 ^^</p>\n<p><strong>스레드 1</strong>: 그럼 기다릴게요. 30초 까지는 기다릴 수 있어요. 없으면 그냥 예외 터트릴게요</p>\n<p>히카리: 네 그럼 사용가능한 커넥션 나오는대로 바로 드릴게요 ~</p>\n<p><strong>스레드 1</strong>: handofffQueue에서 다른 스레드가 쓰고 반납한 커넥션을 얻었다.</p>\n<h2>Hikari CP에서 Connection을 회수하는 과정</h2>\n<ul>\n<li>HikariCP에서 얻은 Connection은 Connection.close()를 하게 되면 HikariPool에 반납이 된다.</li>\n<li>정상적으로 transactional이 commit 되거나, 에러로 인해 rollback이 호출 되면 connection.close()가 호출되어 Connection을 Pool에 반납한다.</li>\n<li>getConnection()과 마찬가지로 아래 명령어가 실행되며 Connection 반납</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\">connection<span class=\"token punctuation\">.</span><span class=\"token function\">close</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-></span> concurrentBag<span class=\"token punctuation\">.</span><span class=\"token function\">requite</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>\n<h2>스레드가 Connection을 반납하는 과정</h2>\n<p><strong>스레드 1</strong>: 아 트랜잭션 드디어 끝났네. 커넥션 반납할게요</p>\n<p><strong>스레드 1</strong>: <code class=\"language-text\">connection.close()</code></p>\n<p>히카리: 커넥션 반납 도와드리겠습니다. 일단 idle Connection으로 바꿀게요</p>\n<p>히카리: handoffQueue에서 기다리는 스레드 있나보네요</p>\n<p>히카리: handoffQueue에 반납받은 커넥션 추가할게요</p>\n<p><strong>스레드 2</strong>: 감사합니다. 오래기다렸어요.</p>\n<p>히카리: 스레드 1님 감사합니다. 이번에 사용한 Connection 정보 등록해드릴게요 ~</p>\n<h2>ConnectionPool 최적화 하기</h2>\n<p>적절한 Connection Pool 개수를 설정하기 위해 몇가지 내용을 확인해보자.</p>\n<h3>Ec2의 코어 수 확인</h3>\n<blockquote>\n<p>vCPU는 가상 머신 또는 서버가 가상 머신에 대해 파티션되지 않은 경우 실제 프로세서 코어에 지정된 가상 코어다.</p>\n</blockquote>\n<p>인스턴스 유형 t4g.small</p>\n<p><span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;'>\n      <a class='gatsby-resp-image-link' href='/static/9a550d92a95d0a23e419e0ce35e441ef/42cbc/e078a194.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 8.235294117647058%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAdUlEQVR42h3KUQ6DIBAAUe9/zVZXFAVkEeiaTq2TzN8bUkqYGa135jXgo1Kq8bGL2QvOO0o5CTEyyfy4kALiJ0pXclHGUW5vbPvOICKoKv9CMSQ23L1dX5b8Jp0bOSvpOFjW9XG5RdzxwutMrRXnFlrrt8v8AHf7mS/3arnEAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='e078a194' title='' src='/static/9a550d92a95d0a23e419e0ce35e441ef/ca1dc/e078a194.png' srcset='/static/9a550d92a95d0a23e419e0ce35e441ef/e7570/e078a194.png 170w,\n/static/9a550d92a95d0a23e419e0ce35e441ef/f46e7/e078a194.png 340w,\n/static/9a550d92a95d0a23e419e0ce35e441ef/ca1dc/e078a194.png 680w,\n/static/9a550d92a95d0a23e419e0ce35e441ef/02d09/e078a194.png 1020w,\n/static/9a550d92a95d0a23e419e0ce35e441ef/9d567/e078a194.png 1360w,\n/static/9a550d92a95d0a23e419e0ce35e441ef/42cbc/e078a194.png 1600w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span></p>\n<p><span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;'>\n      <a class='gatsby-resp-image-link' href='/static/8f9b6afc51aca602932bd0f5d7054c1b/42cbc/a24f34e8.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 21.176470588235293%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAnUlEQVR42j2PCQ6EIBAE/f8PiR8ADxQVUERmU7NREyJWTTfYlVJknmdJKQnPtm3fexgGue9bpmmSdV0lxih930sIQay1YoxRTh5OR0eh916HCQNhOWctheGO49D9eZ7qWZTVWjVDB757nkeWZdHB1ppChuDsYbjXX9elnkWOOQ4cx/FfyEl8vDfgZoTglMBw+75rCWE8i1/F45xzyn5G2jWsNFXmJwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='a24f34e8' title='' src='/static/8f9b6afc51aca602932bd0f5d7054c1b/ca1dc/a24f34e8.png' srcset='/static/8f9b6afc51aca602932bd0f5d7054c1b/e7570/a24f34e8.png 170w,\n/static/8f9b6afc51aca602932bd0f5d7054c1b/f46e7/a24f34e8.png 340w,\n/static/8f9b6afc51aca602932bd0f5d7054c1b/ca1dc/a24f34e8.png 680w,\n/static/8f9b6afc51aca602932bd0f5d7054c1b/02d09/a24f34e8.png 1020w,\n/static/8f9b6afc51aca602932bd0f5d7054c1b/9d567/a24f34e8.png 1360w,\n/static/8f9b6afc51aca602932bd0f5d7054c1b/42cbc/a24f34e8.png 1600w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span></p>\n<p><span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;'>\n      <a class='gatsby-resp-image-link' href='/static/9b1a7ee51f03069f37b53143c4fd5cbf/42cbc/389e452e.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 25.294117647058822%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAdElEQVR42nWQSQ6AIBAE/f9TiSIYYdhb25NhqWQuM0nR9KZPA6UU7O3Qk3NGaw0zeOP0bCkllFJQax2OIYTpnsSY3omjUCTAewHFPdZecM4thBFeZBTu+/ElmXG/NRhjofUJPvyHAZhyEDLdqifu+eVVJTMelTuLgl0kyL0AAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='389e452e' title='' src='/static/9b1a7ee51f03069f37b53143c4fd5cbf/ca1dc/389e452e.png' srcset='/static/9b1a7ee51f03069f37b53143c4fd5cbf/e7570/389e452e.png 170w,\n/static/9b1a7ee51f03069f37b53143c4fd5cbf/f46e7/389e452e.png 340w,\n/static/9b1a7ee51f03069f37b53143c4fd5cbf/ca1dc/389e452e.png 680w,\n/static/9b1a7ee51f03069f37b53143c4fd5cbf/02d09/389e452e.png 1020w,\n/static/9b1a7ee51f03069f37b53143c4fd5cbf/9d567/389e452e.png 1360w,\n/static/9b1a7ee51f03069f37b53143c4fd5cbf/42cbc/389e452e.png 1600w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span></p>\n<p>vCPU가 2이므로 위에서 이야기한 <code class=\"language-text\">connections = ((core_count * 2) + effective_spindle_count)</code> 공식에 의하면 적절한 스레드풀의 개수는 4 ~ 5개정도로 예상할 수\n있겠다.</p>\n<h2>부하 테스트 진행</h2>\n<p>위 코어수는 이론적인 내용이므로 실제로 부하테스트를 진행하여 실제 값을 비교해보자.</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">spring</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">datasource</span><span class=\"token punctuation\">:</span>\n  <span class=\"token punctuation\">...</span>\n  <span class=\"token key atrule\">hikari</span><span class=\"token punctuation\">:</span>\n  <span class=\"token punctuation\">...</span>\n  <span class=\"token key atrule\">maximum-pool-size</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1</span> <span class=\"token comment\"># 커넥션 풀의 최대 크기 &lt;- 해당 값을 조절하며 테스트를 진행한다.</span>\n  <span class=\"token key atrule\">connection-timeout</span><span class=\"token punctuation\">:</span> <span class=\"token number\">3</span>  <span class=\"token comment\"># 커넥션 타임아웃 설정 (ms) &lt;- 커넥션 타임아웃의 기본값이 30초다. 너무 길기 때문에 3초로 줄인다.</span></code></pre></div>\n<table>\n<thead>\n<tr>\n<th>Pool Size</th>\n<th>Thread</th>\n<th>loop</th>\n<th>timeout</th>\n<th>TPS</th>\n<th>err (%)</th>\n<th>tomcat max thread</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>100</td>\n<td>1</td>\n<td>3</td>\n<td>1.6</td>\n<td>4</td>\n<td>10</td>\n</tr>\n<tr>\n<td>1</td>\n<td>200</td>\n<td>1</td>\n<td>3</td>\n<td>3.3</td>\n<td>3</td>\n<td>10</td>\n</tr>\n<tr>\n<td>1</td>\n<td>500</td>\n<td>1</td>\n<td>3</td>\n<td>4.9</td>\n<td>8.2</td>\n<td>10</td>\n</tr>\n<tr>\n<td>1</td>\n<td>1000</td>\n<td>1</td>\n<td>3</td>\n<td>5.7</td>\n<td>25.6</td>\n<td>10</td>\n</tr>\n<tr>\n<td>3</td>\n<td>100</td>\n<td>1</td>\n<td>3</td>\n<td>12.22</td>\n<td>7</td>\n<td>10</td>\n</tr>\n<tr>\n<td>3</td>\n<td>200</td>\n<td>1</td>\n<td>3</td>\n<td>11.77</td>\n<td>4.5</td>\n<td>10</td>\n</tr>\n<tr>\n<td>3</td>\n<td>500</td>\n<td>1</td>\n<td>3</td>\n<td>11.39</td>\n<td>0</td>\n<td>10</td>\n</tr>\n<tr>\n<td>3</td>\n<td>1000</td>\n<td>1</td>\n<td>3</td>\n<td>12.4</td>\n<td>8.4</td>\n<td>10</td>\n</tr>\n<tr>\n<td>4</td>\n<td>100</td>\n<td>1</td>\n<td>3</td>\n<td>11.15</td>\n<td>0</td>\n<td>10</td>\n</tr>\n<tr>\n<td>4</td>\n<td>200</td>\n<td>1</td>\n<td>3</td>\n<td>11.1</td>\n<td>0</td>\n<td>10</td>\n</tr>\n<tr>\n<td>4</td>\n<td>500</td>\n<td>1</td>\n<td>3</td>\n<td>11.4</td>\n<td>0</td>\n<td>10</td>\n</tr>\n<tr>\n<td>4</td>\n<td>1000</td>\n<td>1</td>\n<td>3</td>\n<td>12.44</td>\n<td>0.5</td>\n<td>10</td>\n</tr>\n<tr>\n<td>5</td>\n<td>100</td>\n<td>1</td>\n<td>3</td>\n<td>10.63</td>\n<td>0</td>\n<td>10</td>\n</tr>\n<tr>\n<td>5</td>\n<td>200</td>\n<td>1</td>\n<td>3</td>\n<td>11.46</td>\n<td>0</td>\n<td>10</td>\n</tr>\n<tr>\n<td>5</td>\n<td>500</td>\n<td>1</td>\n<td>3</td>\n<td>11.44</td>\n<td>0</td>\n<td>10</td>\n</tr>\n<tr>\n<td>5</td>\n<td>1000</td>\n<td>1</td>\n<td>3</td>\n<td>12.03</td>\n<td>5.2</td>\n<td>10</td>\n</tr>\n<tr>\n<td>10 (default)</td>\n<td>100</td>\n<td>1</td>\n<td>3</td>\n<td>11.2</td>\n<td>0</td>\n<td>10</td>\n</tr>\n<tr>\n<td>10 (default)</td>\n<td>200</td>\n<td>1</td>\n<td>3</td>\n<td>11.4</td>\n<td>0</td>\n<td>10</td>\n</tr>\n<tr>\n<td>10 (default)</td>\n<td>500</td>\n<td>1</td>\n<td>3</td>\n<td>11.49</td>\n<td>0</td>\n<td>10</td>\n</tr>\n<tr>\n<td>10 (default)</td>\n<td>1000</td>\n<td>1</td>\n<td>3</td>\n<td>11.49</td>\n<td>0</td>\n<td>10</td>\n</tr>\n</tbody>\n</table>\n<p>위 결과로부터 스레드 Pool Size가 4일 때 부터 비슷한 결과를 내고 있는 것을 볼 수 있다.</p>\n<p>공식과 비교했을 때 4~5가 가장 적절한 값이라는 원리와 유사한 결과가 나온다.</p>\n<h2>결론</h2>\n<p>Connection Pool이 많아도 CPU 코어상으로 처리할 수 없으므로 특정 수치에서부터 동일한 결과가 나오는 현 상황에서는 많아봐야 의미가 없다.</p>\n<p>따라서 Connection Pool의 개수를 가장 유의미한 지표를 보인 4로 설정한다.</p>\n<h2>Reference</h2>\n<blockquote>\n<p><a href=\"https://techblog.woowahan.com/2664/\">HikariCP Dead lock에서 벗어나기 (이론편)</a>\n<a href=\"https://techblog.woowahan.com/2663/\">HikariCP Dead lock에서 벗어나기 (실전편)</a> </p>\n</blockquote>","frontmatter":{"title":"HikariCp Connection Pool 값 설정","date":"October 20, 2023","update":"October 20, 2023","tags":["설정","Hikari CP","Connection Pool"],"series":null},"fields":{"slug":"/hikaricp-connection-pool-setting/","readingTime":{"minutes":8.795}}},"seriesList":{"edges":[{"node":{"id":"28f1d87e-d3fc-5567-8531-57649652864f","fields":{"slug":"/sprint-idea/"},"frontmatter":{"title":"구글 스프린트 기반 아이디어 도출"}}},{"node":{"id":"4a9246fb-171b-5973-88fc-864034e78afd","fields":{"slug":"/blog-starter/"},"frontmatter":{"title":"피움 블로그 생성과정"}}},{"node":{"id":"c826ce0e-1ea7-517c-8d19-84e90a59a798","fields":{"slug":"/jenkins-setting/"},"frontmatter":{"title":"젠킨스 설치하기"}}},{"node":{"id":"a387bf4f-567f-50e7-b6a7-99a1a1c8971b","fields":{"slug":"/jpa-notnull-nullable/"},"frontmatter":{"title":"@NotNull과 nullable = false는 어떤 차이가 있을까?"}}},{"node":{"id":"a78e224b-b711-5071-8e90-013d6f4bebc3","fields":{"slug":"/pium-deploy-step/"},"frontmatter":{"title":"피움의 배포과정"}}},{"node":{"id":"ce07fbab-1ed5-5f1e-8e2f-eb430879b56a","fields":{"slug":"/fe-tanstack-query/"},"frontmatter":{"title":"프론트엔드: Tanstack Query 사용에 대하여"}}},{"node":{"id":"159c943b-1a50-57dd-aa71-7557364752a5","fields":{"slug":"/ci-cd-setting/"},"frontmatter":{"title":"Jenkins와 Github Webhook을 이용해 CI/CD 구축하기"}}},{"node":{"id":"dea45a4a-bfde-5fbb-8a97-42d3a3e77a0b","fields":{"slug":"/jenkins-hook-by-label/"},"frontmatter":{"title":"PR 라벨로 젠킨스 빌드유발을 구분하기"}}},{"node":{"id":"707f8ffb-1409-5c27-b15a-5661b235c226","fields":{"slug":"/db-drop-stop/"},"frontmatter":{"title":"Table Drop 못하게 막아버리기"}}},{"node":{"id":"1a03734e-d413-553f-9152-1dad2fc4acca","fields":{"slug":"/apply-https/"},"frontmatter":{"title":"내 서버에 HTTPS 설정하기"}}},{"node":{"id":"cecbc8b9-db00-562b-aa0b-06c406cfc44a","fields":{"slug":"/bundle-analyze/"},"frontmatter":{"title":"bundle-analyze를 통한 bundle 크기 분석"}}},{"node":{"id":"fe4b591a-4dd5-5dd2-b18a-b318afd1e9e3","fields":{"slug":"/transactional-not-in-restassured/"},"frontmatter":{"title":"[트러블슈팅] @SpringbootTest의 RANDOM_PORT 환경에서 @Transactional 어노테이션을 사용했을 때, RestAssured GET 요청이 수행되지 않는 경우(트랜잭션 격리 이해하기)"}}},{"node":{"id":"80aa708e-ef8a-5c79-9644-cb8c04d55a63","fields":{"slug":"/acceptance-test-resolve/"},"frontmatter":{"title":"인수테스트 데이터 초기화하기"}}},{"node":{"id":"15def1d5-c20f-5d07-b46e-24a14661365f","fields":{"slug":"/react-setting-without-cra/"},"frontmatter":{"title":"webpack으로만 React 설정하기 (without CRA)"}}},{"node":{"id":"66383c86-e2c8-533a-90e0-2effae572742","fields":{"slug":"/stylelint-and-husky/"},"frontmatter":{"title":"stylelint와 husky를 통해 컨벤션 통일하기"}}},{"node":{"id":"ed5951d5-beda-5a8f-adb2-07c2fcb38d5e","fields":{"slug":"/OAuth2.0/"},"frontmatter":{"title":"내가 이해한 OAuth2.0"}}},{"node":{"id":"45eeb9a3-557d-5704-8fd9-925283e1e27b","fields":{"slug":"/restdocs-start/"},"frontmatter":{"title":"RestDocs로 API 문서화하기"}}},{"node":{"id":"663b560a-734d-51a9-a6dc-3c4f50716c74","fields":{"slug":"/spring-event-apply/"},"frontmatter":{"title":"Spring Event 적용하기"}}},{"node":{"id":"55ae8038-3f65-5a59-8db3-c7405e7fc125","fields":{"slug":"/github-actions-cypress/"},"frontmatter":{"title":"피움 Cypress 자동화 구축기"}}},{"node":{"id":"503e9e71-eda3-53d7-8142-7c309faf213e","fields":{"slug":"/why_we_applied_querydsl/"},"frontmatter":{"title":"피움 서비스의 Querydsl 도입 이유"}}},{"node":{"id":"709124d0-5b05-5530-804d-e90ec9856a13","fields":{"slug":"/querydsl_apply_procedure/"},"frontmatter":{"title":"피움 서비스의 Querydsl 적용 과정"}}},{"node":{"id":"5c865dcb-cefd-58be-8968-b5edf6c8080c","fields":{"slug":"/server-logging/"},"frontmatter":{"title":"Logback을 이용해 운영 환경 별 로그 남기기"}}},{"node":{"id":"8269f166-d041-533c-9d44-332d8d8c3dca","fields":{"slug":"/server-monitoring/"},"frontmatter":{"title":"CloudWatch를 이용한 모니터링 환경 구성"}}},{"node":{"id":"0faec7ad-3bd1-5f5e-9222-115f771df8ed","fields":{"slug":"/tanstack-query-cache-trouble-shooting/"},"frontmatter":{"title":"InfinityQuery에서 fetch가 제대로 이루어지지 않는다?!?!"}}},{"node":{"id":"c77f7199-7fc6-53a3-a1fb-0792e05655a7","fields":{"slug":"/OAuth2.0-backend/"},"frontmatter":{"title":"OAuth 2.0 로그인 구현하기 (카카오)"}}},{"node":{"id":"12e4480d-386b-5d0e-bd69-4209fed36066","fields":{"slug":"/OAuth-test-backend/"},"frontmatter":{"title":"외부 API 를 의존하는 OAuth 로그인 테스트하기"}}},{"node":{"id":"ff40e109-cc92-5d83-a213-ca9d07136d95","fields":{"slug":"/aws-s3-apply/"},"frontmatter":{"title":"AWS S3로 정적 이미지 배포하기"}}},{"node":{"id":"e343af80-72dd-5173-bbb5-5069a17d1200","fields":{"slug":"/search_in_spring_data_jpa/"},"frontmatter":{"title":"Spring Data Jpa를 활용한 검색 기능 개발하기"}}},{"node":{"id":"af344dd8-ea77-5fde-9452-a97952ce60be","fields":{"slug":"/submodule-apply/"},"frontmatter":{"title":"Git submodule을 이용한 민감정보 관리"}}},{"node":{"id":"08c9daf0-2344-52a9-8c68-31ac04c24ff0","fields":{"slug":"/tomcat-thread-config/"},"frontmatter":{"title":"톰캣 스레드 설정하기"}}},{"node":{"id":"eafed74f-ff11-5af1-a589-e9dd2ccb5c8e","fields":{"slug":"/http-cache/"},"frontmatter":{"title":"CloudFront와 HTTP 캐시"}}},{"node":{"id":"dbe47289-01f4-571d-9506-fbb92016f547","fields":{"slug":"/optimize-frontend/"},"frontmatter":{"title":"피움 최적화하기"}}},{"node":{"id":"7b830fe6-e2df-564a-926e-7f7800380336","fields":{"slug":"/query-analysis/"},"frontmatter":{"title":"서비스 내에서 발생하는 쿼리를 분석하고 개선하기"}}},{"node":{"id":"37437d15-a63e-52ef-b031-6ee1bc6fa8bc","fields":{"slug":"/image-resize/"},"frontmatter":{"title":"서버에서 이미지 리사이징하기"}}},{"node":{"id":"216f4636-4125-5765-83d8-a6a610692a41","fields":{"slug":"/dont-stop-deploy/"},"frontmatter":{"title":"무중단 배포 환경 구성하기"}}},{"node":{"id":"dd095976-5a96-51b5-9686-8956dc60cd24","fields":{"slug":"/hikaricp-connection-pool-setting/"},"frontmatter":{"title":"HikariCp Connection Pool 값 설정"}}},{"node":{"id":"625ad76f-acb1-56cc-9baa-3d6f1a954ac2","fields":{"slug":"/pwa/"},"frontmatter":{"title":"PWA를 도입해보자"}}},{"node":{"id":"6a12651c-e6b8-5fa6-9c57-766772d32680","fields":{"slug":"/serviceworker/"},"frontmatter":{"title":"Service Worker에 대한 대략적인 이해"}}},{"node":{"id":"ac7012e4-5b85-5040-b65e-c068968d7979","fields":{"slug":"/web-push/"},"frontmatter":{"title":"브라우저에서 알림 구현하기"}}},{"node":{"id":"b9709447-61dc-52f0-95a5-8670a3fbaaf4","fields":{"slug":"/installPrompt/"},"frontmatter":{"title":"홈화면에 추가 안내 prompt 만들기"}}},{"node":{"id":"09501eea-fa70-5c42-9ee1-f25a5ab08bb5","fields":{"slug":"/pium-apply-pwa/"},"frontmatter":{"title":"피움의 PWA 적용기"}}}]},"previous":{"fields":{"slug":"/dont-stop-deploy/"},"frontmatter":{"title":"무중단 배포 환경 구성하기"}},"next":{"fields":{"slug":"/pwa/"},"frontmatter":{"title":"PWA를 도입해보자"}}},"pageContext":{"id":"dd095976-5a96-51b5-9686-8956dc60cd24","series":null,"previousPostId":"216f4636-4125-5765-83d8-a6a610692a41","nextPostId":"625ad76f-acb1-56cc-9baa-3d6f1a954ac2"}},"staticQueryHashes":[],"slicesMap":{}}