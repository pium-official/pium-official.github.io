{"componentChunkName":"component---src-templates-post-jsx","path":"/apply-https/","result":{"data":{"site":{"siteMetadata":{"title":"pium.log"}},"markdownRemark":{"id":"1a03734e-d413-553f-9152-1dad2fc4acca","excerpt":"이 글은 우테코 피움팀 크루 '주노', '그레이', '조이', '하마드'가 작성했습니다. 서론 현재 피움팀 서버는  요청으로 이뤄져있다.\n는 WWW 상에서 정보를 주고 받는 프로토콜인데, 누군가 네트워크에서 신호를 가로채면 내용이 노출되는 문제가 발생할 수 있다.\n이를 해결해주는 프로토콜이 바로 이다. 는 정보를 암호화하는 SSL을 이용한 프로토콜이다. …","html":"<blockquote>\n<p>이 글은 우테코 피움팀 크루 '<a href=\"https://github.com/Choi-JJunho\">주노</a>', '<a href=\"https://github.com/kim0914\">그레이</a>', '<a href=\"https://github.com/yeonkkk\">조이</a>', '<a href=\"https://github.com/rawfishthelgh\">하마드</a>'가 작성했습니다.</p>\n</blockquote>\n<h2>서론</h2>\n<p>현재 피움팀 서버는 <code class=\"language-text\">HTTP</code> 요청으로 이뤄져있다.\n<code class=\"language-text\">HTTP</code>는 WWW 상에서 정보를 주고 받는 프로토콜인데, 누군가 네트워크에서 신호를 가로채면 내용이 노출되는 문제가 발생할 수 있다.\n이를 해결해주는 프로토콜이 바로 <code class=\"language-text\">HTTPS</code>이다.</p>\n<p><code class=\"language-text\">HTTPS</code>는 정보를 암호화하는 SSL을 이용한 프로토콜이다.\n현재는 TLS 방식도 사용되는데 여기에서 <strong>핵심은 보안 문제를 해결하기 위해 암호화</strong>를 한다는 것이다.</p>\n<p>대칭키와 공개키, 인증서와 같은 방식을 사용해 HTTPS를 적용할 수 있다.\n이번 글에서는 <code class=\"language-text\">Certbots</code>을 이용해 <code class=\"language-text\">HTTPS</code>를 nginx에 쉽게 설치하고 적용하는 방법을 다뤄본다.</p>\n<p>HTTP, HTTPS에 대한 자세한 내용은 별도의 글에서 다룰 예정이다.</p>\n<p><code class=\"language-text\">Let's Encrypt</code>에서는 인증서를 무료로 발급해주고 있고 <code class=\"language-text\">Certbots</code>과 함께 사용하기를 권장하기 때문에 <code class=\"language-text\">Certbots</code>을 사용하기로 결정했다.  </p>\n<p>이 내용은 아래 이미지에서 확인할 수 있다.<br>\n<figure class='gatsby-resp-image-figure' style='margin-bottom: 16px;'>\n    <span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; '>\n      <a class='gatsby-resp-image-link' href='/static/e76ad44ef122ab192a87e716b6101b6b/d880f/img.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 81.76470588235294%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAAAsTAAALEwEAmpwYAAADtklEQVR42lWU3WscZRSH9y8QjFH0QiUXloKK1qLeCuKdVbwQL2KwYhKrVUlLkjZZUmpSTdFoaUrxQrAoCl6IIApJmlRESZruZpNm89Xs90f2c3ZnP2d2Z2d3H89MatSBh9857zvzzu+c951xrKx62Q6l8SUqbIRUNsJF8uU61lVqtFFqbXSzTdmAiuQWmgl6E9R6m0arTUHmYnmNklbDoc2cpPrrCbTfToj2k/2pD+WXASqzg8IQ2vwIpbkRirOjNoVZJ4WZEapzZ2ksDNO4cUb0DMb8kMTDOAZef5HR46/iFM73HuNC/8uiL/Fp/wtcfOcok91dTL/9MNfefYifP+zk+uC9/HW2E9fYg2yN38+diQ52L3SwPd7B6tg9OHqHv+LM5HcMffItzs++59zn15i8/A1TV77m44nz9Lz2HEM9R/jyvcP8MNjFzFgXyxcP4730BDtXnmH36rPsXH0e19QRbowfwnHsjdN09zp5s+8cb/U76T85ygcfDTF4+hSn3u/h+CtP4uw+xKW+R/hx4AEWnPfhmuhkZ+pRAtNPcWf6KDuXn2bzi8dxTz6GY/HWBkuuLW66t7nl2cIteNa8rN++zabXw+6Wh9COm7jPRSqwjBpepBxdQttzCx60+Ap63EUtsUIl5sZRNVoUa01aLdm2dpt2q2XTsmnbNCVuiprNFqaoIWo0Rc0WDZv9uC3PO5LJFMFgiFA4TCQSteNwxIojBAIBwqEQkfD+fDgWJ7a3Z+eRUEAIEotGhDDJxB5mw8ChKArpdJpUKmWTSCQO8mQyaWvaQsmzly2SUgokU2ni6TzJrIplKC7PWOtYVTn25I0hcREVRxFxEY1G8fv94jRISAjKWEDm/T4fwYCfgN9HVJymyiapokE6VySpaqQzCrqu4SiUSuSLRRu1XKZQqaDV6zSaTYxGAyMWw5C5uuR106QuY6aoNPw/7F+2w9zaGtnNTdJeL4poZn2dorjRxFVN3NdWPeguD9V4Ak3c1eJxNF2nWq3+D13G7AXj8/ME5uYIXxednSUkeVByK7bGAwvz+P9cxv/7osR/EF66SVBe5vPt2q2y2hKWtlj9bkoVjpyUk8gq0mxFmpwlk8/LR66hGwa6lGerHAm9JT8EqU4zTHFTo6rpd9Fsx3Wjse8wI7sWT+VISnkJKcdG4n/ylOxgTI5RIh4jEYvYO5zIlclVGxTll/MvpjiUBVVVRRFn2btkMpkDrKOg5nNk1QrZUh2lVCNXKMv9GdSCSlGzKjCt3Tj4GP4GrQFJxnyZlVMAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='img.png' title='' src='/static/e76ad44ef122ab192a87e716b6101b6b/ca1dc/img.png' srcset='/static/e76ad44ef122ab192a87e716b6101b6b/e7570/img.png 170w,\n/static/e76ad44ef122ab192a87e716b6101b6b/f46e7/img.png 340w,\n/static/e76ad44ef122ab192a87e716b6101b6b/ca1dc/img.png 680w,\n/static/e76ad44ef122ab192a87e716b6101b6b/d880f/img.png 975w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span>\n    <figcaption class='gatsby-resp-image-figcaption'>img.png</figcaption>\n  </figure></p>\n<h2>Certbot 설치</h2>\n<p>서버에 HTTPS 설정을 해보자\n<a href=\"https://certbot.eff.org/\">Certbot 공식문서</a></p>\n<blockquote>\n<p>공식문서의 가이드를 따라 작성된 문서입니다.\n<a href=\"https://certbot.eff.org/instructions\">https://certbot.eff.org/instructions</a></p>\n</blockquote>\n<p><span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;'>\n      <a class='gatsby-resp-image-link' href='/static/095db82dc87fa8bc0f5efc7ef9267aa7/89066/a8ec6c59.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 52.352941176470594%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAABEElEQVR42qVS226DMAzN/3/aptFJ7AHEy4SgXAWFQjJuObO9puqqDk2bpUPsxBxfFUiiFw9vT8/Y3mPAWlj8XRQTdKcT0jTFOgwwxqDrOrq2aNsWdV1jnmdorVFVldgD+fFdfz4Dy4KNbE6C/1H8aZrmy/lyMsqyFAdcHJ1+az+CYgeOmmWZkOR5LmB7XVds2yaQDBys3Sn5t0KkVzibie/Ir4TcE9/3EUURgiCA53mih2GI18MBS99jpp4u1O/8eJRTU2V2GHE7xW8ZLtRgLpPBOmNmUDC4PhL43SVRFIW0yN0p/FPuB7ZL2FOZcRzL1JMkkUHx+uzuoTYfP0bmksZxlN3k3WNM0yRTfyST0fgEeUoOSi4fwRYAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='a8ec6c59' title='' src='/static/095db82dc87fa8bc0f5efc7ef9267aa7/ca1dc/a8ec6c59.png' srcset='/static/095db82dc87fa8bc0f5efc7ef9267aa7/e7570/a8ec6c59.png 170w,\n/static/095db82dc87fa8bc0f5efc7ef9267aa7/f46e7/a8ec6c59.png 340w,\n/static/095db82dc87fa8bc0f5efc7ef9267aa7/ca1dc/a8ec6c59.png 680w,\n/static/095db82dc87fa8bc0f5efc7ef9267aa7/02d09/a8ec6c59.png 1020w,\n/static/095db82dc87fa8bc0f5efc7ef9267aa7/9d567/a8ec6c59.png 1360w,\n/static/095db82dc87fa8bc0f5efc7ef9267aa7/89066/a8ec6c59.png 1440w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span></p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token comment\"># certbot을 설치하기 위한 snap을 설치한다.</span>\n<span class=\"token function\">sudo</span> <span class=\"token function\">apt</span> update\n<span class=\"token function\">sudo</span> <span class=\"token function\">apt</span> <span class=\"token function\">install</span> snapd\n\n<span class=\"token comment\"># 이미 설치되어있는 certbot을 제거한다.</span>\n<span class=\"token function\">sudo</span> <span class=\"token function\">apt-get</span> remove certbot\n\n<span class=\"token comment\"># certbot을 설치한다.</span>\n<span class=\"token function\">sudo</span> snap <span class=\"token function\">install</span> <span class=\"token parameter variable\">--classic</span> certbot\n\n<span class=\"token comment\"># certbot이 잘 설치되어있는지 확인한다.</span>\n<span class=\"token function\">sudo</span> <span class=\"token function\">ln</span> <span class=\"token parameter variable\">-s</span> /snap/bin/certbot /usr/bin/certbot\n\n<span class=\"token comment\"># certbot을 nginx에 연결하기</span>\n<span class=\"token function\">sudo</span> certbot <span class=\"token parameter variable\">--nginx</span></code></pre></div>\n<h2>HTTPS 설정</h2>\n<p><span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;'>\n      <a class='gatsby-resp-image-link' href='/static/77f1fa1c84d64bf273fbf2a93927177e/96d37/5498d43a.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 100.58823529411765%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAC0ElEQVR42n2USU9iURCFAQcmAQH1wXvAY2hGjUE3uNCk08SN8QdJHBLtTkd0gy7an3v6flcuot26qFTd4Z06darui2SDrFJ+TolkRpkMllWtVrNWLpdVr9dVKBSUzWa1urqqSCTytZW9sqq+Aai+glQqFfm+r1KpZNfEnucpl8splUopmUxacJKzTqfTisVib4BeyVOv37NM8vm8vYxtbGxYZu4jANMmTs0BMfY5X1lZeQPc2tpSo9GwzDj8WEI0Gn3zxqLRmI2XDYbuXgSdKKlarVpQ53d2dmzZMCMmcaWYVzGXVTyRsCVT/j8ackB5lOB0AvDm5kZPT0+6u7vT7e2tpg8P+vP7p35dX+ry6kpXxiaTiS4uLvRgzg4PD+caGnaUDFMaAMNms6nxeKyzszOdn5/r9PTUxt9/jDU6OtLJ8bGOjO/3+xoMBjo4OLD6W0BYUVqxWLSlAUp5NATmyxotdPrKtre3FQSBBd3c3Fx0Dg/g62xm7BqPNNyDEd0lGX6RLG+YwCwHmAEggZtD9l0yJCFGIoA/HfLQXBp02qr5ptvFgiZG5JlpxuPjo+7v7zWbzfT8/KzpdKqXlxe7DzjM3g20s2Et0Mm3UKOar1EYqBH4Ks9fBwxhjKYYe6zfzeZHwJL5uN5syTNZy0FFnimvasaGZ4dWNIeG0Tw8wIBStgN9BxyGNbXMmHQ7HfkGFFaMEePQbretfv4HxsT/e1XWKnM2YRha0QFptVp2HgFjz70mup4wr4QXgtF5qoB1PB5/BQSsY9jxIUAcutHAL/8w3HziYYuRhI4vyu71evbZ7O7uajQa2VJ5Aaw529/fV7fbtUn39vbsmjvD4dDe5x5M19fXtba2poij7n5ZbniXY/Syv6/5PfZZUwWeNbHVlQDR0Qk9Ed0NMqWhJTHGGR/B5tOxQRNK5IeAjmRjD+3ITqk0DE/DSAD75Se3PDp/AXri/vc4VVIbAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='5498d43a' title='' src='/static/77f1fa1c84d64bf273fbf2a93927177e/ca1dc/5498d43a.png' srcset='/static/77f1fa1c84d64bf273fbf2a93927177e/e7570/5498d43a.png 170w,\n/static/77f1fa1c84d64bf273fbf2a93927177e/f46e7/5498d43a.png 340w,\n/static/77f1fa1c84d64bf273fbf2a93927177e/ca1dc/5498d43a.png 680w,\n/static/77f1fa1c84d64bf273fbf2a93927177e/96d37/5498d43a.png 823w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span></p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token comment\"># certbot이 SSL 인증서를 자동 갱신하는 cron을 등록한다</span>\n<span class=\"token function\">sudo</span> certbot renew --dry-run</code></pre></div>\n<h2>NGINX 설정 확인</h2>\n<p>NGINX 설정에 다음과 같이 certbot이 HTTPS 설정을 추가한 것을 확인할 수 있다.</p>\n<p><span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;'>\n      <a class='gatsby-resp-image-link' href='/static/5a394047db5167b37d0a036395d75c95/baa93/3d08df23.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 70%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAACLklEQVR42pWUWZLaMBRF2UzjeR5kWx4AGzOY7qahSFWygux/AzdXMqT4oSv5OH6SLd03lhehE8P1C5heAcsTXJfw/AqOy3dWBouY/8HCMDM4gYCXFfDzGmnaIYlb+BRdmine+F1Zg4eNfxFUD8dOEdgR4rBEKAZE1YiINmbEMqgQBRK2nZFcY5GHg2dH1kPQsPIZM0Fc79H/+o12vOCUSJzzFlNG0gZX0aGPazSRRB1WaBTBbNU+YbkWj1AtRrBcxvCCEvVwQsEoC9a14AXBg6W6yG+ZI+AzwsgVCBXcR8QjSuNJMEfWHpF0E4SboWWjhBLkJanWtBFFu/UJLu3bU12XT2n/FTSV12KrU06SDmXcIIsIGyS4zplmRAeqaaqOhpG+boqOkCGnKrr+DHG4oRk+MOwvaPZXlPsbxPAFN2xg+xIenbhs1PeCKkLZU3QHuTqhKkZU+RZdMSBlI5SYG9RazI87zmv1WtC2hU5ZHfKZZhAoeNmpEHhSj4NhJJyCdLbENF+knFcbOFJCMIKKIkU8oBQTivyIPN0h8BssH2Jkebczs7CyhjU7WDhhjXx8h9y8c1wu6McrjscfOLCO6+0Vbf+B1XrCanPChmeG7Se61QRZnNDJLzreo6RzS2WpBTkC6TihGs+6CePhQrELtqTn/jDdZpH6E7v+J1radXtBGLTwPNbWrTSqB1rQ5k9AdVij6klr6yGdreMKfdiyuCemqWqVM/VEY9wx7yn/AaQ4wb13oUFBAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='3d08df23' title='' src='/static/5a394047db5167b37d0a036395d75c95/ca1dc/3d08df23.png' srcset='/static/5a394047db5167b37d0a036395d75c95/e7570/3d08df23.png 170w,\n/static/5a394047db5167b37d0a036395d75c95/f46e7/3d08df23.png 340w,\n/static/5a394047db5167b37d0a036395d75c95/ca1dc/3d08df23.png 680w,\n/static/5a394047db5167b37d0a036395d75c95/02d09/3d08df23.png 1020w,\n/static/5a394047db5167b37d0a036395d75c95/baa93/3d08df23.png 1236w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span></p>\n<h2>Reference</h2>\n<p><a href=\"https://certbot.eff.org/instructions\">https://certbot.eff.org/instructions</a></p>","frontmatter":{"title":"내 서버에 HTTPS 설정하기","date":"July 28, 2023","update":"July 28, 2023","tags":["HTTPS"],"series":null},"fields":{"slug":"/apply-https/","readingTime":{"minutes":2.635}}},"seriesList":{"edges":[{"node":{"id":"28f1d87e-d3fc-5567-8531-57649652864f","fields":{"slug":"/sprint-idea/"},"frontmatter":{"title":"구글 스프린트 기반 아이디어 도출"}}},{"node":{"id":"4a9246fb-171b-5973-88fc-864034e78afd","fields":{"slug":"/blog-starter/"},"frontmatter":{"title":"피움 블로그 생성과정"}}},{"node":{"id":"c826ce0e-1ea7-517c-8d19-84e90a59a798","fields":{"slug":"/jenkins-setting/"},"frontmatter":{"title":"젠킨스 설치하기"}}},{"node":{"id":"a387bf4f-567f-50e7-b6a7-99a1a1c8971b","fields":{"slug":"/jpa-notnull-nullable/"},"frontmatter":{"title":"@NotNull과 nullable = false는 어떤 차이가 있을까?"}}},{"node":{"id":"a78e224b-b711-5071-8e90-013d6f4bebc3","fields":{"slug":"/pium-deploy-step/"},"frontmatter":{"title":"피움의 배포과정"}}},{"node":{"id":"ce07fbab-1ed5-5f1e-8e2f-eb430879b56a","fields":{"slug":"/fe-tanstack-query/"},"frontmatter":{"title":"프론트엔드: Tanstack Query 사용에 대하여"}}},{"node":{"id":"159c943b-1a50-57dd-aa71-7557364752a5","fields":{"slug":"/ci-cd-setting/"},"frontmatter":{"title":"Jenkins와 Github Webhook을 이용해 CI/CD 구축하기"}}},{"node":{"id":"dea45a4a-bfde-5fbb-8a97-42d3a3e77a0b","fields":{"slug":"/jenkins-hook-by-label/"},"frontmatter":{"title":"PR 라벨로 젠킨스 빌드유발을 구분하기"}}},{"node":{"id":"1a03734e-d413-553f-9152-1dad2fc4acca","fields":{"slug":"/apply-https/"},"frontmatter":{"title":"내 서버에 HTTPS 설정하기"}}},{"node":{"id":"cecbc8b9-db00-562b-aa0b-06c406cfc44a","fields":{"slug":"/bundle-analyze/"},"frontmatter":{"title":"bundle-analyze를 통한 bundle 크기 분석"}}},{"node":{"id":"707f8ffb-1409-5c27-b15a-5661b235c226","fields":{"slug":"/db-drop-stop/"},"frontmatter":{"title":"Table Drop 못하게 막아버리기"}}},{"node":{"id":"fe4b591a-4dd5-5dd2-b18a-b318afd1e9e3","fields":{"slug":"/transactional-not-in-restassured/"},"frontmatter":{"title":"[트러블슈팅] @SpringbootTest의 RANDOM_PORT 환경에서 @Transactional 어노테이션을 사용했을 때, RestAssured GET 요청이 수행되지 않는 경우(트랜잭션 격리 이해하기)"}}},{"node":{"id":"80aa708e-ef8a-5c79-9644-cb8c04d55a63","fields":{"slug":"/acceptance-test-resolve/"},"frontmatter":{"title":"인수테스트 데이터 초기화하기"}}},{"node":{"id":"15def1d5-c20f-5d07-b46e-24a14661365f","fields":{"slug":"/react-setting-without-cra/"},"frontmatter":{"title":"webpack으로만 React 설정하기 (without CRA)"}}},{"node":{"id":"66383c86-e2c8-533a-90e0-2effae572742","fields":{"slug":"/stylelint-and-husky/"},"frontmatter":{"title":"stylelint와 husky를 통해 컨벤션 통일하기"}}},{"node":{"id":"ed5951d5-beda-5a8f-adb2-07c2fcb38d5e","fields":{"slug":"/OAuth2.0/"},"frontmatter":{"title":"내가 이해한 OAuth2.0"}}},{"node":{"id":"45eeb9a3-557d-5704-8fd9-925283e1e27b","fields":{"slug":"/restdocs-start/"},"frontmatter":{"title":"RestDocs로 API 문서화하기"}}},{"node":{"id":"663b560a-734d-51a9-a6dc-3c4f50716c74","fields":{"slug":"/spring-event-apply/"},"frontmatter":{"title":"Spring Event 적용하기"}}}]},"previous":{"fields":{"slug":"/jenkins-hook-by-label/"},"frontmatter":{"title":"PR 라벨로 젠킨스 빌드유발을 구분하기"}},"next":{"fields":{"slug":"/bundle-analyze/"},"frontmatter":{"title":"bundle-analyze를 통한 bundle 크기 분석"}}},"pageContext":{"id":"1a03734e-d413-553f-9152-1dad2fc4acca","series":null,"previousPostId":"dea45a4a-bfde-5fbb-8a97-42d3a3e77a0b","nextPostId":"cecbc8b9-db00-562b-aa0b-06c406cfc44a"}},"staticQueryHashes":[],"slicesMap":{}}