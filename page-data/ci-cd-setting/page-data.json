{"componentChunkName":"component---src-templates-post-jsx","path":"/ci-cd-setting/","result":{"data":{"site":{"siteMetadata":{"title":"pium.log"}},"markdownRemark":{"id":"159c943b-1a50-57dd-aa71-7557364752a5","excerpt":"이 글은 우테코 피움팀 크루 '그레이'가 작성했습니다. 이번 피움 서비스에서 CI/CD를 적용하기 위해 Jekins와 Github Webhook을 이용했습니다. 본 글에서는 Jenkins와 Github Webhook을 이용한 SpringBoot 서버 자동 빌드, 자동 배포 과정을 다루겠습니다. Jenkins 설치 과정은 피움 팀 젠킨스 설치하기 를 참고하…","html":"<blockquote>\n<p>이 글은 우테코 피움팀 크루 '<a href=\"https://github.com/Kim0914\">그레이</a>'가 작성했습니다.</p>\n</blockquote>\n<p>이번 피움 서비스에서 CI/CD를 적용하기 위해 Jekins와 Github Webhook을 이용했습니다.</p>\n<p>본 글에서는 Jenkins와 Github Webhook을 이용한 SpringBoot 서버 자동 빌드, 자동 배포 과정을 다루겠습니다.</p>\n<p>Jenkins 설치 과정은 <a href=\"https://pium-official.github.io/jenkins-setting/\">피움 팀 젠킨스 설치하기</a> 를 참고하시면 됩니다 !</p>\n<p>작업 환경</p>\n<ul>\n<li>인스턴스: AWS EC2 t4g.small</li>\n<li>OS: Ubuntu 22.04.2 LTS</li>\n<li>RAM: 2GB</li>\n</ul>\n<h2>Jenkins 접속</h2>\n<p>젠킨스를 접속하는 방법은 간단합니다. 젠킨스를 설치한 인스턴스 public IP와 port를 주소창에 입력하면 쉽게 접근할 수 있습니다.</p>\n<p>정상적으로 접속하면 다음과 같은 화면을 만나게 됩니다.\n<span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;'>\n      <a class='gatsby-resp-image-link' href='/static/714cdc2e70d78f318a24f0bfa41486a1/bbbf7/img.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 49.411764705882355%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAABMUlEQVR42q1RW27CMBD0zYB+0R/6i9Qf1CPQA8FpEPQqCIhD/Fzb091NW6kPVUJipVU22cl4Zmyel0usVi+Yzx8xnc4wmz3825PJFJvNFvv9AbvdDofDG9brV/1/sXiCsf0VznnU2n51KfXPOWfSTilrE41zjAlmGAYeIj6rcWeqSnBL5TySm9PpjPP5wiePBPJ0PsINHrZ3DCwIIaHreoTISliZtT27irrzjJVd5B1RgRG7l0sHKqSEVBmUPIhPtAODWGlhYCckgdDYghsc+iFATKSUIC4LR5HYuiqUE9Vua6owkuRSEXJVoJT3gdWVj7wSuwgczfgu2Ym6LITWXtWSyB9lE+c3ym/te0ayCyF+kcbIKkvRO5DvgjHH40lzEEUp0c2X8bNMCEGt3qsM7lzvFp3wHPm6DicAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='img' title='' src='/static/714cdc2e70d78f318a24f0bfa41486a1/ca1dc/img.png' srcset='/static/714cdc2e70d78f318a24f0bfa41486a1/e7570/img.png 170w,\n/static/714cdc2e70d78f318a24f0bfa41486a1/f46e7/img.png 340w,\n/static/714cdc2e70d78f318a24f0bfa41486a1/ca1dc/img.png 680w,\n/static/714cdc2e70d78f318a24f0bfa41486a1/02d09/img.png 1020w,\n/static/714cdc2e70d78f318a24f0bfa41486a1/bbbf7/img.png 1280w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span></p>\n<hr>\n<h2>Github Webhook 설정</h2>\n<p>먼저 Webhook을 설정하기 위해 현재 프로젝트의 깃허브 레포지토리로 이동합니다.</p>\n<p>레포지토리의 Settings를 눌러서 접속할 수 있습니다. 이후 왼쪽 메뉴바에 Webhooks를 누르면 아래와 같은 화면을 볼 수 있습니다.\n<span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;'>\n      <a class='gatsby-resp-image-link' href='/static/88c4995821b586b038ddb80cefdee513/bbbf7/img_1.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 54.70588235294118%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABEElEQVR42qVS23KFIAw8//+ZPV7QIngBPRBgmzBqX/pkd2YHAmSTkLw2v2PZHOy8wtgFy+owMw3bozaY+W7d/E07GWx8RikjUEKICf4IOELEJxJeOHEcB1JKl4nID3qlsDmHnDOInVMiZCZRRGRnYQgBk7F1L6iCpRTMy1LpvL8D9L1C23Vo2w5d1/PKVBqNmjAYrmr12PededSgt6BAcynDOHKkWG15IHshEd1roIKYCieBP3ELWjtXBwFlArvgCapgygVqGM/UC9xn509PzwWJS3g3fS1bBDN3sJR/ZCjOnpsh/3Z97lOcgsC31tB6guMxeZrdb1PYf1nXOjJXYx6XLCXKQH+9m8rwCbjOnvAHGGJhDhIh4l4AAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='img 1' title='' src='/static/88c4995821b586b038ddb80cefdee513/ca1dc/img_1.png' srcset='/static/88c4995821b586b038ddb80cefdee513/e7570/img_1.png 170w,\n/static/88c4995821b586b038ddb80cefdee513/f46e7/img_1.png 340w,\n/static/88c4995821b586b038ddb80cefdee513/ca1dc/img_1.png 680w,\n/static/88c4995821b586b038ddb80cefdee513/02d09/img_1.png 1020w,\n/static/88c4995821b586b038ddb80cefdee513/bbbf7/img_1.png 1280w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span></p>\n<p>오른쪽 상단의 Add Webhook 버튼을 눌러 webhook을 추가하는 화면으로 이동합니다.</p>\n<p>그러면 아래와 같은 Payload URL, Content Type, Secret을 입력하는 폼이 나타납니다.\n<span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;'>\n      <a class='gatsby-resp-image-link' href='/static/c9f86ed3f14eb7f8d26b35ebd50a1b81/bbbf7/img_2.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 87.64705882352942%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB40lEQVR42p2UaW7bMBCFdfaiPUHQnqYw0D8BcoKibeLIkhftmyWR4qLXGcpWlPzwEgIfuInPnDdjeuu4R5B0CHcH+MEWZX2EGDR6qT4wfEAteoWOxnYc4dWtxLEb0BxbVHWDrhcQ/KGQM4IOnNe4l8M0dwgBKaczIws+v/h4Xm/gb0IEQYDNJkAYhsQWu91+mm+32NDey3qN11d/Xmf8fYZ/YY6sPIKbV7YGSa3RCQ1rLbQ2MMa4MffGvK0xWms3n7GAIjhcd8M4jpAkCQYpYRYi4+mDN3CxjTgJRkmGfZQiL2oUVUNXr9G0PaTSlBz1DntBlXcmwSh2fnVdj4EOyYGNli60e9oseCDBmEIuq5qyTFQVsjynbPefE0yzHJqTQBNjR+ejpV6Tj4pMZ3isT75eFeTD80HuzYQTPAmxn8xNHqZpgizLHJztJE0RRRHiOHbwmrVmyuN4HS/JaxJLkaYZyrJyIQ9KQS24y8O8KMGZ3lL1H+hmhsIerxXdJUEpespwRXVYoChL5HnhyubTgnHaQrZTiXDtqTOUhIFqkv85t3g3e7j684TV70f8+vuEsqkhen5hhLtl23U3F/h8w6+r7/i2+oEvPx9QiWbaXHg43ojF9EB4736FFs6vhl1wT8j/ASXRfKJMUiADAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='img 2' title='' src='/static/c9f86ed3f14eb7f8d26b35ebd50a1b81/ca1dc/img_2.png' srcset='/static/c9f86ed3f14eb7f8d26b35ebd50a1b81/e7570/img_2.png 170w,\n/static/c9f86ed3f14eb7f8d26b35ebd50a1b81/f46e7/img_2.png 340w,\n/static/c9f86ed3f14eb7f8d26b35ebd50a1b81/ca1dc/img_2.png 680w,\n/static/c9f86ed3f14eb7f8d26b35ebd50a1b81/02d09/img_2.png 1020w,\n/static/c9f86ed3f14eb7f8d26b35ebd50a1b81/bbbf7/img_2.png 1280w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span></p>\n<p><strong>Payload URL</strong>은 젠킨스가 설치되어 있는 서버의 <code class=\"language-text\">도메인 주소:포트/github-webhook/</code> 을 입력합니다.</p>\n<p>젠킨스의 기본 포트는 8080으로 설정되어 있습니다.</p>\n<p>주소 마지막에 / 는 꼭 넣어주셔야 합니다.</p>\n<p>/를 넣지 않으면 redirect URL로 인식해 정상적으로 동작하지 않습니다.</p>\n<p><strong>Content-type</strong>은 <code class=\"language-text\">application/json</code>을 선택합니다.</p>\n<p>Secret은 비워두면 됩니다.</p>\n<p>마지막으로 어떤 동작에서 webhook을 발생시킬지 선택하면 됩니다.</p>\n<p>저희 팀의 경우에는 <strong>Let me select individual events</strong>를 눌러 <strong>push</strong>와 <strong>pull request</strong>가 발생했을 때 webhook이 동작하도록 선택했습니다.</p>\n<p>모든 선택을 마친 후 <strong>Add webhook 버튼을 누르면 토큰이 발행</strong>됩니다.</p>\n<p>토큰을 생성할 때 토큰 권한도 함께 설정할 수 있는데, 이 때 repo와 admin:repo_hook을 선택해주시면 됩니다.</p>\n<p>만약 CI를 통해 PR에 comment를 남기는 등의 write가 필요없는 경우에는 wirte 권한을 빼줄 수 있을 것 같습니다.</p>\n<p>해당 토큰은 생성 후 재발행되지 않기 때문에 따로 보관을 하는 것이 좋습니다.</p>\n<hr>\n<h2>Credentials 생성</h2>\n<p>다시 젠킨스 화면으로 이동해서 Credentials를 등록하여 Github webhook을 연동 시켜야 합니다.</p>\n<p>젠킨스 메인 화면에서 Jenkins 관리 페이지로 접속하면 Security 탭에 Credentials를 눌러 접속합니다.\n<span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;'>\n      <a class='gatsby-resp-image-link' href='/static/eeb60e900905f7bc182e9621a1488b8a/baa93/img_3.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 75.88235294117648%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB0ElEQVR42pVTgW6rMAzk/39y0tRRKBQIJJCEEL87A33q1E5bJIsqte8uPrvw3ss0TSKS5Tzrusrl8iVledXf308+UmNcxZhZxnER71cJYZXCGCPOuaeCbdtAYhEOiUH+cgoW3u+dWGsfl2SuqgYKK9w7qEwgyQdZlq5jDYX4R1jrZVmiFG3bo/CGhEFlMwhA+fwyqJKqeVLakDuBcJC+dzIMTr8kmSa/A16vjQKEkDRiTOiLRaIBa5B5XhQ0hKjA1i5yu7XSNC3UzSqCNRnNLajMuQVKNlXD5/K7LB7sI4pnBaU5OW9aRJWsYZDsJFLAum7hlFWGXeWqCePoVIUxk5LwjipZ9LD5u+00pW3vR492ZgbZQghH/+LDlNOYJ6wzjr+K/SnPibzr++F5Bs8cjFm6lBLrm2xNI3BD4BDt3wFfzdLZ+K4b0COv/fSIxP8AMn18So+hH6+VJI5bWXLW3gOmlHSo65qzWKuTfHaCygwTFih03CK4vIIgQSVr2JK3gDMURbDSkN2U3f0NoA6uG7jvOa/oedC5jZLwff1kAHJDOIfcIj49sgDFcrqc8+vVe7eTdL6q7ohWOFpcAK7bK6d/Bchnc1v+PzmqQTn/DPgPV6WWi+Dj700AAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='img 3' title='' src='/static/eeb60e900905f7bc182e9621a1488b8a/ca1dc/img_3.png' srcset='/static/eeb60e900905f7bc182e9621a1488b8a/e7570/img_3.png 170w,\n/static/eeb60e900905f7bc182e9621a1488b8a/f46e7/img_3.png 340w,\n/static/eeb60e900905f7bc182e9621a1488b8a/ca1dc/img_3.png 680w,\n/static/eeb60e900905f7bc182e9621a1488b8a/02d09/img_3.png 1020w,\n/static/eeb60e900905f7bc182e9621a1488b8a/baa93/img_3.png 1236w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span></p>\n<p>Add Credentials를 누릅니다.\n<span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;'>\n      <a class='gatsby-resp-image-link' href='/static/7a5b569bed511798c15faed3c85bba2b/e4ddf/img_4.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 28.82352941176471%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAkUlEQVR42q2P6w6CMAyFef/HNMi4iGNssHW34wnRxH9i9CQnbZP2a9t0nYJSA92jba9YFoNf1BjjMPQjQSus3bFtAfqu4dyOGAtCSKddayWQoGnx2HxGzgUpFVwGi/G2wvsAkURw/miRjFIIFBFEgjKLQ9xieN00z9Baszl997JI5FXcEN4Ga32G+krPA/FnPQABGNhYehKerAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='img 4' title='' src='/static/7a5b569bed511798c15faed3c85bba2b/ca1dc/img_4.png' srcset='/static/7a5b569bed511798c15faed3c85bba2b/e7570/img_4.png 170w,\n/static/7a5b569bed511798c15faed3c85bba2b/f46e7/img_4.png 340w,\n/static/7a5b569bed511798c15faed3c85bba2b/ca1dc/img_4.png 680w,\n/static/7a5b569bed511798c15faed3c85bba2b/02d09/img_4.png 1020w,\n/static/7a5b569bed511798c15faed3c85bba2b/e4ddf/img_4.png 1082w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span></p>\n<p>그러면 아래와 같은 화면을 볼 수 있습니다.</p>\n<p>깃허브 webhook에서 발급받은 토큰을 이용해 크리덴셜 값을 생성합니다.\n<span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;'>\n      <a class='gatsby-resp-image-link' href='/static/da40bf6b3f114efc1945300dbdb20c63/b034b/img_5.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 83.52941176470588%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAAAsTAAALEwEAmpwYAAABT0lEQVR42qWUa26DMBCEffVep397iko9QaU2FYqSUCUE29gYP5juLklURWoTAtInIQzr2dkxqq6/sV5vsFpVqKo1cs5Ycqm21bCdg/Me3vcYx/HhYvytclTE2g6G8H1ALiNRkDKTZxFTgkopo2mOCCFIu7KYmCQ7zqGQECmojYUhtDFyr7VFqw2GmE5KbxOpDr8vBQ+k0Dl35QdmKxQPp4It+eimXYYoXvD9XA8ZxQPgAjwYay06mngpj09acbFGWvYy3UJ+sLnMvREaz5xbnnLYS2x+E6h9NvoWnIgzKpOi/b7BdlvLpKfWJ8xp+v9xODT4qjU+Ni0a7UkhGRnCcGmTsziHSApdyOhClkEqfsCZk6MnJ6XM5CrYQ6TYHDWFmYMcUXhhAaoUkhqctM273Xsy/kK97wa8fvYIiWRjXK7w+c3g6WUP05fLkVvyP/wBBas4+001170AAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='img 5' title='' src='/static/da40bf6b3f114efc1945300dbdb20c63/ca1dc/img_5.png' srcset='/static/da40bf6b3f114efc1945300dbdb20c63/e7570/img_5.png 170w,\n/static/da40bf6b3f114efc1945300dbdb20c63/f46e7/img_5.png 340w,\n/static/da40bf6b3f114efc1945300dbdb20c63/ca1dc/img_5.png 680w,\n/static/da40bf6b3f114efc1945300dbdb20c63/02d09/img_5.png 1020w,\n/static/da40bf6b3f114efc1945300dbdb20c63/b034b/img_5.png 1072w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span></p>\n<p><strong>kind</strong>는 <code class=\"language-text\">Username with password</code>를 선택합니다.</p>\n<p><strong>username</strong>에는 깃허브 토큰을 발급받은 <code class=\"language-text\">깃허브 아이디</code>를 작성합니다.</p>\n<p><strong>password</strong>에는 <code class=\"language-text\">해당 토큰 값</code>을 넣으면 됩니다.</p>\n<p><strong>ID</strong>는 젠킨스에서 이 <strong>크리덴셜을 식별하기 위한 이름이므로 크게 의미가 없는 값</strong> 입니다.</p>\n<hr>\n<h3>Gradle 설정</h3>\n<p>현재 우리 팀은 스프링 부트 서버를 빌드하기 때문에 gradle이 반드시 필요합니다.</p>\n<p>젠킨스 메인 화면에서 대시보드 -> 젠킨스 관리 -> Tools를 누르면 아래와 같은 Gradle 설정 화면을 볼 수 있습니다.\n<span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;'>\n      <a class='gatsby-resp-image-link' href='/static/dc8e606c0d893391862fc9aeb13e7aee/23e59/img_6.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 81.17647058823529%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAAAsTAAALEwEAmpwYAAABJElEQVR42qWTC26EMAxEOXGP1Vv0GL0Cu2KBEAhJyG9qO/1QqVIbGmlAAfEyY+wuhAClFpRSRP9dXYwJt9uEvh+htQXvWZeBfNHrhmEYsSwaKVXgVbcC3K3HNGtY6wQWQkTO+TrQOo/N7EgEYWNVpU2citIJ0BiDeZ7lhJKLuGtVipQqvgPVZvCYFDl1cN6L05TaFBlccgUOasVAwIXa5zFO2OiALPH/Hpnd8Tcdb/hHeKrjSn/bWksl2OXUllU4cjoBDYGmaRZQ5mfcPg3yNCDpw2EguqXaKb1RC7lal9yur8ipbrwPzVHPi5N99iG7qyNX5MUVsbmObrUGR7g8Hd8m5TgOHN5Vy+dG/anffulPqWGvIp6e73h5XZG8JaexfexOegOyqO+9u/tqSwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='img 6' title='' src='/static/dc8e606c0d893391862fc9aeb13e7aee/ca1dc/img_6.png' srcset='/static/dc8e606c0d893391862fc9aeb13e7aee/e7570/img_6.png 170w,\n/static/dc8e606c0d893391862fc9aeb13e7aee/f46e7/img_6.png 340w,\n/static/dc8e606c0d893391862fc9aeb13e7aee/ca1dc/img_6.png 680w,\n/static/dc8e606c0d893391862fc9aeb13e7aee/02d09/img_6.png 1020w,\n/static/dc8e606c0d893391862fc9aeb13e7aee/23e59/img_6.png 1098w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span></p>\n<p>Gradle 8.2.1 버전을 추가했습니다.</p>\n<p>추가를 완료하고 바로 페이지를 나가면 안됩니다.</p>\n<p>가장 아래에 있는 파란색 save 버튼을 눌러야 해당 설정이 저장됩니다 !!</p>\n<p>Gradle 설정까지 마치면 빌드할 준비를 모두 마쳤습니다.</p>\n<p>이제 CI를 자동으로 실행하기 위해서는 CI 스크립트를 작성해야 합니다.</p>\n<hr>\n<h2>CI 스크립트 작성</h2>\n<p>드디어 CI를 담당하는 젠킨스 아이템을 생성할 시간입니다 !</p>\n<p>대시보드에서 New Item을 누르면 아래와 같은 화면을 볼 수 있습니다.\n<span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;'>\n      <a class='gatsby-resp-image-link' href='/static/6df00fb04c89f3d1d4140127c5a51b6d/84a58/img_7.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 102.35294117647058%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAACb0lEQVR42p1USXLbMBDkJ/OfPCP/yBtyzCWHRLEsS6QocQUXgCBIWnFnGiIV2lV22Tl0zQKgORsnqCqNKEoQxynC8Aza1o7ouuFDMGZA70YEnXUoigqlqjGMj4IJbhifoXd84N5LOKBQLeq6lccT+l6iE5+dsdbfAkk9YVXl2G1/SMpnPOwPyLJMSHu5YAXdDcaYG2hrkXrWjbmej8OAwGqFIt5IHU/Ybu9xOISiH5EkqUTdCGqpawWlpCylghK9Ep9SSuzS36mq2uvOOQR15xAVjTQkun5llJr1TtIfME2TtxesbSd1HaXeg9R4EvvP0xOmywUBm2Dl8HQ6I81ySfmKJMme6Yw4z4tZljBMdUZnLR6FjAg6Icskld3ugF+bO9zd3WMjMi9KtFqjaRq0bevTZGrNrFOuox8ko2FkU1qD3THFMYr9Az5m3bSQEbT1TEys9TUZ60c9iPIa337GCKUZ53MiKSU+/QX0xfHpGeiPT1fJ2tPH5rDGAYeWkR0Oke/ww8Ped5ANWiJsmn+gvWA5591bhK02iE7J7cuRpE5CpsRxqf2IVHOarR8dEi0dXyTT9oS1XNrtI4Qyeww/Co9om/YWoR9mTd34AWYkhG/CC3hCXuJXMxkFdjaT0chXelEoD/oK8Vnb+zl9CfpJGjTaIj7zYYM0FZJMeaSpkgaVXubSOOr0v7YkbsvhWGh836Yoc9atmy+4lbzCE5l3bBvuvrbtZVAN6kb7rcMDN2PRueZI+hq07mF7LgdfAxpWtkf/6oN3L9iwrPHpyx6fvx6FVP5NPfrDj0Jr2Ys9Ux4H/E47RMrOv9Ljf2OaLvgL59X3vdpjMPoAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='img 7' title='' src='/static/6df00fb04c89f3d1d4140127c5a51b6d/ca1dc/img_7.png' srcset='/static/6df00fb04c89f3d1d4140127c5a51b6d/e7570/img_7.png 170w,\n/static/6df00fb04c89f3d1d4140127c5a51b6d/f46e7/img_7.png 340w,\n/static/6df00fb04c89f3d1d4140127c5a51b6d/ca1dc/img_7.png 680w,\n/static/6df00fb04c89f3d1d4140127c5a51b6d/84a58/img_7.png 972w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span></p>\n<p>상단에 아이템 이름을 설정하고 Pipeline을 구축할 것이기 때문에 Pipeline을 선택하고 OK를 누릅니다.</p>\n<p>이후 아래와 같이 아이템을 설정할 수 있는 화면이 나옵니다.\n<span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;'>\n      <a class='gatsby-resp-image-link' href='/static/6dda25c41475b6bea44e52dcc55c70f3/649dd/img_8.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 104.11764705882354%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAVCAYAAABG1c6oAAAACXBIWXMAAAsTAAALEwEAmpwYAAABnklEQVR42qWU606DQBCFeW1fyjfxh/+MUUOpbbrlfltgd+E4Zy01sdISO8mUksLXM2dmNkjTDFG0xTAMmGMYDMJwg6ZpcCsmfowOTy8feN0qBHGcY7+PobVF31t0nfFA65x/eJymmzkxCZdrkOcVlErAa1k2MMbBudH/iNNDE26Hh48CZKlt28rND8SJuqpuUPfjGTaDl1Q6eZ+MYOkf6V8i/tLjoqxgrPU+G2OvKg0uDJaodI+3zSfUQaGsKl+B1h3aRovH3XrgHFY8zEUVYVaUzaVO3qfRl/c77a2SddejFh8JxOzV6aVrHQ+WZoswJstlevCKWASyEUodZZwK5EUhI1Wdp+BfwOMxwXa7E5W1L3NtLAAnvy2d+Miuci7vAhKgVIyiKH2ZvF+rctnDokKSpB6qtb6vKQzCwjBCluWrYVcG2yETZYRxdLj0azq8uHpl2+F9s0OWprIttd9rzuK/x4bBQ+Egu/x9IJjVnf67KaKEI9O22ie/3wXkEcWmUCWvBNJHHrzX8uJwmC1KaoeHxwTPkcZoRN2pKWvyC/Vbd+UXG3z9AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='img 8' title='' src='/static/6dda25c41475b6bea44e52dcc55c70f3/ca1dc/img_8.png' srcset='/static/6dda25c41475b6bea44e52dcc55c70f3/e7570/img_8.png 170w,\n/static/6dda25c41475b6bea44e52dcc55c70f3/f46e7/img_8.png 340w,\n/static/6dda25c41475b6bea44e52dcc55c70f3/ca1dc/img_8.png 680w,\n/static/6dda25c41475b6bea44e52dcc55c70f3/02d09/img_8.png 1020w,\n/static/6dda25c41475b6bea44e52dcc55c70f3/649dd/img_8.png 1234w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span></p>\n<p>저희는 깃허브 프로젝트를 사용하고 있기 때문에 Github Project를 체크한 후 레포지토리의 url을 입력합니다.</p>\n<p>다음으로 Build Trigger를 선택해야하는데, Github webhook을 사용할 계획이므로 Github hook triger for GITScm polling을 선택합니다. 해당 버튼을 클릭하면 아래에 스크립트를 작성하는 칸이 나옵니다.\n<span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;'>\n      <a class='gatsby-resp-image-link' href='/static/bd8c7b72f56aa54df93f026f56661fe7/8dc7d/img_9.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 75.29411764705883%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA/UlEQVR42rVTu27DMAzUX/cD+j3ZunfpVnTr0KFAmymwHSe2bJl6X0gl6VzVroCTSAg8HXGUmqYZTdMi54wtlppn80MonGtQCJeF0LRHaD3Bh4AQYx3C9bTWlVPFlEBEDIvE8VXp73Ff91wl3rquwzAM8N5XwVqLvj9x/bHUR1GYbgolqVUnNdKZtQTnXOmwtCwvyeUmLv8bocjdhDCljODZch4ZiQXySPX43DxQISbsDx1Ow4iRZ/E8aEzGgHiualFMcT7i/fuA/sxE/A211sWxP7dc7GeMNmNy6/+zev0iPOxaPH8Y5OCxkFtH+LYnPD71ePkkBEcwxq4ivAB8BJ6XaIkQOwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='img 9' title='' src='/static/bd8c7b72f56aa54df93f026f56661fe7/ca1dc/img_9.png' srcset='/static/bd8c7b72f56aa54df93f026f56661fe7/e7570/img_9.png 170w,\n/static/bd8c7b72f56aa54df93f026f56661fe7/f46e7/img_9.png 340w,\n/static/bd8c7b72f56aa54df93f026f56661fe7/ca1dc/img_9.png 680w,\n/static/bd8c7b72f56aa54df93f026f56661fe7/8dc7d/img_9.png 888w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span></p>\n<p>Script칸에 팀에서 필요로 하는 CI Script를 입력하면 됩니다.</p>\n<p>여기서 저장 버튼 위에 보이는 Pipeline Syntax를 누르면 깃허브를 이용해 접근할 수 있는 스크립트를 생성하는 화면이 나옵니다.\n<span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;'>\n      <a class='gatsby-resp-image-link' href='/static/15781dae004666ce624f5a21f7b899ca/74b07/img_10.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 87.64705882352942%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAAAsTAAALEwEAmpwYAAABvklEQVR42p1UyU7DMBTM//8F4iuKxJXlgoALEoeWlpKmaZImjrPHHd44pARIW8DSyPv4LfPsxLFCVdVoGoO2NTBmhyRJkKYau91O5sb2Q3CN54hu/rnnLBYulss1wlBBqQJ13WK99jGbzfH25sLz1litPCwWS8znr3LWtftc8zzfgnP2eV7ACYIQ2+1WCNnH9pUkUfD9jSAA9znmhb7fbAI7juMEOsugtbYeVVXVE8Z20ratJeQm3fpPs4RBEFlSxoItirZI5VUj5K0Q/wbNhzEOzSfyPN+/khcFqrr+QWiOoGmajpBxIOhu3+h+VVb2wJ9dHlsshdCVLNJylaYCjUSlKPnICUvHCeWikhjSjVpcJxgCxulYHA8TioWM4xcx/zJBBwnDMBJLy7115oSrR10mCUWts9wiE/SldggsW2KUMFIafhRbIpL/O8u9TFZhAk/EXhdioU7/VDXfCLv+8u4JZ5MrnF9cY+pu7Jo5oslh8kZdvn9+weTmAZPbR0yXKxE6k9PYj0CJHlnrBDXKEqWcehU4Y68Nren+yO5P7ALf7hPQg8eJ0aTY30ZniOSzyIsSpN5nc6DJL+NBtt8BiNKBWl2aAGEAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='img 10' title='' src='/static/15781dae004666ce624f5a21f7b899ca/ca1dc/img_10.png' srcset='/static/15781dae004666ce624f5a21f7b899ca/e7570/img_10.png 170w,\n/static/15781dae004666ce624f5a21f7b899ca/f46e7/img_10.png 340w,\n/static/15781dae004666ce624f5a21f7b899ca/ca1dc/img_10.png 680w,\n/static/15781dae004666ce624f5a21f7b899ca/02d09/img_10.png 1020w,\n/static/15781dae004666ce624f5a21f7b899ca/74b07/img_10.png 1238w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span></p>\n<p>Sample Step을 Git으로 설정한 후 아래에 값을 입력하면 됩니다.</p>\n<p>Credentials에는 좀 전에 생성했던 크리덴셜을 선택하면 됩니다. 해당 정보에 토큰 값이 있기 때문에 정확한 크리덴셜을 선택해야 합니다.</p>\n<p>크리덴셜은 생성할 때 입력한 ID와 동일하게 보여집니다.</p>\n<p>모두 입력했다면 Generate Pipeline Script를 눌러 완성된 스크립트를 확인합니다.</p>\n<p>해당 스크립트를 만드는 이유는 빌드 과정에서 Github 저장소에서 저장소를 복제해야하기 때문입니다.</p>\n<p>그러므로 저장소에 대한 접근 권한이 반드시 필요합니다.</p>\n<p>전체 빌드 스크립트는 아래와 같습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">pipeline <span class=\"token punctuation\">{</span>\n    agent any\n    tools <span class=\"token punctuation\">{</span>\n        gradle <span class=\"token string\">'gradle'</span>\n    <span class=\"token punctuation\">}</span>\n    triggers <span class=\"token punctuation\">{</span>\n        githubPush<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n    stages <span class=\"token punctuation\">{</span>\n        stage<span class=\"token punctuation\">(</span><span class=\"token string\">'저장소 복제'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            steps <span class=\"token punctuation\">{</span>\n                // 여기서 방금 생성된 깃허브 스크립트 넣기\n        <span class=\"token punctuation\">}</span>\n        \n        stage<span class=\"token punctuation\">(</span><span class=\"token string\">'빌드'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            steps <span class=\"token punctuation\">{</span>\n                <span class=\"token function\">sh</span> <span class=\"token string\">''</span>'\n                <span class=\"token builtin class-name\">cd</span> backend/pium\n                ./gradlew clean build\n                <span class=\"token string\">''</span>'\n            <span class=\"token punctuation\">}</span>\n            post <span class=\"token punctuation\">{</span>\n                failure <span class=\"token punctuation\">{</span>\n                    slackSend <span class=\"token punctuation\">(</span>\n                        channel: <span class=\"token string\">'#알림-젠킨스'</span>,\n                        color: <span class=\"token string\">'#FF0000'</span>,\n                        message: <span class=\"token string\">\"백엔드 Build 실패...😢\"</span>\n                    <span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>stages에서 깃허브 저장소에 있는 프로젝트를 가져온 후, 본인의 프로젝트 디렉토리로 이동해 build를 진행하도록 하면 됩니다.</p>\n<p>디렉토리를 옮기는 부분에서 몇 번 에러가 있었는데, Jenkins 대시보드의 Console Output을 이용해 디버깅하면서 수정해나가면 쉽게 설정할 수 있습니다.</p>\n<p>지금까지 올바르게 적용되었다면 CI 설정은 모두 정상적으로 마쳤습니다.</p>\n<p>다음으로 CD(자동 배포) 설정 방법을 알아보겠습니다.</p>\n<hr>\n<h2>SSH Agent 설치</h2>\n<p>현재 빌드 서버와 운영 서버가 서로 다른 인스턴스로 분리되어 있기 때문에, 젠킨스 빌드 서버에서 빌드한 파일을 운영서버로 전달해야</p>\n<p>합니다. 이때 다른 인스턴스로의 접속이 필요하므로 SSH 연결 설정을 해야 합니다.</p>\n<p>기존의 블로그나 여러 레퍼런스를 찾아보면 Publish Over SSH를 많이 사용하는데, 현재 접속 불가 이슈가 있습니다.</p>\n<p>그러므로 SSH Agent를 사용해야 합니다.</p>\n<p>Jenkins 관리의 Plugin 탭을 들어가서 설치할 수 있습니다.</p>\n<p>Jenkins도 하나의 서버에서 동작하고 있기 때문에 운영서버로 접속하기 위한 pem 키가 필요합니다.</p>\n<p>대시보드 -> 젠킨스 관리 -> Credentials 로 이동합니다.</p>\n<p>깃허브 크리덴셜을 생성하는 것과 동일한 방법으로 pem 키를 크리덴셜로 설정합니다.\n<span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;'>\n      <a class='gatsby-resp-image-link' href='/static/3d725457a15753e0fdcec93acfa61a2f/bbbf7/img_11.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 53.529411764705884%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAs0lEQVR42q2SwRLCIAxE+f8/8R+8+xce6niojra0lBKgrEk69S6YmXeh02V3ien7B7ruhtFOkCmlMKikwKxrwBoIRBHbVpgNOdeSYaZphmV3IuwWj8DiTYIxJqQkZEU+7E7r0Mjee1VvReoyC8eU/mRanH0dinKMUTluacFYfpRhGPkxgh7UTuZ/dW2eb6sd/mtM4pjOORU9ov8CEelWn84XXO89d8hWZW1a+pOor3FGoIgP9rZj6Gx0/M4AAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='img 11' title='' src='/static/3d725457a15753e0fdcec93acfa61a2f/ca1dc/img_11.png' srcset='/static/3d725457a15753e0fdcec93acfa61a2f/e7570/img_11.png 170w,\n/static/3d725457a15753e0fdcec93acfa61a2f/f46e7/img_11.png 340w,\n/static/3d725457a15753e0fdcec93acfa61a2f/ca1dc/img_11.png 680w,\n/static/3d725457a15753e0fdcec93acfa61a2f/02d09/img_11.png 1020w,\n/static/3d725457a15753e0fdcec93acfa61a2f/bbbf7/img_11.png 1280w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span></p>\n<p><strong>kind</strong>는 <code class=\"language-text\">SSH Username with private key</code>를 선택합니다.</p>\n<p><strong>id</strong>는 깃허브 크리덴셜과 마찬가지로 식별자이기 때문에 <code class=\"language-text\">원하는 값을</code> 입력하면 됩니다.</p>\n<p><strong>username</strong>은 인스턴스의 HostName ex) ubuntu@123-345-678-23의 <code class=\"language-text\">ubuntu</code> 를 입력하면 됩니다.</p>\n<p>마지막으로 <strong>인스턴스를 생성하면서 받았던 pem 키를 Add 버튼을 눌러 추가</strong>합니다.</p>\n<p>pem 키에 있는 모든 내용(Begin, End 포함)을 다 복사해서 넣어야합니다.</p>\n<hr>\n<h2>CD 스크립트 작성</h2>\n<p>이제 젠킨스가 설치된 서버에서 빌드된 결과물을 운영 서버로 전달하는 스크립트를 작성해야 합니다.</p>\n<p>이때 scp 라는 프로토콜을 사용하여 파일을 전달합니다.</p>\n<p>저희 팀이 사용한 스크립트는 아래와 같습니다.</p>\n<p>빌드 성공 유뮤, 배포 성공 유무를 슬랙과 연동해 사용하고 있습니다 !</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">pipeline <span class=\"token punctuation\">{</span>\n    agent any\n    tools <span class=\"token punctuation\">{</span>\n        gradle <span class=\"token string\">'gradle'</span>\n    <span class=\"token punctuation\">}</span>\n    triggers <span class=\"token punctuation\">{</span>\n        githubPush<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n    stages <span class=\"token punctuation\">{</span>\n        stage<span class=\"token punctuation\">(</span><span class=\"token string\">'저장소 복제'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            steps <span class=\"token punctuation\">{</span>\n                // 깃허브 크리덴셜\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n        \n        stage<span class=\"token punctuation\">(</span><span class=\"token string\">'빌드'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            steps <span class=\"token punctuation\">{</span>\n                <span class=\"token function\">sh</span> <span class=\"token string\">''</span>'\n                <span class=\"token builtin class-name\">cd</span> //프로젝트 위치\n                ./gradlew clean build\n                <span class=\"token string\">''</span>'\n            <span class=\"token punctuation\">}</span>\n            post <span class=\"token punctuation\">{</span>\n                failure <span class=\"token punctuation\">{</span>\n                    slackSend <span class=\"token punctuation\">(</span>\n                        channel: <span class=\"token string\">'#알림-젠킨스'</span>,\n                        color: <span class=\"token string\">'#FF0000'</span>,\n                        message: <span class=\"token string\">\"백엔드 Build 실패...😢\"</span>\n                    <span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n        stage<span class=\"token punctuation\">(</span><span class=\"token string\">'배포'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            steps <span class=\"token punctuation\">{</span>\n                sshagent<span class=\"token punctuation\">(</span>credentials: <span class=\"token punctuation\">[</span><span class=\"token string\">'pem 키로 생성한 크리덴셜 ID'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                    <span class=\"token function\">sh</span> <span class=\"token string\">''</span>'\n                        <span class=\"token builtin class-name\">cd</span> //프로젝트 위치\n                        \n                        <span class=\"token function\">ssh</span> <span class=\"token parameter variable\">-o</span> <span class=\"token assign-left variable\">StrictHostKeyChecking</span><span class=\"token operator\">=</span>no <span class=\"token punctuation\">{</span>HostName<span class=\"token punctuation\">}</span>@<span class=\"token punctuation\">{</span>Private IP<span class=\"token punctuation\">}</span> <span class=\"token function\">uptime</span>\n                        <span class=\"token builtin class-name\">cd</span> build/libs\n                        \n                        <span class=\"token function\">scp</span> <span class=\"token punctuation\">{</span>빌드된 Jar 파일명<span class=\"token punctuation\">}</span> <span class=\"token punctuation\">{</span>HostName<span class=\"token punctuation\">}</span>@<span class=\"token punctuation\">{</span>Private IP<span class=\"token punctuation\">}</span>:/home/ubuntu\n                        <span class=\"token function\">ssh</span> <span class=\"token parameter variable\">-t</span> <span class=\"token punctuation\">{</span>HostName<span class=\"token punctuation\">}</span>@<span class=\"token punctuation\">{</span>Private IP<span class=\"token punctuation\">}</span> <span class=\"token punctuation\">{</span>운영서버 배포 스크립트 파일<span class=\"token punctuation\">}</span>\n                    <span class=\"token string\">''</span>'\n                <span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">}</span>\n            post <span class=\"token punctuation\">{</span>\n                success <span class=\"token punctuation\">{</span>\n                    slackSend <span class=\"token punctuation\">(</span>\n                        channel: <span class=\"token string\">'#알림-젠킨스'</span>,\n                        color: <span class=\"token string\">'#00FF00'</span>,\n                        message: <span class=\"token string\">\"백엔드 배포 성공! 🚀\"</span>\n                    <span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">}</span>\n                failure <span class=\"token punctuation\">{</span>\n                    slackSend <span class=\"token punctuation\">(</span>\n                        channel: <span class=\"token string\">'#알림-젠킨스'</span>,\n                        color: <span class=\"token string\">'#FF0000'</span>,\n                        message: <span class=\"token string\">\"백엔드 배포 실패 🥲\"</span>\n                    <span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>CI/CD 설정을 모두 마친 후 깃허브 프로젝트에 push, pull request와 같은 trigger가 발생하면 아래와 같이 빌드 결과를 볼 수 있습니다.\n<span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;'>\n      <a class='gatsby-resp-image-link' href='/static/b07a6d79f709673b8ffa107d58d45df6/bbbf7/img_12.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 84.11764705882354%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAAAsTAAALEwEAmpwYAAACdklEQVR42q1S227bMAzN//9PURTbc/qQoSiKpUmT2HFly5Zkyfdb7MRnlLIO6zCgQFEDhCWSIs855CKOEzw+PsHzfOx2B/h+AMYifPZbtG2LNNUoyxJZlqOqajRN8/mC+OLv6wvmeQGro1IphmF4F5zn2dnf9/+d3xUsipKGEEIIibbtPnz81uTfZh9S7roOm+0L9gcP4zi6u21+Pp/d2TKzjGxRe79cLs4Wb51sok04nUZM0+SS7CpZs347eaMNxU+oaROkZUQ+m1uWlWt6Pk9XhH0/UMccSSLAeew0NcYgCOxOMkipYDIDrTVSshc/wtP2iIBx51NKIZEpOqqzkHkDJjJsN89Yr9fXjkRNVRJh/YqoZhANR3qSUIOA6gVYEcA3HnjFfvsTF+vHDgvLu2larFYrZ1flgeykwQeGeAihTgmyOYW+SOizQtyHCJsAycBhLop8EmaWGKbeImzB0xKpkjRpca13mWEGDUaPooYoEwJzvj7UowSrAnhm59DbBnqSLtZPDuHs1uV+eY/lcvkHYT4aRF0A3hOtUSCftUOZXVKwOsBebxG1jHzaIbexK8KsRigMYh4hDCMq3qCpW8Q5h5ft4GcHsDJA3IXOItL1SL4DIQxy0pEY8DYkY2hPLRY1octpCN+/f8PNzQ2qukKR07LrAGvxhGfxk4ru8Vr5OJYHBIWHrVzj4bjCLt0gKH34xd7FmqHBwpQtVF5Dpymth3RTnsYJshauiNWLNyEkDcZa0nGH+LU8ur/oY+cXQ4zOTjk1BaJE4e7uDre3t+iHnhaWKBccG7XGC6Gwj61edrKW8l7v8OD/cHLYoVlNwzZAVhr8Ap6uFHRoqasBAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='img 12' title='' src='/static/b07a6d79f709673b8ffa107d58d45df6/ca1dc/img_12.png' srcset='/static/b07a6d79f709673b8ffa107d58d45df6/e7570/img_12.png 170w,\n/static/b07a6d79f709673b8ffa107d58d45df6/f46e7/img_12.png 340w,\n/static/b07a6d79f709673b8ffa107d58d45df6/ca1dc/img_12.png 680w,\n/static/b07a6d79f709673b8ffa107d58d45df6/02d09/img_12.png 1020w,\n/static/b07a6d79f709673b8ffa107d58d45df6/bbbf7/img_12.png 1280w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span></p>\n<h3>Reference</h3>\n<ul>\n<li><a href=\"https://developer-nyong.tistory.com/47#article-7-1--ssh-%ED%94%8C%EB%9F%AC%EA%B7%B8%EC%9D%B8-%EC%84%A4%EC%B9%98\">베베의 CI/CD 글</a></li>\n</ul>","frontmatter":{"title":"Jenkins와 Github Webhook을 이용해 CI/CD 구축하기","date":"July 24, 2023","update":"July 24, 2023","tags":["CI/CD","젠킨스","Webhook","설정"],"series":null},"fields":{"slug":"/ci-cd-setting/","readingTime":{"minutes":12.61}}},"seriesList":{"edges":[{"node":{"id":"28f1d87e-d3fc-5567-8531-57649652864f","fields":{"slug":"/sprint-idea/"},"frontmatter":{"title":"구글 스프린트 기반 아이디어 도출"}}},{"node":{"id":"4a9246fb-171b-5973-88fc-864034e78afd","fields":{"slug":"/blog-starter/"},"frontmatter":{"title":"피움 블로그 생성과정"}}},{"node":{"id":"c826ce0e-1ea7-517c-8d19-84e90a59a798","fields":{"slug":"/jenkins-setting/"},"frontmatter":{"title":"젠킨스 설치하기"}}},{"node":{"id":"a387bf4f-567f-50e7-b6a7-99a1a1c8971b","fields":{"slug":"/jpa-notnull-nullable/"},"frontmatter":{"title":"@NotNull과 nullable = false는 어떤 차이가 있을까?"}}},{"node":{"id":"a78e224b-b711-5071-8e90-013d6f4bebc3","fields":{"slug":"/pium-deploy-step/"},"frontmatter":{"title":"피움의 배포과정"}}},{"node":{"id":"ce07fbab-1ed5-5f1e-8e2f-eb430879b56a","fields":{"slug":"/fe-tanstack-query/"},"frontmatter":{"title":"프론트엔드: Tanstack Query 사용에 대하여"}}},{"node":{"id":"159c943b-1a50-57dd-aa71-7557364752a5","fields":{"slug":"/ci-cd-setting/"},"frontmatter":{"title":"Jenkins와 Github Webhook을 이용해 CI/CD 구축하기"}}},{"node":{"id":"dea45a4a-bfde-5fbb-8a97-42d3a3e77a0b","fields":{"slug":"/jenkins-hook-by-label/"},"frontmatter":{"title":"PR 라벨로 젠킨스 빌드유발을 구분하기"}}},{"node":{"id":"1a03734e-d413-553f-9152-1dad2fc4acca","fields":{"slug":"/apply-https/"},"frontmatter":{"title":"내 서버에 HTTPS 설정하기"}}},{"node":{"id":"cecbc8b9-db00-562b-aa0b-06c406cfc44a","fields":{"slug":"/bundle-analyze/"},"frontmatter":{"title":"bundle-analyze를 통한 bundle 크기 분석"}}},{"node":{"id":"707f8ffb-1409-5c27-b15a-5661b235c226","fields":{"slug":"/db-drop-stop/"},"frontmatter":{"title":"Table Drop 못하게 막아버리기"}}},{"node":{"id":"fe4b591a-4dd5-5dd2-b18a-b318afd1e9e3","fields":{"slug":"/transactional-not-in-restassured/"},"frontmatter":{"title":"[트러블슈팅] @SpringbootTest의 RANDOM_PORT 환경에서 @Transactional 어노테이션을 사용했을 때, RestAssured GET 요청이 수행되지 않는 경우(트랜잭션 격리 이해하기)"}}},{"node":{"id":"80aa708e-ef8a-5c79-9644-cb8c04d55a63","fields":{"slug":"/acceptance-test-resolve/"},"frontmatter":{"title":"인수테스트 데이터 초기화하기"}}},{"node":{"id":"15def1d5-c20f-5d07-b46e-24a14661365f","fields":{"slug":"/react-setting-without-cra/"},"frontmatter":{"title":"webpack으로만 React 설정하기 (without CRA)"}}},{"node":{"id":"66383c86-e2c8-533a-90e0-2effae572742","fields":{"slug":"/stylelint-and-husky/"},"frontmatter":{"title":"stylelint와 husky를 통해 컨벤션 통일하기"}}},{"node":{"id":"ed5951d5-beda-5a8f-adb2-07c2fcb38d5e","fields":{"slug":"/OAuth2.0/"},"frontmatter":{"title":"내가 이해한 OAuth2.0"}}},{"node":{"id":"45eeb9a3-557d-5704-8fd9-925283e1e27b","fields":{"slug":"/restdocs-start/"},"frontmatter":{"title":"RestDocs로 API 문서화하기"}}},{"node":{"id":"663b560a-734d-51a9-a6dc-3c4f50716c74","fields":{"slug":"/spring-event-apply/"},"frontmatter":{"title":"Spring Event 적용하기"}}},{"node":{"id":"503e9e71-eda3-53d7-8142-7c309faf213e","fields":{"slug":"/why_we_applied_querydsl/"},"frontmatter":{"title":"피움 서비스의 Querydsl 도입 이유"}}},{"node":{"id":"55ae8038-3f65-5a59-8db3-c7405e7fc125","fields":{"slug":"/github-actions-cypress/"},"frontmatter":{"title":"피움 Cypress 자동화 구축기"}}},{"node":{"id":"709124d0-5b05-5530-804d-e90ec9856a13","fields":{"slug":"/querydsl_apply_procedure/"},"frontmatter":{"title":"피움 서비스의 Querydsl 적용 과정"}}},{"node":{"id":"5c865dcb-cefd-58be-8968-b5edf6c8080c","fields":{"slug":"/server-logging/"},"frontmatter":{"title":"Logback을 이용해 운영 환경 별 로그 남기기"}}},{"node":{"id":"8269f166-d041-533c-9d44-332d8d8c3dca","fields":{"slug":"/server-monitoring/"},"frontmatter":{"title":"CloudWatch를 이용한 모니터링 환경 구성"}}},{"node":{"id":"0faec7ad-3bd1-5f5e-9222-115f771df8ed","fields":{"slug":"/tanstack-query-cache-trouble-shooting/"},"frontmatter":{"title":"InfinityQuery에서 fetch가 제대로 이루어지지 않는다?!?!"}}},{"node":{"id":"c77f7199-7fc6-53a3-a1fb-0792e05655a7","fields":{"slug":"/OAuth2.0-backend/"},"frontmatter":{"title":"OAuth 2.0 로그인 구현하기 (카카오)"}}},{"node":{"id":"12e4480d-386b-5d0e-bd69-4209fed36066","fields":{"slug":"/OAuth-test-backend/"},"frontmatter":{"title":"외부 API 를 의존하는 OAuth 로그인 테스트하기"}}},{"node":{"id":"ff40e109-cc92-5d83-a213-ca9d07136d95","fields":{"slug":"/aws-s3-apply/"},"frontmatter":{"title":"AWS S3로 정적 이미지 배포하기"}}},{"node":{"id":"e343af80-72dd-5173-bbb5-5069a17d1200","fields":{"slug":"/search_in_spring_data_jpa/"},"frontmatter":{"title":"Spring Data Jpa를 활용한 검색 기능 개발하기"}}},{"node":{"id":"af344dd8-ea77-5fde-9452-a97952ce60be","fields":{"slug":"/submodule-apply/"},"frontmatter":{"title":"Git submodule을 이용한 민감정보 관리"}}},{"node":{"id":"08c9daf0-2344-52a9-8c68-31ac04c24ff0","fields":{"slug":"/tomcat-thread-config/"},"frontmatter":{"title":"톰캣 스레드 설정하기"}}},{"node":{"id":"eafed74f-ff11-5af1-a589-e9dd2ccb5c8e","fields":{"slug":"/http-cache/"},"frontmatter":{"title":"CloudFront와 HTTP 캐시"}}},{"node":{"id":"dbe47289-01f4-571d-9506-fbb92016f547","fields":{"slug":"/optimize-frontend/"},"frontmatter":{"title":"피움 최적화하기"}}},{"node":{"id":"7b830fe6-e2df-564a-926e-7f7800380336","fields":{"slug":"/query-analysis/"},"frontmatter":{"title":"서비스 내에서 발생하는 쿼리를 분석하고 개선하기"}}}]},"previous":{"fields":{"slug":"/fe-tanstack-query/"},"frontmatter":{"title":"프론트엔드: Tanstack Query 사용에 대하여"}},"next":{"fields":{"slug":"/jenkins-hook-by-label/"},"frontmatter":{"title":"PR 라벨로 젠킨스 빌드유발을 구분하기"}}},"pageContext":{"id":"159c943b-1a50-57dd-aa71-7557364752a5","series":null,"previousPostId":"ce07fbab-1ed5-5f1e-8e2f-eb430879b56a","nextPostId":"dea45a4a-bfde-5fbb-8a97-42d3a3e77a0b"}},"staticQueryHashes":[],"slicesMap":{}}