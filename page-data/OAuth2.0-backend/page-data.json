{"componentChunkName":"component---src-templates-post-jsx","path":"/OAuth2.0-backend/","result":{"data":{"site":{"siteMetadata":{"title":"pium.log"}},"markdownRemark":{"id":"c77f7199-7fc6-53a3-a1fb-0792e05655a7","excerpt":"이 글은 우테코 피움팀 크루 '조이'가 작성했습니다. 시작하기 전에 피움 프로젝트에서 OAuth 2.0을 이용해 카카오 로그인을 구현하여 그 과정을 기록해보려 합니다. 그럼 본격적으로 글을 읽기 전에 몇 가지 사항들을 체크해 봅시다.  1.  OAuth 2.0 기초 개념 이 글은 독자가 OAuth 2.0 개념을 알고 있다는 가정 하에 작성 되었습니다. 만…","html":"<blockquote>\n<p>이 글은 우테코 피움팀 크루 '<a href=\"https://github.com/yeonkkk\">조이</a>'가 작성했습니다.</p>\n</blockquote>\n<h2>시작하기 전에</h2>\n<p>피움 프로젝트에서 <strong>OAuth 2.0</strong>을 이용해 <strong>카카오 로그인</strong>을 구현하여 그 과정을 기록해보려 합니다.</p>\n<p>그럼 본격적으로 글을 읽기 전에 몇 가지 사항들을 체크해 봅시다.</p>\n<p><br><br></p>\n<h3>1.  OAuth 2.0 기초 개념</h3>\n<blockquote>\n<p>이 글은 <strong>독자가 OAuth 2.0 개념을 알고 있다는 가정 하</strong>에 작성 되었습니다.<br>\n만약 OAuth 2.0에 대한 기본적인 개념을 파악하고 싶다면 아래 자료를 참고해주세요.</p>\n</blockquote>\n<ul>\n<li><a href=\"https://tecoble.techcourse.co.kr/post/2021-07-10-understanding-oauth/\">Tecoble - OAuth 개념 및 동작 방식 이해하기</a></li>\n<li><a href=\"https://tecoble.techcourse.co.kr/post/2022-10-24-openID-Oauth/\">Tecoble - OpenID와 OAuth2.0</a></li>\n</ul>\n<p><br><br></p>\n<h3>2. 개발 환경</h3>\n<blockquote>\n<p>이 글은 아래와 같은 환경에서 구현한 내용을 설명하고 있습니다.</p>\n</blockquote>\n<ul>\n<li>spring boot 3.1.1</li>\n<li>java 17</li>\n</ul>\n<p><br><br></p>\n<h3>3. 설정하기</h3>\n<blockquote>\n<p>카카오 로그인 흐름을 이해하기 위해 카카오에서 제공하는 공식 문서를 숙지합니다.<br>\n카카오 공식 문서를 참고하여 서비스 애플리케이션을 생성 및 설정 합니다.<br>\n원하는 정보를 요청하기 위해 API를 파악합니다.</p>\n</blockquote>\n<ul>\n<li>카카오 로그인 이해하기: <a href=\"https://developers.kakao.com/docs/latest/ko/kakaologin/common\">Kakao Developers - 카카오 로그인 이해하기</a></li>\n<li>카카오 애플리케이션 생성 및 설정하기: <a href=\"https://developers.kakao.com/docs/latest/ko/kakaologin/prerequisite\">Kakao Developers - 카카오 로그인 설정하기</a></li>\n<li>카카오 REST API 확인하기: <a href=\"https://developers.kakao.com/docs/latest/ko/kakaologin/rest-api\">Kakao Developers - 카카오 로그인 REST API</a></li>\n</ul>\n<p><br><br><br><br></p>\n<h2>환경 구성하기</h2>\n<blockquote>\n<p>우리는 클라이언트의 입장으로 카카오 서버에 요청을 보내야 합니다.<br>\n이를 위해 먼저 내부에서 요청을 보낼 클라이언트 객체를 생성해 줍니다.</p>\n</blockquote>\n<p><br><br></p>\n<h3>RestTemplate</h3>\n<blockquote>\n<p>스프링 어플리케이션에서 HTTP 요청할 때 사용하는 방법으로 <code class=\"language-text\">RestTemplate</code>과 <code class=\"language-text\">WebClient</code>가 있습니다.<br>\n우리는 그 중 <code class=\"language-text\">RestTemplate</code>를 이용할 것입니다.<br>\n관련 내용은 글의 마지막에 다루도록 하겠습니다.</p>\n</blockquote>\n<p>기본 스프링 부트 의존성을 추가하면 <code class=\"language-text\">RestTemplate</code> 관련 의존성은 자동으로 추가됩니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"groovy\"><pre class=\"language-groovy\"><code class=\"language-groovy\">implementation <span class=\"token string\">'org.springframework.boot:spring-boot-starter-web'</span></code></pre></div>\n<p><br><br></p>\n<p><code class=\"language-text\">RestTemplate</code>은 자동으로 빈 등록이 되지 않기 때문에 아래와 같이 직접 등록해주어야 합니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Configuration</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">AuthConfig</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token annotation punctuation\">@Bean</span>\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">RestTemplate</span> <span class=\"token function\">restTemplate</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">RestTemplateBuilder</span> restTemplateBuilder<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> restTemplateBuilder<span class=\"token punctuation\">.</span><span class=\"token function\">build</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><br><br></p>\n<h3>클라이언트 객체 생성하기</h3>\n<p>HTTP 통신을 위한 <code class=\"language-text\">RestTemplate</code> 세팅이 끝났으니 클라이언트 역할을 할 객체를 생성합니다.<br>\n우리는 이 클라이언트 객체를 이용하여 액세스 토큰 요청, 사용자 정보 요청, 회원 탈퇴 요청 등 카카오 서버로 다양한 요청을 보낼 것입니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Component</span>\n<span class=\"token annotation punctuation\">@RequiredArgsConstructor</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">OAuthProvider</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">String</span> <span class=\"token constant\">AUTHORIZATION_HEADER</span> <span class=\"token operator\">=</span> <span class=\"token string\">\"Authorization\"</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">String</span> <span class=\"token constant\">GRANT_TYPE</span> <span class=\"token operator\">=</span> <span class=\"token string\">\"authorization_code\"</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">String</span> <span class=\"token constant\">TOKEN_TYPE</span> <span class=\"token operator\">=</span> <span class=\"token string\">\"Bearer \"</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token annotation punctuation\">@Value</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"${auth.kakao.token-request-uri}\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">String</span> tokenRequestUri<span class=\"token punctuation\">;</span>\n\n    <span class=\"token annotation punctuation\">@Value</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"${auth.kakao.member-info-request-uri}\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">String</span> memberInfoRequestUri<span class=\"token punctuation\">;</span>\n    \n    <span class=\"token annotation punctuation\">@Value</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"${auth.kakao.redirect-uri}\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">String</span> redirectUri<span class=\"token punctuation\">;</span>\n\n    <span class=\"token annotation punctuation\">@Value</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"${auth.kakao.client-id}\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">String</span> clientId<span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">RestTemplate</span> restTemplate<span class=\"token punctuation\">;</span>\n\n<span class=\"token punctuation\">}</span></code></pre></div>\n<ul>\n<li>액세스 토큰 요청, 사용자 정보 요청, 회원 탈퇴 요청 등의 요청 시 <code class=\"language-text\">RestTemplate</code>을 반복적으로 사용해야하기 때문에 필드로 두었습니다.</li>\n<li>카카오 서버로 요청을 보낼 때 반복적으로 사용되는 정보들을 필드로 두었습니다.</li>\n</ul>\n<p><br><br></p>\n<h3>민감 정보 관리</h3>\n<blockquote>\n<p>요청에 사용되는 정보들 중 REST API 키나 SECRET과 같은 민감한 정보들은 <code class=\"language-text\">@Value</code> 애너테이션과 <code class=\"language-text\">application.properties</code> 파일을 이용해서 분리하여 관리할 수 있습니다.</p>\n</blockquote>\n<p><code class=\"language-text\">application.properties</code>는 아래와 같이 작성할 수 있습니다.<br>\n(피움 프로젝트에서는 <code class=\"language-text\">properties</code> 파일을 사용하였지만, <code class=\"language-text\">yml</code> 파일도 동일한 방식으로 사용할 수 있습니다)</p>\n<div class=\"gatsby-highlight\" data-language=\"properties\"><pre class=\"language-properties\"><code class=\"language-properties\"><span class=\"token key attr-name\">auth.kakao.token-request-uri</span><span class=\"token punctuation\">=</span> <span class=\"token value attr-value\">액세스 토큰을 요청할 카카오 URI</span>\n<span class=\"token key attr-name\">auth.kakao.member-info-request-uri</span><span class=\"token punctuation\">=</span> <span class=\"token value attr-value\">사용자 정보를 요청할 카카오 URI</span>\n<span class=\"token key attr-name\">auth.kakao.redirect-uri</span><span class=\"token punctuation\">=</span> <span class=\"token value attr-value\">kakao developers에서 설정한 리다이렉트 URI</span>\n<span class=\"token key attr-name\">auth.kakao.client-id</span><span class=\"token punctuation\">=</span> <span class=\"token value attr-value\">kakao developers에서 애플리케이션 생성 시 발급 받은 REST API 키</span></code></pre></div>\n<p>해당 내용에 대해 더 알아보고 싶으시다면 아래 글을 참고하시면 좋을 것 같습니다.</p>\n<ul>\n<li><a href=\"https://tecoble.techcourse.co.kr/post/2020-09-29-spring-properties-binding/\">Tecoble - Spring Boot에서 properties 값 주입받기</a></li>\n</ul>\n<p><br><br><br><br></p>\n<h2>로그인 구현하기</h2>\n<p>카카오 로그인은 OAuth 2.0 프로토콜 중 <code class=\"language-text\">Authorization Code Grant</code> 방식을 사용합니다.<br>\n그렇기 때문에 우리가 수행해야 할 요청은 아래와 같이 3개로 나눠볼 수 있습니다.</p>\n<ul>\n<li><code class=\"language-text\">authorization code</code> 요청</li>\n<li><code class=\"language-text\">access token</code> 요청</li>\n<li>사용자 정보 요청</li>\n</ul>\n<p><br><br></p>\n<h3>동작 과정</h3>\n<blockquote>\n<p>피움 서비스에서 구현한 로그인은 아래와 같이 동작합니다.<br>\n피움의 경우 사용자 인증 방식으로 세션을 사용하고 있습니다.<br>\n이 글에서는 OAuth 2.0에 대해 다루고 있으므로 관련 내용은 생략합니다.</p>\n</blockquote>\n<p><figure class='gatsby-resp-image-figure' style='margin-bottom: 16px;'>\n    <span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; '>\n      <a class='gatsby-resp-image-link' href='/static/075f031600ab230d0f0e2b5eb87534e9/a0a10/img.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 42.94117647058824%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAABzUlEQVR42n2S304TQRSH+2rGK/UxjDcSIheo8QFM0AfwpuAfqjSxiUD0SmxNKaYqGI1FWxorsBjb2u62tLud3ZnZ+ZxdRIImnMmXyUl+8zvnzEzGEx6ucAl0QGzi08QafTgkdHtIr08sI2LMKY2ODpFBHy0GYDSZlttit7+HJ4f8F7E97k0QjovujCBU/wgM0u/i/fyG8L5bfURGaolvq9QGbyns3mNlf57lvSzL+wnzrOws8KyWZbWxwHPnwV9eOA+tNktjuImIxkn1tEAmjiVGhvS7L9n+dI167ZblZsrXzzeovp+h/GaayuYMW81ZtnZm+ZBynXf1adpuCSmth11JZLS9J6FCtv06938sknPyLLaWeHTwhHy7wFiNUVZjggiafWi5JyS5J1DW8DgyycUqJe2j+HREm+6kc4To8Et0ieKQUAr0l1dw5zzB3Yv0bl9gOHcJ5s5hqnnUxE/HTQ2NMWitOStU8ji9Ayjl0a8L+MWnSLtTXMI4DduQPW+ODa1Z2rLjoNfWCEulI4pF4nIZRiNUKDDNCuSuED2eordwlUluyuaXMR9XUcH4ZOT0a4RhaqjW1wk3NhAJlQpxtQqDASaKzpzA/OkuMfwNOXuTGFtwGVcAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='pium-oauth-arc.png' title='' src='/static/075f031600ab230d0f0e2b5eb87534e9/ca1dc/img.png' srcset='/static/075f031600ab230d0f0e2b5eb87534e9/e7570/img.png 170w,\n/static/075f031600ab230d0f0e2b5eb87534e9/f46e7/img.png 340w,\n/static/075f031600ab230d0f0e2b5eb87534e9/ca1dc/img.png 680w,\n/static/075f031600ab230d0f0e2b5eb87534e9/02d09/img.png 1020w,\n/static/075f031600ab230d0f0e2b5eb87534e9/a0a10/img.png 1281w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span>\n    <figcaption class='gatsby-resp-image-figcaption'>pium-oauth-arc.png</figcaption>\n  </figure></p>\n<p>위 그림과 같이 카카오 서버에 요청해야하는 정보 중 하나인 <code class=\"language-text\">authorization code</code>는 피움의 클라이언트에서 카카오 서버에 요청한 후 피움 서버로 로그인 요청 시 사용합니다.<br>\n즉, <strong>피움 서버에서는 카카오 서버로 액세스 토큰 요청과 사용자 정보 요청만 진행</strong>할 것입니다.</p>\n<p><br><br></p>\n<h3>액세스 토큰 요청하기</h3>\n<blockquote>\n<p><a href=\"https://developers.kakao.com/docs/latest/ko/kakaologin/rest-api#request-token\">KAKAO REST API - 토큰받기</a>를 참고하여 액세스 토큰을 요청합니다.</p>\n</blockquote>\n<h4>요청</h4>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">curl -v -X POST \"https://kauth.kakao.com/oauth/token\" \\\n -H \"Content-Type: application/x-www-form-urlencoded\" \\\n -d \"grant_type=authorization_code\" \\\n -d \"client_id=${REST_API_KEY}\" \\\n --data-urlencode \"redirect_uri=${REDIRECT_URI}\" \\\n -d \"code=${AUTHORIZE_CODE}\"</code></pre></div>\n<h4>응답</h4>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">HTTP/1.1 200 OK\nContent-Type: application/json;charset=UTF-8\n{\n    \"token_type\":\"bearer\",\n    \"access_token\":\"${ACCESS_TOKEN}\",\n    \"expires_in\":43199,\n    \"refresh_token\":\"${REFRESH_TOKEN}\",\n    \"refresh_token_expires_in\":5184000,\n    \"scope\":\"account_email profile\"\n}</code></pre></div>\n<p><br><br></p>\n<h4>KaKaoAccessTokenResponse Dto</h4>\n<p>액세스 토큰만 받을 것이기 때문에 <code class=\"language-text\">String</code>으로 받을수도 있으나, 이후에 추가적인 정보를 받는 것으로 명세가 변경될 수 있기에 DTO를 작성하였습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Getter</span>\n<span class=\"token annotation punctuation\">@Builder</span>\n<span class=\"token annotation punctuation\">@NoArgsConstructor</span><span class=\"token punctuation\">(</span>access <span class=\"token operator\">=</span> <span class=\"token class-name\">AccessLevel</span><span class=\"token punctuation\">.</span><span class=\"token constant\">PRIVATE</span><span class=\"token punctuation\">)</span>\n<span class=\"token annotation punctuation\">@AllArgsConstructor</span><span class=\"token punctuation\">(</span>access <span class=\"token operator\">=</span> <span class=\"token class-name\">AccessLevel</span><span class=\"token punctuation\">.</span><span class=\"token constant\">PRIVATE</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">KaKaoAccessTokenResponse</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token annotation punctuation\">@JsonProperty</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"access_token\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">String</span> accessToken<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><br><br></p>\n<h4>카카오 서버로 액세스 토큰 요청하기</h4>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Component</span>\n<span class=\"token annotation punctuation\">@RequiredArgsConstructor</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">OAuthProvider</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token comment\">// ...</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">KaKaoAccessTokenResponse</span> <span class=\"token function\">getAccessToken</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> authorizationCode<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token class-name\">HttpHeaders</span> httpHeaders <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">HttpHeaders</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            httpHeaders<span class=\"token punctuation\">.</span><span class=\"token function\">setContentType</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">MediaType</span><span class=\"token punctuation\">.</span><span class=\"token constant\">APPLICATION_FORM_URLENCODED</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n            <span class=\"token class-name\">MultiValueMap</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">></span></span> body <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">LinkedMultiValueMap</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            body<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"grant_type\"</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">GRANT_TYPE</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            body<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"client_id\"</span><span class=\"token punctuation\">,</span> clientId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            body<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"redirect_uri\"</span><span class=\"token punctuation\">,</span> redirectUri<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            body<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"code\"</span><span class=\"token punctuation\">,</span> authorizationCode<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n            <span class=\"token class-name\">HttpEntity</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">MultiValueMap</span><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">></span><span class=\"token punctuation\">></span></span> request <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">HttpEntity</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span>body<span class=\"token punctuation\">,</span> httpHeaders<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n            <span class=\"token keyword\">return</span> restTemplate<span class=\"token punctuation\">.</span><span class=\"token function\">postForEntity</span><span class=\"token punctuation\">(</span>\n                    tokenRequestUri<span class=\"token punctuation\">,</span> request<span class=\"token punctuation\">,</span> <span class=\"token class-name\">KaKaoAccessTokenResponse</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getBody</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">HttpClientErrorException</span> e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">KakaoTokenRequestException</span><span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">.</span><span class=\"token function\">getMessage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">HttpServerErrorException</span> e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">KakaoServerException</span><span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">.</span><span class=\"token function\">getMessage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\">// ...</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<ul>\n<li>\n<p>헤더 생성</p>\n<ul>\n<li>카카오 REST API 명세에 따라 <code class=\"language-text\">HttpHeaders</code>를 이용해 header를 생성하여 Content Type을 <code class=\"language-text\">application/x-www-form-urlencoded</code> 로 설정합니다.</li>\n</ul>\n</li>\n<li>\n<p>바디 생성</p>\n<ul>\n<li><code class=\"language-text\">MultiValueMap</code>을 이용하여 요청 시 사용될 body 를 <code class=\"language-text\">key-value</code> 형태로 만들어줍니다.</li>\n<li>카카오 REST API 명세에 따라 grant<em>type, client</em>id, redirect_uri, code 를 파라미터로 넣어줍니다.</li>\n</ul>\n</li>\n<li>\n<p>리퀘스트 생성</p>\n<ul>\n<li>앞서 설정한 header와 body로 <code class=\"language-text\">HttpEntity</code>를 생성합니다.</li>\n</ul>\n</li>\n<li>\n<p>카카오 서버에 요청하기</p>\n<ul>\n<li>카카오 REST API 명세에 따라 POST 메서드를 이용해서 요청을 보낼 것 입니다.</li>\n<li><a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/client/RestTemplate.html\">RestTemplate</a>에서 제공하는 POST 메서드는 총 3가지로 목적에 따라 <code class=\"language-text\">postForObject()</code>, <code class=\"language-text\">postForEntity()</code>, <code class=\"language-text\">postForLocation()</code> 중에 선택해서 사용할 수 있습니다.</li>\n<li>우리는 응답 값을 <code class=\"language-text\">ResponseEntity</code>로 받을 것이므로<code class=\"language-text\">RestTemplate</code>의 <code class=\"language-text\">postForEntity()</code> 메서드를 이용하여 요청을 보냈습니다.</li>\n<li>인자 값으로는 <code class=\"language-text\">URI</code>, <code class=\"language-text\">Request</code>, <code class=\"language-text\">ResponseType</code> 을 넣어줍니다.</li>\n</ul>\n</li>\n</ul>\n<p><br><br></p>\n<h3>사용자 정보 요청하기</h3>\n<blockquote>\n<p><a href=\"https://developers.kakao.com/docs/latest/ko/kakaologin/rest-api#req-user-info\">KAKAO REST API - 사용자 정보 가져오기</a>를 참고하여 응답으로 받은 액세스 토큰으로 사용자 정보를 요청합니다.</p>\n</blockquote>\n<h4>요청</h4>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">curl -v -X POST \"https://kapi.kakao.com/v2/user/me\" \\\n  -H \"Content-Type: application/x-www-form-urlencoded\" \\\n  -H \"Authorization: Bearer ${ACCESS_TOKEN}\" \\</code></pre></div>\n<h4>응답</h4>\n<p>응답 값은 수집 항목에 따라 달라질 수 있습니다.<br>\n피움 프로젝트의 경우 사용자의 회원 ID만 수집하므로 다른 정보는 생략하였습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">HTTP/1.1 200 OK\n{\n    \"id\":123456789,\n    \"connected_at\": \"2022-04-11T01:45:28Z\"\n    ...\n}</code></pre></div>\n<p><br><br></p>\n<h4>KakaoMemberResponse Dto</h4>\n<p>회원 ID 역시 Long으로 바로 받을수도 있으나, 이후에 추가적인 정보를 받는 것으로 명세가 변경될 수 있기에 DTO를 작성하였습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Getter</span>\n<span class=\"token annotation punctuation\">@Builder</span>\n<span class=\"token annotation punctuation\">@NoArgsConstructor</span><span class=\"token punctuation\">(</span>access <span class=\"token operator\">=</span> <span class=\"token class-name\">AccessLevel</span><span class=\"token punctuation\">.</span><span class=\"token constant\">PRIVATE</span><span class=\"token punctuation\">)</span>\n<span class=\"token annotation punctuation\">@AllArgsConstructor</span><span class=\"token punctuation\">(</span>access <span class=\"token operator\">=</span> <span class=\"token class-name\">AccessLevel</span><span class=\"token punctuation\">.</span><span class=\"token constant\">PRIVATE</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">KakaoMemberResponse</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">Long</span> id<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><br><br></p>\n<h4>카카오 서버로 사용자 정보 요청하기</h4>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Component</span>\n<span class=\"token annotation punctuation\">@RequiredArgsConstructor</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">OAuthProvider</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token comment\">// ...</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">KakaoMemberResponse</span> <span class=\"token function\">getMemberInfo</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> accessToken<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token class-name\">HttpHeaders</span> httpHeaders <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">HttpHeaders</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            httpHeaders<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span><span class=\"token constant\">AUTHORIZATION_HEADER</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">TOKEN_TYPE</span> <span class=\"token operator\">+</span> accessToken<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            httpHeaders<span class=\"token punctuation\">.</span><span class=\"token function\">setContentType</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">MediaType</span><span class=\"token punctuation\">.</span><span class=\"token constant\">APPLICATION_FORM_URLENCODED</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n            <span class=\"token class-name\">HttpEntity</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Object</span><span class=\"token punctuation\">></span></span> request <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">HttpEntity</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span>httpHeaders<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n            <span class=\"token keyword\">return</span> restTemplate<span class=\"token punctuation\">.</span><span class=\"token function\">postForEntity</span><span class=\"token punctuation\">(</span>memberInfoRequestUri<span class=\"token punctuation\">,</span> request<span class=\"token punctuation\">,</span> <span class=\"token class-name\">KakaoMemberResponse</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span>\n                    <span class=\"token punctuation\">.</span><span class=\"token function\">getBody</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">HttpClientErrorException</span> e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">KaKaoMemberInfoRequestException</span><span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">.</span><span class=\"token function\">getMessage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">HttpServerErrorException</span> e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">KakaoServerException</span><span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">.</span><span class=\"token function\">getMessage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">KaKaoAccessTokenResponse</span> <span class=\"token function\">getAccessToken</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> authorizationCode<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// ...</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\">// ...</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<ul>\n<li>\n<p>헤더 생성</p>\n<ul>\n<li>카카오 REST API 명세에 따라 <code class=\"language-text\">HttpHeaders</code>를 이용해 header를 생성하여 Content Type을 <code class=\"language-text\">application/x-www-form-urlencoded</code> 로 설정합니다.</li>\n<li>카카오 REST API 명세에 따라 authorization 헤더를 추가하여 액세스 토큰 값을 넣어줍니다.</li>\n</ul>\n</li>\n<li>\n<p>리퀘스트 생성</p>\n<ul>\n<li>앞서 설정한 header로 <code class=\"language-text\">HttpEntity</code>를 생성합니다.</li>\n</ul>\n</li>\n<li>\n<p>카카오 서버에 요청하기</p>\n<ul>\n<li>이번에도 카카오 REST API 명세에 따라 POST 메서드를 이용해서 요청을 보낼 것 입니다.</li>\n<li>이번에도 응답을<code class=\"language-text\">ResponseEntity</code>로 받을 것이므로<code class=\"language-text\">RestTemplate</code>의 <code class=\"language-text\">postForEntity()</code> 메서드를 이용하여 요청을 보냅니다.</li>\n<li>인자 값으로는 <code class=\"language-text\">URI</code>, <code class=\"language-text\">Request</code>, <code class=\"language-text\">ResponseType</code> 을 넣어줍니다.</li>\n</ul>\n</li>\n</ul>\n<p><br><br></p>\n<h3>controller 구현하기</h3>\n<blockquote>\n<p>피움 클라이언트에서 로그인 요청을 보낼 수 있도록 controller 및 api를 구현합니다.<br>\ncontroller의 경우 각 서비스의 명세에 맞게 작성하시면 됩니다.</p>\n</blockquote>\n<h4>요청</h4>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">POST \"https://pium.life/login?code={AUTHORIZATION_CODE}\"</code></pre></div>\n<h4>응답</h4>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">HTTP/1.1 200 OK</code></pre></div>\n<p><br><br></p>\n<h4>controller</h4>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Validated</span>\n<span class=\"token annotation punctuation\">@RestController</span>\n<span class=\"token annotation punctuation\">@RequiredArgsConstructor</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">AuthController</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">AuthService</span> authService<span class=\"token punctuation\">;</span>\n\n    <span class=\"token annotation punctuation\">@PostMapping</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/login\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">ResponseEntity</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Void</span><span class=\"token punctuation\">></span></span> <span class=\"token function\">login</span><span class=\"token punctuation\">(</span>\n            <span class=\"token annotation punctuation\">@RequestParam</span><span class=\"token punctuation\">(</span>name <span class=\"token operator\">=</span> <span class=\"token string\">\"code\"</span><span class=\"token punctuation\">)</span> <span class=\"token annotation punctuation\">@NotBlank</span> <span class=\"token class-name\">String</span> code<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token class-name\">Member</span> loginMember <span class=\"token operator\">=</span> authService<span class=\"token punctuation\">.</span><span class=\"token function\">login</span><span class=\"token punctuation\">(</span>code<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        \n        <span class=\"token comment\">// ...</span>\n        \n        <span class=\"token keyword\">return</span> <span class=\"token class-name\">ResponseEntity</span><span class=\"token punctuation\">.</span><span class=\"token function\">ok</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">build</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><br><br></p>\n<h3>service 구현하기</h3>\n<blockquote>\n<p>앞서 구현한 <code class=\"language-text\">OAuthProvider</code>를 호출하여 로그인을 처리합니다.\n해당 레이어에서 각 서비스의 규정에 따라 서비스 내 인증 방식(토큰, 세션 등)을 적용할 수 있습니다.<br>\n(이 글에서는 OAuth 2.0를 이용한 로그인만 다루고 있기 때문에 해당 내용은 생략합니다)</p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Service</span>\n<span class=\"token annotation punctuation\">@Transactional</span><span class=\"token punctuation\">(</span>readOnly <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span>\n<span class=\"token annotation punctuation\">@RequiredArgsConstructor</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">AuthService</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">OAuthProvider</span> provider<span class=\"token punctuation\">;</span>\n\n    <span class=\"token annotation punctuation\">@Transactional</span>\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">Member</span> <span class=\"token function\">login</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> authorizationCode<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token class-name\">KaKaoAccessTokenResponse</span> accessTokenResponse <span class=\"token operator\">=</span> provider<span class=\"token punctuation\">.</span><span class=\"token function\">getAccessToken</span><span class=\"token punctuation\">(</span>authorizationCode<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token class-name\">String</span> accessToken <span class=\"token operator\">=</span> accessTokenResponse<span class=\"token punctuation\">.</span><span class=\"token function\">getAccessToken</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token class-name\">KakaoMemberResponse</span> kakaoMemberResponse <span class=\"token operator\">=</span> provider<span class=\"token punctuation\">.</span><span class=\"token function\">getMemberInfo</span><span class=\"token punctuation\">(</span>accessToken<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        \n        <span class=\"token comment\">// ...</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><br><br><br><br></p>\n<h2>추가로 고려해 볼 사항</h2>\n<h3>RestTemplate vs WebClient</h3>\n<p>스프링 어플리케이션에서 HTTP 요청할 때 사용하는 방법으로 <a href=\"https://tecoble.techcourse.co.kr/post/2021-07-25-resttemplate-webclient/\">RestTemplate과 WebClient</a>가 있습니다.</p>\n<p>현재 스프링 부트를 사용하고 있기 때문에 RestTemplate을 사용한다면 별도의 의존성 추가가 필요하지 않습니다. 하지만 WebClient를 사용하기 위해서는 webflux 의존성을 추가해주어야 합니다.\n또한 로그인 처리를 위해 카카오 서버의 응답이 필수적이기 때문에 WebClient의 특징이 큰 이점이 되지 않는다고 느껴 <code class=\"language-text\">RestTemplate</code>을 사용하였습니다.</p>\n<p>만약 이후 서비스 규모가 커지고, deprecated 소식이 있다면 <code class=\"language-text\">WebClient</code>로의 대체를 고려할 수도 있을 것 같습니다.</p>\n<p>다른 대체 방안으로 Spring Boot3.2에 새롭게 추가될 <a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.2.0-M1-Release-Notes\">RestClient</a> 도 고려해볼 수 있겠습니다.</p>\n<p><br><br></p>\n<h3>다수의 Provider 고려하기</h3>\n<p>현재 피움 서비스에서는 카카오 로그인만을 제공하고 있습니다.\n만약 이후에 구글 로그인, 네이버 로그인 등 다른 provider를 이용하게 된다면 현재의 코드로는 적용이 불가합니다.<br>\n이 점을 고려하여 추상화를 통해 유연한 로그인 서비스를 제공하는 방법을 생각해볼 수 있겠습니다.</p>\n<p><br><br><br><br></p>\n<h2>끝으로</h2>\n<p>OAuth 2.0 을 통해 카카오 로그인을 구현하는 방법을 알아보았습니다.<br>\n다음 글에서는 구현한 로그인에 대한 테스트 방법을 다뤄보도록 하겠습니다.<br>\n글을 읽어주셔서 감사합니다!  </p>","frontmatter":{"title":"OAuth 2.0 로그인 구현하기 (카카오)","date":"August 24, 2023","update":"August 24, 2023","tags":["OAuth2.0","로그인"],"series":null},"fields":{"slug":"/OAuth2.0-backend/","readingTime":{"minutes":14.76}}},"seriesList":{"edges":[{"node":{"id":"28f1d87e-d3fc-5567-8531-57649652864f","fields":{"slug":"/sprint-idea/"},"frontmatter":{"title":"구글 스프린트 기반 아이디어 도출"}}},{"node":{"id":"4a9246fb-171b-5973-88fc-864034e78afd","fields":{"slug":"/blog-starter/"},"frontmatter":{"title":"피움 블로그 생성과정"}}},{"node":{"id":"c826ce0e-1ea7-517c-8d19-84e90a59a798","fields":{"slug":"/jenkins-setting/"},"frontmatter":{"title":"젠킨스 설치하기"}}},{"node":{"id":"a387bf4f-567f-50e7-b6a7-99a1a1c8971b","fields":{"slug":"/jpa-notnull-nullable/"},"frontmatter":{"title":"@NotNull과 nullable = false는 어떤 차이가 있을까?"}}},{"node":{"id":"a78e224b-b711-5071-8e90-013d6f4bebc3","fields":{"slug":"/pium-deploy-step/"},"frontmatter":{"title":"피움의 배포과정"}}},{"node":{"id":"ce07fbab-1ed5-5f1e-8e2f-eb430879b56a","fields":{"slug":"/fe-tanstack-query/"},"frontmatter":{"title":"프론트엔드: Tanstack Query 사용에 대하여"}}},{"node":{"id":"159c943b-1a50-57dd-aa71-7557364752a5","fields":{"slug":"/ci-cd-setting/"},"frontmatter":{"title":"Jenkins와 Github Webhook을 이용해 CI/CD 구축하기"}}},{"node":{"id":"dea45a4a-bfde-5fbb-8a97-42d3a3e77a0b","fields":{"slug":"/jenkins-hook-by-label/"},"frontmatter":{"title":"PR 라벨로 젠킨스 빌드유발을 구분하기"}}},{"node":{"id":"1a03734e-d413-553f-9152-1dad2fc4acca","fields":{"slug":"/apply-https/"},"frontmatter":{"title":"내 서버에 HTTPS 설정하기"}}},{"node":{"id":"cecbc8b9-db00-562b-aa0b-06c406cfc44a","fields":{"slug":"/bundle-analyze/"},"frontmatter":{"title":"bundle-analyze를 통한 bundle 크기 분석"}}},{"node":{"id":"707f8ffb-1409-5c27-b15a-5661b235c226","fields":{"slug":"/db-drop-stop/"},"frontmatter":{"title":"Table Drop 못하게 막아버리기"}}},{"node":{"id":"fe4b591a-4dd5-5dd2-b18a-b318afd1e9e3","fields":{"slug":"/transactional-not-in-restassured/"},"frontmatter":{"title":"[트러블슈팅] @SpringbootTest의 RANDOM_PORT 환경에서 @Transactional 어노테이션을 사용했을 때, RestAssured GET 요청이 수행되지 않는 경우(트랜잭션 격리 이해하기)"}}},{"node":{"id":"80aa708e-ef8a-5c79-9644-cb8c04d55a63","fields":{"slug":"/acceptance-test-resolve/"},"frontmatter":{"title":"인수테스트 데이터 초기화하기"}}},{"node":{"id":"15def1d5-c20f-5d07-b46e-24a14661365f","fields":{"slug":"/react-setting-without-cra/"},"frontmatter":{"title":"webpack으로만 React 설정하기 (without CRA)"}}},{"node":{"id":"66383c86-e2c8-533a-90e0-2effae572742","fields":{"slug":"/stylelint-and-husky/"},"frontmatter":{"title":"stylelint와 husky를 통해 컨벤션 통일하기"}}},{"node":{"id":"ed5951d5-beda-5a8f-adb2-07c2fcb38d5e","fields":{"slug":"/OAuth2.0/"},"frontmatter":{"title":"내가 이해한 OAuth2.0"}}},{"node":{"id":"45eeb9a3-557d-5704-8fd9-925283e1e27b","fields":{"slug":"/restdocs-start/"},"frontmatter":{"title":"RestDocs로 API 문서화하기"}}},{"node":{"id":"663b560a-734d-51a9-a6dc-3c4f50716c74","fields":{"slug":"/spring-event-apply/"},"frontmatter":{"title":"Spring Event 적용하기"}}},{"node":{"id":"503e9e71-eda3-53d7-8142-7c309faf213e","fields":{"slug":"/why_we_applied_querydsl/"},"frontmatter":{"title":"피움 서비스의 Querydsl 도입 이유"}}},{"node":{"id":"55ae8038-3f65-5a59-8db3-c7405e7fc125","fields":{"slug":"/github-actions-cypress/"},"frontmatter":{"title":"피움 Cypress 자동화 구축기"}}},{"node":{"id":"709124d0-5b05-5530-804d-e90ec9856a13","fields":{"slug":"/querydsl_apply_procedure/"},"frontmatter":{"title":"피움 서비스의 Querydsl 적용 과정"}}},{"node":{"id":"5c865dcb-cefd-58be-8968-b5edf6c8080c","fields":{"slug":"/server-logging/"},"frontmatter":{"title":"Logback을 이용해 운영 환경 별 로그 남기기"}}},{"node":{"id":"8269f166-d041-533c-9d44-332d8d8c3dca","fields":{"slug":"/server-monitoring/"},"frontmatter":{"title":"CloudWatch를 이용한 모니터링 환경 구성"}}},{"node":{"id":"0faec7ad-3bd1-5f5e-9222-115f771df8ed","fields":{"slug":"/tanstack-query-cache-trouble-shooting/"},"frontmatter":{"title":"InfinityQuery에서 fetch가 제대로 이루어지지 않는다?!?!"}}},{"node":{"id":"c77f7199-7fc6-53a3-a1fb-0792e05655a7","fields":{"slug":"/OAuth2.0-backend/"},"frontmatter":{"title":"OAuth 2.0 로그인 구현하기 (카카오)"}}},{"node":{"id":"12e4480d-386b-5d0e-bd69-4209fed36066","fields":{"slug":"/OAuth-test-backend/"},"frontmatter":{"title":"외부 API 를 의존하는 OAuth 로그인 테스트하기"}}},{"node":{"id":"ff40e109-cc92-5d83-a213-ca9d07136d95","fields":{"slug":"/aws-s3-apply/"},"frontmatter":{"title":"AWS S3로 정적 이미지 배포하기"}}},{"node":{"id":"e343af80-72dd-5173-bbb5-5069a17d1200","fields":{"slug":"/search_in_spring_data_jpa/"},"frontmatter":{"title":"Spring Data Jpa를 활용한 검색 기능 개발하기"}}},{"node":{"id":"af344dd8-ea77-5fde-9452-a97952ce60be","fields":{"slug":"/submodule-apply/"},"frontmatter":{"title":"Git submodule을 이용한 민감정보 관리"}}},{"node":{"id":"08c9daf0-2344-52a9-8c68-31ac04c24ff0","fields":{"slug":"/tomcat-thread-config/"},"frontmatter":{"title":"톰캣 스레드 설정하기"}}},{"node":{"id":"eafed74f-ff11-5af1-a589-e9dd2ccb5c8e","fields":{"slug":"/http-cache/"},"frontmatter":{"title":"CloudFront와 HTTP 캐시"}}},{"node":{"id":"dbe47289-01f4-571d-9506-fbb92016f547","fields":{"slug":"/optimize-frontend/"},"frontmatter":{"title":"피움 최적화하기"}}},{"node":{"id":"7b830fe6-e2df-564a-926e-7f7800380336","fields":{"slug":"/query-analysis/"},"frontmatter":{"title":"서비스 내에서 발생하는 쿼리를 분석하고 개선하기"}}}]},"previous":{"fields":{"slug":"/tanstack-query-cache-trouble-shooting/"},"frontmatter":{"title":"InfinityQuery에서 fetch가 제대로 이루어지지 않는다?!?!"}},"next":{"fields":{"slug":"/OAuth-test-backend/"},"frontmatter":{"title":"외부 API 를 의존하는 OAuth 로그인 테스트하기"}}},"pageContext":{"id":"c77f7199-7fc6-53a3-a1fb-0792e05655a7","series":null,"previousPostId":"0faec7ad-3bd1-5f5e-9222-115f771df8ed","nextPostId":"12e4480d-386b-5d0e-bd69-4209fed36066"}},"staticQueryHashes":[],"slicesMap":{}}