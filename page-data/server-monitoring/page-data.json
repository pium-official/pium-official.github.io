{"componentChunkName":"component---src-templates-post-jsx","path":"/server-monitoring/","result":{"data":{"site":{"siteMetadata":{"title":"pium.log"}},"markdownRemark":{"id":"8269f166-d041-533c-9d44-332d8d8c3dca","excerpt":"이 글은 우테코 피움팀 크루 '그레이'가 작성했습니다. 사건의 발단 현재 구동 중인 개발 서버와 운영 서버를 캠퍼스외의 장소에서 빌드해 배포했을 때, 내부 로그를 확인할 수 없는 문제가 있었습니다. 인스턴스 내부에 발생한 로그나, nginx에 남겨진 로그를 확인하기 위해서는 캠퍼스에서 직접 ssh 연결을 통해 접속해서 확인해야 합니다. 서버 외부에서도 인…","html":"<blockquote>\n<p>이 글은 우테코 피움팀 크루 '<a href=\"https://github.com/Kim0914\">그레이</a>'가 작성했습니다.</p>\n</blockquote>\n<h2>사건의 발단</h2>\n<p>현재 구동 중인 개발 서버와 운영 서버를 캠퍼스외의 장소에서 빌드해 배포했을 때, 내부 로그를 확인할 수 없는 문제가 있었습니다.</p>\n<p>인스턴스 내부에 발생한 로그나, nginx에 남겨진 로그를 확인하기 위해서는 캠퍼스에서 직접 ssh 연결을 통해 접속해서 확인해야 합니다.</p>\n<p>서버 외부에서도 인스턴스 상태를 확인해야 하는 필요성이 느껴졌고, 모니터링 툴을 도입하기로 결정했습니다.</p>\n<p>CloudWatch는 AWS에서 제공하는 모니터링 툴입니다.</p>\n<p>기존에 프로메테우스와 그라파나를 활용해 모니터링을 할 수 있었지만, 현재 보유 중인 서버가 모두 가용 중이고 가용 중인 서버에 모니터링 툴을 설치하는 경우 다른 서버들이 영향을 받을 수 있기 때문에 별도의 툴이 필요했습니다.</p>\n<p>그래서 EC2 인스턴스를 추가로 생성해 모니터링용 서버를 구축할 수 있었으나, 비용(금전)적으로 cloud watch를 사용하는 것이 훨씬 비용 절감이 되고 적용과정도 비교적 간편하기 때문에 AWS CloudWatch를 사용하기로 결정했습니다.</p>\n<h2>CloudWatch 적용 과정</h2>\n<p>클라우드 와치를 인스턴스에 적용하기 위해서는 권한이 필요합니다.</p>\n<p>IAM을 발급 받는 방법은 다른 블로그에서 쉽게 찾을 수 있기 때문에 생략하고, 적용하는 방법부터 알아보겠습니다.</p>\n<p>*1. 인스턴스 대시보드로 이동해  인스턴스 우클릭 -> 보안 -> IAM 역할 수정을 누르고 발급받은 IAM을 추가합니다.**</p>\n<p><span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;'>\n      <a class='gatsby-resp-image-link' href='/static/560643d1fffff0709bbd937029ed90ee/bbbf7/img.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 69.41176470588235%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAACpklEQVR42n1Ty2oUQRTtr3Mh+QYX8S9culUwC0FREFHUhSIIBhcJBiVEEBFEI8nMZLo7M5N+P6qqq6uqX8dbrQkTEQsOdZuqe+rcc28785iDVxLL5Qp1XaNpDPquhW4ayCTC2fZrFLvb6D5/RLe/i2bhIsxTuL4LxhmUqpEXBU4XC0RRBGeV1yilwcxfjQgzhroZUAPQ02P01zfQbV6F2dyAuXYF6u0rTFWOSTylPA0/SJEyiZPTFXJRw5lEFWKhcTRf4Mhd4NhbgesemZAIPRfV3js0B+/Rkjq5dRNiNsVRHuAwmCLhNTwiDHKOHxOXdgHHGAVjNDzPg+/7iOMEduV5gSBKkEkF0fVoqbTu1g0MFceSr+Bnc2hjkKQZqqqC67qQUsIJqO6QEIThuEdxTJdSlIxB0MWKC/K0w0C+Rt+/IqXzUjCU/Pc5FwJCVOQnH3fHJlqwsgAr8hGC4iKjmHFqUjMq7vsepVJjIqdHLJGN/4ZjD2x3OalglGjBCdIS0JnWeiQchmEs6V8klwgLavlZFEN8+wKzvwN1sAdDTZCfPqAoSuRliY7IrUJrhaIHrHd251SioQrs9zkcRuUGSQq98wZ4vAU8uwc8vQvz4gGVX0LIekzqqIIkSUal/1tOVAjMkwqq7cBNA0NKApqnXBmE1HHro12WsG1blCVDSv5ahbYp53acw7Fl2cQ8y8hsic42gZIjssGjYZW1htWkTTsS2qT+jwUW62QjoaDfLqGRYVkKQYQDqRyaFoezM5wsE/rNJIKsgh8y8kyOiutaXShbXyNhSRf4yycYHt4evcOjO8Dz+4hOl5gvAkxmPmrdQqoG9m5EfttG2Y4LpSFNd5lQ0sgw6lZPj62/V5HykMq2w25tEUrg8OQn5q5Hw59cDPW6Shv/ArpZILlk1mSVAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='img' title='' src='/static/560643d1fffff0709bbd937029ed90ee/ca1dc/img.png' srcset='/static/560643d1fffff0709bbd937029ed90ee/e7570/img.png 170w,\n/static/560643d1fffff0709bbd937029ed90ee/f46e7/img.png 340w,\n/static/560643d1fffff0709bbd937029ed90ee/ca1dc/img.png 680w,\n/static/560643d1fffff0709bbd937029ed90ee/02d09/img.png 1020w,\n/static/560643d1fffff0709bbd937029ed90ee/bbbf7/img.png 1280w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span></p>\n<p><strong>2. CloudWatch 탭으로 이동해 대시보드 생성을 누르고 원하는 이름을 자유롭게 설정하면 됩니다.</strong></p>\n<p><span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;'>\n      <a class='gatsby-resp-image-link' href='/static/0331c20bd811f1910c43c5eff7533569/bbbf7/img_1.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 37.05882352941176%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsTAAALEwEAmpwYAAABVElEQVR42n1QO07EMBQ0HR1HoOIENFQ0ewUahBAVEhI9LTVXoKDkFkgcghIKWCVxNnE+/sRx4nh49rISBcLSyM/vMzPPTNQ1eLaG1AZrXiErOHiRI88JvEQtBETT/I+2g+gk3T2Y1w1mVcPPDtoM2PAM/PMDm5KjrGr0UkJp/SekUsmIFCVk/g5VZWA6FmWPaZkxDEMi+coKFGUJPViMboIbR4w/cM4lWGthjIYLwPT2gvb5Gvr1CcwQiZsmxKONIWWFTmnY2WOmnJ23QhP1zBQrctX3fYqjgJQKgr6lbZtUY7G5p2QiJDJLiuHxAeH8FOFyhXB/i4WGQ2wIIRFFhJAy5NKgoX+Mgt57MGtHKGO3RVIYYnBzAewz4ICwOgaWBbuzULz8ekfCuhZJJOZZXHParUyEifruCjgksqM94OwEgZRDMhiSC0+DO4dxw67rEmGsfQOcGgtoiI68bAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='img 1' title='' src='/static/0331c20bd811f1910c43c5eff7533569/ca1dc/img_1.png' srcset='/static/0331c20bd811f1910c43c5eff7533569/e7570/img_1.png 170w,\n/static/0331c20bd811f1910c43c5eff7533569/f46e7/img_1.png 340w,\n/static/0331c20bd811f1910c43c5eff7533569/ca1dc/img_1.png 680w,\n/static/0331c20bd811f1910c43c5eff7533569/02d09/img_1.png 1020w,\n/static/0331c20bd811f1910c43c5eff7533569/bbbf7/img_1.png 1280w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span></p>\n<p>대시보드가 처음 생성되면 아래와 같은 화면을 확인할 수 있습니다.</p>\n<p>여기서 왼쪽 하단에 있는 로그, 지표를 활용하여 인스턴스의 상태를 확인할 수 있습니다.</p>\n<p><span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;'>\n      <a class='gatsby-resp-image-link' href='/static/8da32217dfe291f366fcd7f8fbaf676f/bbbf7/img_2.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 42.35294117647059%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsTAAALEwEAmpwYAAABi0lEQVR42mWSW0/UQBiG+6f9BdxwrXfGX4CReAWoXG3QBIPEBHCJ2lrXZg/Tdg6dnrvu49dVNgJN3nyTmc7zfocJbFmhfMUA2G+32Kd7lCJ9+ZH24gPl0SHm6jOuqvHeY11BmmVk2pAbQ5bnaOvIdY69OSDok5jh6CW8e00RhxQ6o8wU3jncZoMTI9f1WGsxsmckWolawEbkir8azbxNCdrlnGpyTP/pDL9cYMoSLyrkh0IuF8biJGrRcqVYKbWF+1LOR/n/JPeCUty6Yc34eXEa3XfA0VXW/dBvY5prVJpRNa2o2WZ2DygKmh8hnS8glzLVCvsv/TuYMZq3x2+If81J5nO+xzNuLs9IfkZUdUPxABpUX6fYJIHVAp+lO+AYh6Fmcp7wZO+U2SwmiiLqfsP1q30mh8/pNjJIZx8AZbK9NZAu8anaAcdy6nVP+P5CACd0/JZsnJRtefZiwpfbkLqpH5Ud1HHEuirB5DQCdneHI7jt0NMrFucysFb6KK1Racr1NJTnYh71b9QfJNNW8cHq4boAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='img 2' title='' src='/static/8da32217dfe291f366fcd7f8fbaf676f/ca1dc/img_2.png' srcset='/static/8da32217dfe291f366fcd7f8fbaf676f/e7570/img_2.png 170w,\n/static/8da32217dfe291f366fcd7f8fbaf676f/f46e7/img_2.png 340w,\n/static/8da32217dfe291f366fcd7f8fbaf676f/ca1dc/img_2.png 680w,\n/static/8da32217dfe291f366fcd7f8fbaf676f/02d09/img_2.png 1020w,\n/static/8da32217dfe291f366fcd7f8fbaf676f/bbbf7/img_2.png 1280w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span></p>\n<p>*3. 지표 추가하기**</p>\n<p>지표 -> 모든 지표를 누르면 아래와 같이 인스턴스 탭을 확인할 수 있습니다. 인스턴스 이외에도 다른 탭도 확인할 수 있습니다.\n<span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;'>\n      <a class='gatsby-resp-image-link' href='/static/5bbbbf57d11307eca3342d286b7fced6/bbbf7/img_3.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 29.411764705882355%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsTAAALEwEAmpwYAAABfElEQVR42j2QW0vVQRTFz3dQlBJL7cFLBWXeMS9HvB3QUsEoj9djlCIqoqKEImLgF/Bj+NpDXoJMjyfRIh/6EoI+eOE4s+fnnv8ffFiw9p41a2atyNVxkotvm5hfW3Cwg/t3hPubgv1tSP7Q3XY4J3dh7zt4ncd+qL+Hzvb8jIiZeg9lmUhDAVKRjR2JYfuiyrOQujykMhsz2IqNPce9foTU52MVxvOqByGqH+JeZZD+vaeGq1NIZynyoQHpqcQuJLAzcaS7Iti5jhekN75yDlyKIGJJK7/5k8K9VU13ld6rxr0p5/r/qRouJpCo/q7zJdJSiJ3sxY51Ia3F4UPNupsfwqzPY5bGkZUJZG0amelD2kqQ9qdI7BlOddcnh2o4O4DU5KiBHtY9xn7uCmJ7Li1FWoVGTMSCSnwsKdcqfEU+qq/Jo/EJrjaXm9RPIrfrc9h3tWrSjtWIZnkcszAacDvcpn02Yr58wnzsCLjtbwoRbwpnj3g08EifnnAHRgNQScYDIjMAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='img 3' title='' src='/static/5bbbbf57d11307eca3342d286b7fced6/ca1dc/img_3.png' srcset='/static/5bbbbf57d11307eca3342d286b7fced6/e7570/img_3.png 170w,\n/static/5bbbbf57d11307eca3342d286b7fced6/f46e7/img_3.png 340w,\n/static/5bbbbf57d11307eca3342d286b7fced6/ca1dc/img_3.png 680w,\n/static/5bbbbf57d11307eca3342d286b7fced6/02d09/img_3.png 1020w,\n/static/5bbbbf57d11307eca3342d286b7fced6/bbbf7/img_3.png 1280w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span></p>\n<p>EC2 탭을 누르고 들어오면 아래와 같은 화면을 볼 수 있고 인스턴스별 지표를 확인해야 하기 때문에 인스턴스별 지표를 누릅니다.</p>\n<p><span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;'>\n      <a class='gatsby-resp-image-link' href='/static/b1b03c65892087b31e1d9c6523fe246f/bbbf7/img_4.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 27.058823529411764%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA7ElEQVR42pWPy07DQAxF8+8oLBCPBVAJgbpjwwKxQEKs+AUW/AJNmuYxaZPMo/EcHCIkKrHB0tXYc6/t6+SzbsitZydgJFKEPeUoVEAZoda31XrnPJ0PtKptB8dWa6NcpZqGWdcon4yvj8giRZbn+KuU4fkB+3SPvU6xt6e4yyPc2wurfiSrt7gQGHR5WzWE5QX+5gR/d4ZfHOM+3km6osBnK6RcI0WGmJpo1N8mU4s56N/YNljdbozBO6teIqMOjtoTN/mMSdd3JEZP6PVUXcpeETSP3y2H+IkY44w/NCJCMpEHwvi7/X8xDfwCLv99Ar30kPMAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='img 4' title='' src='/static/b1b03c65892087b31e1d9c6523fe246f/ca1dc/img_4.png' srcset='/static/b1b03c65892087b31e1d9c6523fe246f/e7570/img_4.png 170w,\n/static/b1b03c65892087b31e1d9c6523fe246f/f46e7/img_4.png 340w,\n/static/b1b03c65892087b31e1d9c6523fe246f/ca1dc/img_4.png 680w,\n/static/b1b03c65892087b31e1d9c6523fe246f/02d09/img_4.png 1020w,\n/static/b1b03c65892087b31e1d9c6523fe246f/bbbf7/img_4.png 1280w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span></p>\n<p>인스턴스 지표를 누르면 현재 AWS에 가동 중인 모든 인스턴스를 확인할 수 있습니다.</p>\n<p>상단에 있는 검색 탭에 관측하고 싶은 인스턴스의 ID를 입력합니다. 예를 들면 i-0123456789 가 됩니다.</p>\n<p><span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;'>\n      <a class='gatsby-resp-image-link' href='/static/47ce30e0863e30070affb59a04b0832e/bbbf7/img_5.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 34.705882352941174%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsTAAALEwEAmpwYAAABEElEQVR42o2Qu07DQBREXUJHQ8FHpEhJDxUSDRUFHR2iQIJPQOInMSZeP4nf8TO2D3etKAogCMVo7+5qz8yOYVoWYZxQ1h1VXVOWJVXbUq3XlLLWTTOpkbnZ2WvlRYHvByyjiCD8mGYjzwsc18P1fIpVOQGXcpGFAVWeEcUxcZLK3Yq26+jEaFftxqTRJhLI0MOraYpDyDgMjED/8sRwegJ3V3hKYb5ZpGlK3/eM4/irenlvaIeFbZMkCWyA4/01HBhwNsN3BGi9k2f5XuCggboX21ZfgY83cCzAy7l835+AhVTzF2wL1AmVcn4mPBTg+YzAcViIhj3ptkBdqHK+AZ8fYH4Etxf40qFyXX36L+AnCL4K2Yk9BHwAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='img 5' title='' src='/static/47ce30e0863e30070affb59a04b0832e/ca1dc/img_5.png' srcset='/static/47ce30e0863e30070affb59a04b0832e/e7570/img_5.png 170w,\n/static/47ce30e0863e30070affb59a04b0832e/f46e7/img_5.png 340w,\n/static/47ce30e0863e30070affb59a04b0832e/ca1dc/img_5.png 680w,\n/static/47ce30e0863e30070affb59a04b0832e/02d09/img_5.png 1020w,\n/static/47ce30e0863e30070affb59a04b0832e/bbbf7/img_5.png 1280w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span></p>\n<p><strong>4. 원하는 지표 확인하기</strong></p>\n<p><span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;'>\n      <a class='gatsby-resp-image-link' href='/static/f4514e7e1d7d7220a89e95373f011f61/bbbf7/img_6.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 49.411764705882355%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAABkklEQVR42oWSO27cMBCGeQSfITfwEXyytGnSOidwuiBFmrQ5QwCnMIyFvY4eq+fyIfEl/flJyYGBLQzo03CGmhHnH4qHp784FiX6YYBU6oJRaVqiNZTWOdb1A4ZxpG/QMa/tOhSnDuWphTDGwHmPuK6Iy3JBiBExLhu7733Y4suKECIJcLSWdcQ0TVhiAF/AulwSPXHc53oJ2zrv8ftgt1j2Vz4rhLUz7DzBWZutnec30E9x5zf/db3npPX8msdYOqkwNkBKCSNHbjoeZG8rbG1lQvI3/sd2Ym59lyMVrI8HlPUJVVWRGk3TZsH1PgS9I6XaYwpKbWjStF2mTZa54liWqNUEzb+blDAOUGcWnAy0YZwaKw5uYsupvbekKTec8DbpPhcWw/evGD9/RP3jG6rJQ1HYmaQCaWBZW+rjnGNL/oLIgaZWvXf51OKp7HF4POC5atH/ucd4+wnu7gua4wuKXkLN1Jic+bN3MQ5CWo/nosLJUtxfP7FcX2G9+YDz/W88vBRseYbnrXBxhX+HdBf/AW/xAIIXcEZMAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='img 6' title='' src='/static/f4514e7e1d7d7220a89e95373f011f61/ca1dc/img_6.png' srcset='/static/f4514e7e1d7d7220a89e95373f011f61/e7570/img_6.png 170w,\n/static/f4514e7e1d7d7220a89e95373f011f61/f46e7/img_6.png 340w,\n/static/f4514e7e1d7d7220a89e95373f011f61/ca1dc/img_6.png 680w,\n/static/f4514e7e1d7d7220a89e95373f011f61/02d09/img_6.png 1020w,\n/static/f4514e7e1d7d7220a89e95373f011f61/bbbf7/img_6.png 1280w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span></p>\n<p><strong>5. 대시보드에 지표 추가하기</strong></p>\n<p>다시 대시보드로 돌아와서 관측하고 싶은 지표를 추가합니다.</p>\n<p>우측 상단에 있는 + 버튼을 누르면 지표나 로그를 추가하는 화면을 볼 수 있습니다.</p>\n<p><span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;'>\n      <a class='gatsby-resp-image-link' href='/static/8da32217dfe291f366fcd7f8fbaf676f/bbbf7/img_7.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 42.35294117647059%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsTAAALEwEAmpwYAAABi0lEQVR42mWSW0/UQBiG+6f9BdxwrXfGX4CReAWoXG3QBIPEBHCJ2lrXZg/Tdg6dnrvu49dVNgJN3nyTmc7zfocJbFmhfMUA2G+32Kd7lCJ9+ZH24gPl0SHm6jOuqvHeY11BmmVk2pAbQ5bnaOvIdY69OSDok5jh6CW8e00RhxQ6o8wU3jncZoMTI9f1WGsxsmckWolawEbkir8azbxNCdrlnGpyTP/pDL9cYMoSLyrkh0IuF8biJGrRcqVYKbWF+1LOR/n/JPeCUty6Yc34eXEa3XfA0VXW/dBvY5prVJpRNa2o2WZ2DygKmh8hnS8glzLVCvsv/TuYMZq3x2+If81J5nO+xzNuLs9IfkZUdUPxABpUX6fYJIHVAp+lO+AYh6Fmcp7wZO+U2SwmiiLqfsP1q30mh8/pNjJIZx8AZbK9NZAu8anaAcdy6nVP+P5CACd0/JZsnJRtefZiwpfbkLqpH5Ud1HHEuirB5DQCdneHI7jt0NMrFucysFb6KK1Racr1NJTnYh71b9QfJNNW8cHq4boAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='img 7' title='' src='/static/8da32217dfe291f366fcd7f8fbaf676f/ca1dc/img_7.png' srcset='/static/8da32217dfe291f366fcd7f8fbaf676f/e7570/img_7.png 170w,\n/static/8da32217dfe291f366fcd7f8fbaf676f/f46e7/img_7.png 340w,\n/static/8da32217dfe291f366fcd7f8fbaf676f/ca1dc/img_7.png 680w,\n/static/8da32217dfe291f366fcd7f8fbaf676f/02d09/img_7.png 1020w,\n/static/8da32217dfe291f366fcd7f8fbaf676f/bbbf7/img_7.png 1280w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span></p>\n<p>어떤 그래프로 확인할 지 그래프를 선택한 후 다음을 눌러 앞 서 모든 지표에서 확인했던 방법과 동일하게 지표를 선택합니다.</p>\n<p><span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;'>\n      <a class='gatsby-resp-image-link' href='/static/c7f9b063d868b23e75d8f7dcfcd7ed07/bbbf7/img_8.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 75.29411764705883%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAAsTAAALEwEAmpwYAAACX0lEQVR42qVTy5LTMBD0Z/Jn/AkHblTBBThQQFEsy+6yiR0ndmLZkqyHLafpUZwDVDihqomUkadnumdUNG2L+x/3sNZinmfM04REk336h8VbvhihjUVhnIcyI2yc4OYF45SgeR7jGjgnzImJUsomwbJHST5f/Gn1uxBQHK3D990TnpsOBxPRxzP2bkFtJ5yaGm1zgFJ9Bvc+4EzwrQn4qQzqaodxdLm6ieACWmh+tNcWnZ/Qi4UEM58x0ubJIcUxZxYw5z0WVmMnBi8LvPjXu8yAoIVzFtH1aNsGTXuErEyRl7r6gLu6hqU2iQALTSp8HizefXsL27Ws/PJtzNpGFMM4YtN1UIOG6vusx3I+40zbP7zB+22JQJ0jNRUff1DagFfPFRNpWMZrNjTwPlcoyIY69MOQtcjCr4L7xCYxoCwrbLZbBNKbpCFmQNAah6ZFp1SuPK6dLjyRN2yICG9IzTCbXLAUnNj9Uz/wTuF4PGVw1oiB8uzLEgdK1HUqxwQpRioMwWHsSkx0iMBCS2hLxsAm9JRCAsQ/r53M1Lmypqs81/ui1wYfP39BXe/x8PiUhzMEyZaw3ZFqucFmU5Jan/USOa6Afy9JUAgNqaInNbF2paGNycHLchkHqVqAcsNwe8k3xZFD+ulxh+2hw+6kUbY9quPAs4FyM5TnXE7nrNHARsQbzzCuHb4MdkyoBg734Djgnq/Fo7GR/z0qNaKmv3Mpz5umPPIyrmbzPuY9zJfpKCIPxKSxCtp1//O8XAZ7pZxtbYiMUYoeof2FaBUKufif5flEY32H+uULjF9f4zcO04paYy9JAwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='img 8' title='' src='/static/c7f9b063d868b23e75d8f7dcfcd7ed07/ca1dc/img_8.png' srcset='/static/c7f9b063d868b23e75d8f7dcfcd7ed07/e7570/img_8.png 170w,\n/static/c7f9b063d868b23e75d8f7dcfcd7ed07/f46e7/img_8.png 340w,\n/static/c7f9b063d868b23e75d8f7dcfcd7ed07/ca1dc/img_8.png 680w,\n/static/c7f9b063d868b23e75d8f7dcfcd7ed07/02d09/img_8.png 1020w,\n/static/c7f9b063d868b23e75d8f7dcfcd7ed07/bbbf7/img_8.png 1280w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span></p>\n<p>위젯 생성 버튼을 눌러 위젯을 생성합니다.</p>\n<p><span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;'>\n      <a class='gatsby-resp-image-link' href='/static/f14a043219cd3d8867f05d123e10d28d/bbbf7/img_9.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 42.94117647058824%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAABIElEQVR42o1SW1LDMAz0/S/ACbgNX1yhfNFCk/ghPxQvK4e2gXYYMrNjvVdS5A6HN4QQ0FpDrfUHSil3tr8gInDvxyMW75GyIMkNniTmm5cFQTJiSgMX3zTPQ88543SecDzPOH18whVW7r0/xLrXgZu8rlgJk3GJo38miVNV/PuzAvuvCrDe8j0ndTY79uzfrH2X/Fu+6tmja7vyLFyPa40ja8Weu5PVAm0stfFoU8ZpLZufPi2CNYfR4UbQkbhTF7nguEyIfoGkOJCihxAphs3GN/PNwp8SNnsesXLVK8msATd7FvATAguO02EnlW/jbnVgOydtOro1v8VZssWYbnFNt2mc3VopvDkmZcqPIDyNOzttlitESBnnlydMr8/4AmWgwVGilApOAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='img 9' title='' src='/static/f14a043219cd3d8867f05d123e10d28d/ca1dc/img_9.png' srcset='/static/f14a043219cd3d8867f05d123e10d28d/e7570/img_9.png 170w,\n/static/f14a043219cd3d8867f05d123e10d28d/f46e7/img_9.png 340w,\n/static/f14a043219cd3d8867f05d123e10d28d/ca1dc/img_9.png 680w,\n/static/f14a043219cd3d8867f05d123e10d28d/02d09/img_9.png 1020w,\n/static/f14a043219cd3d8867f05d123e10d28d/bbbf7/img_9.png 1280w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span></p>\n<p>추가된 위젯을 확인하고 저장버튼을 눌러 저장합니다.</p>\n<p><span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;'>\n      <a class='gatsby-resp-image-link' href='/static/3b6a55a196c559a0dafe6580c908be1d/bbbf7/img_10.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 31.76470588235294%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsTAAALEwEAmpwYAAABG0lEQVR42m2QTUrEQBCF5+pzAd2IWw/g1q3gRgQP4AUEmcnMJP2XTv9/VrcKIia8vKKofF2vd/ruBn29Z7naox7ucS9PrM+P6OMB5z0XZTgvCqU0xli0MUynM5d5YZb+qft8Znq9ZXp/Y+cuJ+x0YD1NxM1TgUIjl0KtFedWFqXwAi+lUqTXPeWMsRalNVpk5w+MntnZPlg7Rp7WoNfdcxh1lh9jyjLTqNLfUiGVNsatcwNqrbjzIidA+YQYv3jy9q1aybTkaTnKNgW3RVzIKB/RWxp1E/gP8LcGMMVASZEsChI7OEMIGzWnsaH9hhz1hpG6y8eMWx36L3CVyNquOMlv1CKARJQD+h3FKHVKI04/uNQy0oxrEP9vw08xWc1DpjcpkwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='img 10' title='' src='/static/3b6a55a196c559a0dafe6580c908be1d/ca1dc/img_10.png' srcset='/static/3b6a55a196c559a0dafe6580c908be1d/e7570/img_10.png 170w,\n/static/3b6a55a196c559a0dafe6580c908be1d/f46e7/img_10.png 340w,\n/static/3b6a55a196c559a0dafe6580c908be1d/ca1dc/img_10.png 680w,\n/static/3b6a55a196c559a0dafe6580c908be1d/02d09/img_10.png 1020w,\n/static/3b6a55a196c559a0dafe6580c908be1d/bbbf7/img_10.png 1280w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span></p>\n<h2>CloudWatch Agent 설치</h2>\n<p>CloudWatch에서 기본적으로 제공하는 정보는 CPU, Network I/O 등과 같은 기본적인 정보만 제공합니다.</p>\n<p>인스턴스의 메모리, 스왑 메모리, 디스크 I/O 등 보다 자세한 정보를 확인하기 위해서는 <code class=\"language-text\">CloudWatch Agent</code>를 설치해야 합니다.</p>\n<p>AWS CloudWatch 공식 문서에 설치 방법이 자세히 잘 나와있습니다.</p>\n<p>저희 팀은 <code class=\"language-text\">Ubuntu22.04 ARM</code>을 사용 중이므로, Ubuntu22.04 ARM 기준의 설치 방법을 알려드리겠습니다.</p>\n<p>CloudAgent 패키지를 다운로드하는 과정 이외에는 다른 환경도 동일하게 적용됩니다.</p>\n<p><strong>1.ARM or AMD 확인</strong></p>\n<p>우선 사용하고 있는 인스턴스의 아키텍처를 확인합니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\">lscpu <span class=\"token operator\">|</span> grep <span class=\"token string\">\"Vendor ID\"</span></code></pre></div>\n<p><span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;'>\n      <a class='gatsby-resp-image-link' href='/static/896b1cda8e727534a5bdaa0c1f518aeb/bbbf7/img_11.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 5.88235294117647%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAABCAYAAADeko4lAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAPklEQVR42mOwc3D4b+fs9F/f2va/jrXNfx0z6/9GRnb/zcwd/9vZe/43NrEHsp3+6+lb/VfXMPmvoWmKFwMAGiUgCn0CQUcAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='img 11' title='' src='/static/896b1cda8e727534a5bdaa0c1f518aeb/ca1dc/img_11.png' srcset='/static/896b1cda8e727534a5bdaa0c1f518aeb/e7570/img_11.png 170w,\n/static/896b1cda8e727534a5bdaa0c1f518aeb/f46e7/img_11.png 340w,\n/static/896b1cda8e727534a5bdaa0c1f518aeb/ca1dc/img_11.png 680w,\n/static/896b1cda8e727534a5bdaa0c1f518aeb/02d09/img_11.png 1020w,\n/static/896b1cda8e727534a5bdaa0c1f518aeb/bbbf7/img_11.png 1280w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span></p>\n<p><strong>2. Cloudwatch Agent 다운</strong></p>\n<p>다음 명령어를 통해 Agent를 다운로드합니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token function\">sudo</span> <span class=\"token function\">wget</span> https://s3.amazonaws.com/amazoncloudwatch-agent/ubuntu/arm64/latest/amazon-cloudwatch-agent.deb</code></pre></div>\n<p><strong>여기서 주의할 점 !</strong></p>\n<p>클라우드 와치를 다운받은 후 설정을 마치고 적용하는 과정에서 알 수 없는 <strong>403 예외가 발생</strong>했었습니다.</p>\n<p>[processors.ec2tagger] ec2tagger: unable to describe ec2 tags for initial retrieval: unauthorizedoperation: you are not authorized to perform this operation.</p>\n<p>구글링을 해보니 IAM 권한과 관련된 예외인 것 같았는데, IAM에 접근할 수 있는 권한이 없어서 몇 시간 동안 헤매었습니다..</p>\n<p>결론은 <code class=\"language-text\">sudo</code>와 함께 패키지를 설치하니 해결되었습니다. sudo ! </p>\n<p><span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;'>\n      <a class='gatsby-resp-image-link' href='/static/fc90e2cebcef84d633349e2be9377809/bbbf7/img_12.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 20%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA10lEQVR42j2P3XKDIBBGfZqm0Ro1QUVAE0EiGI0X6c/7P8lX2Jn24sx+O7B7ZhPpFgjnwe0MeXO4jQ9os2GyO4x5wuqA2WGnnarRG/S40r/h6gNLyCtU71CUEol3Lyz+E4/lC9v2A7+8sK7fsG4HbzSqVICVA85lj5aNqAqFPONIsxaHY41j2gRqvB1Y4IJE9jOEvEMNjozRpNSMC7siL7owxPAeBiKU45KsoYV/fOT8PyedsODdBKp8Qlkp1M1IvRD3IIvvhiBxkDWtRn4SdGKkOg/UR34BDxSHEd6iigsAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='img 12' title='' src='/static/fc90e2cebcef84d633349e2be9377809/ca1dc/img_12.png' srcset='/static/fc90e2cebcef84d633349e2be9377809/e7570/img_12.png 170w,\n/static/fc90e2cebcef84d633349e2be9377809/f46e7/img_12.png 340w,\n/static/fc90e2cebcef84d633349e2be9377809/ca1dc/img_12.png 680w,\n/static/fc90e2cebcef84d633349e2be9377809/02d09/img_12.png 1020w,\n/static/fc90e2cebcef84d633349e2be9377809/bbbf7/img_12.png 1280w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span></p>\n<p><strong>3. 패키지를 디렉토리로 압축 해제</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token function\">sudo</span> dpkg <span class=\"token parameter variable\">-i</span> <span class=\"token parameter variable\">-E</span> ./amazon-cloudwatch-agent.deb</code></pre></div>\n<p><strong>4. CloudWatch Agent시작</strong></p>\n<p>압축 해제까지 모두 마치면 클라우드 와치를 적용하는 일만 남았습니다.</p>\n<p>여기서 클라우드 와치를 적용할 수 있는 방법은 2가지가 있는데 직접 config.json 파일을 생성하거나 wizard를 이용하여 시작할 수 있습니다. Wizard로 시작하게 되면 기본 config.json 파일을 생성해 주기 때문에 저는 wizard로 시작했습니다.</p>\n<p><code class=\"language-text\">Wizard</code>를 실행하는 명령어입니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token function\">sudo</span> /opt/aws/amazon-cloudwatch-agent/bin/amazon-cloudwatch-agent-config-wizard</code></pre></div>\n<p>명령어를 입력하면 아래와 같이 질문에 대한 답을 입력하는 문구가 나옵니다.</p>\n<p><span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;'>\n      <a class='gatsby-resp-image-link' href='/static/97ff952f093a6dcac8f09c1af0457924/bbbf7/img_13.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 41.76470588235294%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsTAAALEwEAmpwYAAABIklEQVR42oWQ63KCQAyFeZcWFXpd7rALqwtysaId60x/9f0fI90TK9aZXn6cSUKyX05wlOqobnZUVgNJ2VJlo6lHKoo1Nc1+6unlC6myo5XZ2nzDebPec/74JGm+iGjhxeQEYUWFBWEgSQ3lFpRmNQNRR/GSe1lecw+zSbriXKqW6ysgBrv+QG33ytv64c066nkwTlYc4RiQQp6AZzAcIt4/5Beg/DrZmJHPwVClB3aZQXnDOQRHcWJIBCXhMiiMtHVYXICq7K2rA2m9mYa+nw6hhrBIBBV5fkL+XToJNWAMhOXj8YPqescf0MQ2dxawZnPE0MaQbl3U0fT4Jznb8f3KRRRrehaKoYB7fsw6L/sLxkAhSrpxBQPg4vQvon8f/qZPNn4G87NieEsAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='img 13' title='' src='/static/97ff952f093a6dcac8f09c1af0457924/ca1dc/img_13.png' srcset='/static/97ff952f093a6dcac8f09c1af0457924/e7570/img_13.png 170w,\n/static/97ff952f093a6dcac8f09c1af0457924/f46e7/img_13.png 340w,\n/static/97ff952f093a6dcac8f09c1af0457924/ca1dc/img_13.png 680w,\n/static/97ff952f093a6dcac8f09c1af0457924/02d09/img_13.png 1020w,\n/static/97ff952f093a6dcac8f09c1af0457924/bbbf7/img_13.png 1280w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span></p>\n<p>웬만한 설정은 default 설정을 따라기시면 됩니다.</p>\n<p>한 번씩 읽어보고 상황에 맞는 설정을 해주는 것이 좋습니다.</p>\n<p><span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;'>\n      <a class='gatsby-resp-image-link' href='/static/79bd0a7bf3e02af0e0bcd1c2862cb141/bbbf7/img_14.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 73.52941176470587%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAAsTAAALEwEAmpwYAAABhUlEQVR42p1S23aCQAzkawQVL4CwsMByV/HS/v/XpJkA2p5jK6cPc5LdhckkGSvLz5RlJ9LpkSRnFOVFYsr3uTmP9yfabDXZzoGcZfgrLFP01LQfVNU3KqurkBjTCymK4B33ZXUjd5O8J6ybOwFVfWc1vZDEScuxo5Rzzze022ccc1q78Z9kQth2n9ISDqu14p8ULVchI5IzFC2g6o2yByFmk7Ci4FDQzktFBVoDQIiI2c0hE8JhASeZXZw0kuesWOuOW03JD4wUg+JZhKa4yNBV3IyqhlYnLGxu2Q7mK8QiwqiiPQ/eDwoZ/t7LJULdXKIfW4Y1NttE2oIawHaCtxZ5SZjoVhRiTsO8SlKqoe1O/48wzY9CBr9NPpsWAEJb4pg/ED7fvxVFbsUaljGiDgAx5ocih5Dhe+R7MecVo5RvEPENOkM+zRz/iA8jVcsD2sSWoRQGH4zO53HjUP4a4SO3lK4HZWOVYbuFVIUPEVEM+RwvsrH7kSijlatku85yms0zzsUX0OTbhfOiUMwAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='img 14' title='' src='/static/79bd0a7bf3e02af0e0bcd1c2862cb141/ca1dc/img_14.png' srcset='/static/79bd0a7bf3e02af0e0bcd1c2862cb141/e7570/img_14.png 170w,\n/static/79bd0a7bf3e02af0e0bcd1c2862cb141/f46e7/img_14.png 340w,\n/static/79bd0a7bf3e02af0e0bcd1c2862cb141/ca1dc/img_14.png 680w,\n/static/79bd0a7bf3e02af0e0bcd1c2862cb141/02d09/img_14.png 1020w,\n/static/79bd0a7bf3e02af0e0bcd1c2862cb141/bbbf7/img_14.png 1280w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span></p>\n<p>설정을 진행하다 보면 <strong>현재까지 작성된 config 파일 정보를 확인할 수 있습니다.</strong></p>\n<p><span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;'>\n      <a class='gatsby-resp-image-link' href='/static/485348618c6ff035439e75e0dc26e64a/bbbf7/img_15.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 106.47058823529412%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAVCAYAAABG1c6oAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB1klEQVR42qVUV3bCQAzcw9C7e68YU+KE5Ccv97+IsrMbEYcH2I98CK+NNBqNtBJhVFOcHGg0tmg8sWkydf5lIs2OVJQNzRceLZaBNJ+mM/dpcAXo+VtpJbleQbaTS3ANCmPH2dztB5jlJ4riWoG6Xqmelp39JNmS4+YUhJX8lvdiLYJwR2/nL6p2Z/UBQcyubb1Lhn7N6ycl6YFW64gWslyAoklPaZgXDYElyvWDShlKXm+iFkOnN0vhuAVtjJjwBLBhpqoxppXScGQqpmxg3qWjmExtFQgQZgmGGyPRjXJ155EQSQwzechW4AcOs7mngBEYJ3vCOAEcrP1gq6qAxstV1A0I04GVYgUmy1UoAbTh/8HQkAmtPiXrA2dFeSg5zU5U1e+UFy8UymRIwo3So9UByPbbAH0GCMCS9Eg7mQB3H1oz8DVjcY86B0AGgIA5nniHztAVt4evKgOLR3rACezQpLJs1BVEMAyLRJ+9P00S99jBmc+DoXmZSUjByXqXzKViA2FcwPK6KZ1dvmemlUmdCrUz6/2H0hEjhvG6BS5usdP7z1MlogHoqiUZAojBsPLwHwy+l6awJrwIWLu2hgjAgoV1rTYBZwxpG+C2rs6lIfx+y+8bYHeS+gW2/q0AAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='img 15' title='' src='/static/485348618c6ff035439e75e0dc26e64a/ca1dc/img_15.png' srcset='/static/485348618c6ff035439e75e0dc26e64a/e7570/img_15.png 170w,\n/static/485348618c6ff035439e75e0dc26e64a/f46e7/img_15.png 340w,\n/static/485348618c6ff035439e75e0dc26e64a/ca1dc/img_15.png 680w,\n/static/485348618c6ff035439e75e0dc26e64a/02d09/img_15.png 1020w,\n/static/485348618c6ff035439e75e0dc26e64a/bbbf7/img_15.png 1280w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span></p>\n<p>계속해서 진행하다 보면 <code class=\"language-text\">Do you want to monitor any log files?</code>이라는 질문이 나옵니다.</p>\n<p>인스턴스 내에 <strong>로그를 클라우드 워치로 전송하기를 원하면 1, 그렇지 않으면 2</strong>를 누르면 됩니다.</p>\n<p><strong>지금 설정하지 않아도, 이후에 파일로 가서 직접 수정할 수 있기 때문에 크게 중요하지 않습니다 !!</strong></p>\n<p>Do you want to store the config in the SSM parameter store?</p>\n<p>질문에는 <code class=\"language-text\">2. no</code> 를 선택하시면 됩니다.</p>\n<p>설정이 끝나면 <code class=\"language-text\">/opt/aws/amazon-cloudwatch-agent/bin/</code> 위치에 <code class=\"language-text\">config.json</code> 파일이 생성됩니다.</p>\n<p>config.json 파일을 열어봅시다.</p>\n<p><span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;'>\n      <a class='gatsby-resp-image-link' href='/static/756d4178e06253cc3b0524aed8fdcf77/bbbf7/img_16.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 84.70588235294117%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAAAsTAAALEwEAmpwYAAABq0lEQVR42pVUSXLjMBDLZ8YSd4mrVE5ck/8/CkFTduwab5oDShuJ7gYgfmjdoHXB7BKCX3mfr1AZhldjKhTXjOo9PgbZZBqsrUihofgJyc8oU0ULBYGFJr/Acs2wj7CQrHFTZYcNwSZENyOGBdqs+DMWHEZZnKHOm9QN7givD7mPbk3u46epIfrSCwTX+L2RuHbyw5hZKPf7YXxKWPpIgstCKaC16FeROX60Acf1G1/phGNYUal5JIZnhM8ghJ854Wu2OKWAUzviL0kXkiYxkqa9JFSq/nYmV3ln6bbIYXSiiem1hn3zmWhUQnRxNN/JcYvHLlMrR5cjjYhBXBZjErx0Y5au5Z64PBzZGiFPKCGixoaZUZpcIVaOyu6Jge7+6+wulx2jIgFvIeE0NzrKnNrMghXuRcgfmiJdeBKWQMJYe+iNjl0KZzeJxr2E4qyxrRslQd4CvXV9UFs+d498IYyh9oOi/4Y+9/BaOu/EJPWfhILDUDjyQqJEDTM+eVAsLFK9vH+j4dB/+i28cpRtYd5GliBrBvkW1tTu+FPCy2Z1Z8x1tOE2BW80/AF0AgojW6GUNAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='img 16' title='' src='/static/756d4178e06253cc3b0524aed8fdcf77/ca1dc/img_16.png' srcset='/static/756d4178e06253cc3b0524aed8fdcf77/e7570/img_16.png 170w,\n/static/756d4178e06253cc3b0524aed8fdcf77/f46e7/img_16.png 340w,\n/static/756d4178e06253cc3b0524aed8fdcf77/ca1dc/img_16.png 680w,\n/static/756d4178e06253cc3b0524aed8fdcf77/02d09/img_16.png 1020w,\n/static/756d4178e06253cc3b0524aed8fdcf77/bbbf7/img_16.png 1280w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span></p>\n<p>크게 <code class=\"language-text\">agent</code>, <code class=\"language-text\">logs</code>, <code class=\"language-text\">metrics</code>로 나뉘는데 agent는 계정과 권한에 관련된 부분이고 logs는 로그와 관련된 부분, metrics는 인스턴스 내의 모니터링과 관련된 부분입니다. 자세한 설정은 CloudWatch docs를 참고하시면 됩니다 !</p>\n<p>metrics에는 mem 이외에 cpu, disk, swap 등이 있습니다.</p>\n<p><a href=\"https://docs.aws.amazon.com/ko_kr/AmazonCloudWatch/latest/monitoring/CloudWatch-Agent-Configuration-File-Details.html#CloudWatch-Agent-Configuration-File-Metricssection\">https://docs.aws.amazon.com/ko_kr/AmazonCloudWatch/latest/monitoring/CloudWatch-Agent-Configuration-File-Details.html#CloudWatch-Agent-Configuration-File-Metricssection</a></p>\n<p>관측하고 싶은 자원에 대한 설정을 모두 마친 후 아래의 명령어를 실행해 CloudWatch Agent를 실행합니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token function\">sudo</span> /opt/aws/amazon-cloudwatch-agent/bin/amazon-cloudwatch-agent-ctl <span class=\"token parameter variable\">-a</span> fetch-config <span class=\"token parameter variable\">-m</span> ec2 <span class=\"token parameter variable\">-c</span> file:/opt/aws/amazon-cloudwatch-agent/bin/config.json <span class=\"token parameter variable\">-s</span></code></pre></div>\n<p>/opt/aws/amazon-cloudwatch-agent/logs에 있는 amazon-cloudwatch-agent.log를 확인하면 정상적으로 실행되는지 로그를 확인할 수 있습니다.</p>\n<p><span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;'>\n      <a class='gatsby-resp-image-link' href='/static/738167de1e7ff848ec198b34bac295a8/bbbf7/img_17.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 35.88235294117647%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsTAAALEwEAmpwYAAABZUlEQVR42j2R/XKCMBDEeZVOqwIqoIgKAUEIEL5ErdU+T2fa197epWP/2LnLwfyyezHStEVZnXHMexTyhMOhwT6UiBOlKyuhWSQqmtV6LuIaYVTqnmfc+0EK1xMwqvqCvCAQgfmH7NhR32jw2j9gvthjsQyxdCJSqPU8P6vj/onPGjicHmi7m3badh+o1RWSHMu8Q57RRZGEIIfsNGZ35Jpdsba7HN4q1mK4IeWIvr9rCLus66uGimKELxRsP8PEEZjZW5jmBm/WFi/WDq9mANMKMJ35mEzXVDeY0cyQJQGHO1Rz1XFV+46e9BVu8O1Z+F7b+Nk4iN09TIpU2x4epg1JdU4XOa7QURnO0kCO3LQ3pBTvNH5S9BGXasCQKQx5AxUXiEVJ33soN8A4tZBZHmwCPXf3D6zqM8W9gGtyULrn106LAUdaR5J1CGlvvKtge8TSTzFb0WOtEgRBph/NonVYdqD7X+Ol75+VJkDWAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='img 17' title='' src='/static/738167de1e7ff848ec198b34bac295a8/ca1dc/img_17.png' srcset='/static/738167de1e7ff848ec198b34bac295a8/e7570/img_17.png 170w,\n/static/738167de1e7ff848ec198b34bac295a8/f46e7/img_17.png 340w,\n/static/738167de1e7ff848ec198b34bac295a8/ca1dc/img_17.png 680w,\n/static/738167de1e7ff848ec198b34bac295a8/02d09/img_17.png 1020w,\n/static/738167de1e7ff848ec198b34bac295a8/bbbf7/img_17.png 1280w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span></p>\n<p><strong>5. 대시보드에 추가</strong></p>\n<p>대시보드로 돌아와 위젯 추가를 눌러 지표를 확인합니다.</p>\n<p>아래와 같이 사용자 지정 네임스페이스 구역을 확인합니다. 저는 config.json을 설정할 때 네임스페이스를 따로 설정하지 않았으므로 기본인 CWAgent에 추가됩니다.</p>\n<p><span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;'>\n      <a class='gatsby-resp-image-link' href='/static/2f1fb204d2849661627fdfe300843112/bbbf7/img_18.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 54.70588235294118%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABfklEQVR42o2STU+DQBCG91ebGD15M0YP/gJ/gAdj4snGi/Vi9OrBpLG1Ciy0hQK7UJbldYYP+6G1kjxhd95lZvYdhJQ+hsMRXNdDWZYwxvyDAqYolvtiuRfzOEYwmSCMImitkWXZbvIcOl9AZ3m9XkXMwhCe59VJkzSlQ9mfKCrK75QSprqL59+6sNbit6eqqq1Ygu2x7bqDNaHCAKE7hE8dfjouhu9jfDgOXCkh/QARWRInyRpsUxjNf8QZIX2JwWCAYDpFqlR97Y6U4Ctuhc7XrMQEZ30bjTELI6hMky8aCR3i5Io8Sdr9gqZY0BR3IXjUU+pOygAO/TqciH1lj9bg2Cbs5UZM6MLASQrkpeVJ1MZSRsQ0GNPvAWeHwDToJkVSBc1zvL0CjveAp36jtQWEoWuV4QxlEteddbBo0gR24sOqdF2j4mU8bzStmim3mjCvL7DnR7CXF8uPyAZFRYvHe9iTfdi7G3BTtr3+fGFhetewpwewzw+Nxh6S9gXnXFB7PP8aOQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='img 18' title='' src='/static/2f1fb204d2849661627fdfe300843112/ca1dc/img_18.png' srcset='/static/2f1fb204d2849661627fdfe300843112/e7570/img_18.png 170w,\n/static/2f1fb204d2849661627fdfe300843112/f46e7/img_18.png 340w,\n/static/2f1fb204d2849661627fdfe300843112/ca1dc/img_18.png 680w,\n/static/2f1fb204d2849661627fdfe300843112/02d09/img_18.png 1020w,\n/static/2f1fb204d2849661627fdfe300843112/bbbf7/img_18.png 1280w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span></p>\n<p>CWAgent -> host로 이동해 hostname을 보면 인스턴스 아이디로 설정되어 있습니다.</p>\n<p>본인의 인스턴스 아이디를 찾아서 위젯으로 추가하면 됩니다.</p>\n<p><strong>6. CloudWatch로 로그 관측하기</strong></p>\n<p>인스턴스 내에서 남기고 있는 로그를 클라우드 워치를 이용해 관측할 수 있습니다. 예를 들어 스프링 서버에서 남기고 있는 로그, NginX에서 남기고 있는 로그등을 클라우드 워치로 관측할 수 있습니다.</p>\n<p>지표를 설정했던 것과 동일하게 config.json 파일에 원하는 로그 파일을 설정하면 됩니다.</p>\n<p>logs -> logs<em>collected -> files -> collect</em>list의 value 값에 로그 파일 위치, 로그 그룹 이름, 로그 스트림 이름을 설정합니다.</p>\n<p><span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;'>\n      <a class='gatsby-resp-image-link' href='/static/71c14d4a0634793047f8e56b7cf46cea/bbbf7/img_19.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 31.76470588235294%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsTAAALEwEAmpwYAAABSElEQVR42m2QvS8EQRjGN4RKofWRKIVSJAqE9ioFQVQi12oV4m9QKZUSUan8CwrJdRrtHfFxd/s1O7s7O7v7886GnMIkT56Zyby/533HC/OCz8xggSiOee8P+Rr4xEqRpilaaxKRO4dR1LiTSpLm3nnU6xB1n/D9IV51d409aVGfHaPeunwMh3R7r/hRjB9GpLnB2JIkzQSUoLOM1BiUhDk3hSF9uSd+viUIBFh0HslurrAPd6hBnzjRkhQQCEzJPpciay15nssEiqxxCQsCIgktbEGcWRJTNt16iaRnZYVb7iKVMerzNuyuwdE29eFmo+pgg3J/feRHW9Q7K1SXF5RSW1nTfJFntKLM9QgoorUK0x7MjcGMN9LsH58fhynx9h611NZVhXZA11Eorf8CtQO67hbk8dIELI7/r+VJCfSoT/d/gGUD/AZnGpNr00W/TAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='img 19' title='' src='/static/71c14d4a0634793047f8e56b7cf46cea/ca1dc/img_19.png' srcset='/static/71c14d4a0634793047f8e56b7cf46cea/e7570/img_19.png 170w,\n/static/71c14d4a0634793047f8e56b7cf46cea/f46e7/img_19.png 340w,\n/static/71c14d4a0634793047f8e56b7cf46cea/ca1dc/img_19.png 680w,\n/static/71c14d4a0634793047f8e56b7cf46cea/02d09/img_19.png 1020w,\n/static/71c14d4a0634793047f8e56b7cf46cea/bbbf7/img_19.png 1280w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span>\n로그 그룹은 클라우드 워치 왼쪽의 로그 -> 로그 그룹에서 생성할 수 있습니다.</p>\n<p>로그 스트림 이름은 config.json 파일에 명시한 log<em>stream</em>name이 로그 그룹에 존재하지 않으면 자동으로 생성합니다.</p>\n<ul>\n<li>file_path: 인스턴스 내에 로그 파일의 경로</li>\n<li>log<em>group</em>name: CloudWatch에서 생성한 로그 그룹 이름</li>\n<li>log<em>stream</em>name: 원하는 로그 스트림 이름. 로그 스트림으로 클라우트 와치에서 필터링할 수 있습니다.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n        <span class=\"token property\">\"agent\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token property\">\"metrics_collection_interval\"</span><span class=\"token operator\">:</span> <span class=\"token number\">60</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"logs\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token property\">\"logs_collected\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n                        <span class=\"token property\">\"files\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n                                <span class=\"token property\">\"collect_list\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n                                        <span class=\"token punctuation\">{</span>\n                                                <span class=\"token property\">\"file_path\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"/home/ubuntu/log/pium-prod-**.log\"</span><span class=\"token punctuation\">,</span>\n                                                <span class=\"token property\">\"log_group_name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"2023-pium-prod\"</span><span class=\"token punctuation\">,</span>\n                                                <span class=\"token property\">\"log_stream_name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"spring-prod-log\"</span>\n                                        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n                                        <span class=\"token punctuation\">{</span>\n                                                <span class=\"token property\">\"file_path\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"/var/log/nginx/access.log\"</span><span class=\"token punctuation\">,</span>\n                                                <span class=\"token property\">\"log_group_name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"2023-pium-prod\"</span><span class=\"token punctuation\">,</span>\n                                                <span class=\"token property\">\"log_stream_name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"nginx-access-log\"</span>\n                                        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n                                        <span class=\"token punctuation\">{</span>\n                                                <span class=\"token property\">\"file_path\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"/var/log/nginx/error.log\"</span><span class=\"token punctuation\">,</span>\n                                                <span class=\"token property\">\"log_group_name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"2023-pium-prod\"</span><span class=\"token punctuation\">,</span>\n                                                <span class=\"token property\">\"log_stream_name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"nginx-error-log\"</span>\n                                        <span class=\"token punctuation\">}</span>\n                                <span class=\"token punctuation\">]</span>\n                        <span class=\"token punctuation\">}</span>\n                <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>config.json 파일을 수정한 후 다시 <strong>에이전트 실행 명령어를 입력해 수정된 config 파일 내용을 적용시킵니다.</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token function\">sudo</span> /opt/aws/amazon-cloudwatch-agent/bin/amazon-cloudwatch-agent-ctl <span class=\"token parameter variable\">-a</span> fetch-config <span class=\"token parameter variable\">-m</span> ec2 <span class=\"token parameter variable\">-c</span> file:/opt/aws/amazon-cloudwatch-agent/bin/config.json <span class=\"token parameter variable\">-s</span></code></pre></div>\n<p>정상적으로 적용되면 로그 그룹 내에 로그 스트림이 생성되는 것을 확인할 수 있습니다.</p>\n<p><span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;'>\n      <a class='gatsby-resp-image-link' href='/static/8158630bad633bd18428e3e95146b10d/bbbf7/img_20.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 21.764705882352942%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAtklEQVR42mVQ2Y7EIAzr///lttOHUsJ9l+JNGWlXmiGyEIltOSxEhJ91hdIGuRSklFD4bq19wXmPECOscxCnxLbtIG1xCAkhTpDSWKzz0+xkgjEGShl4H9i0Iufyh5Ty7CutQaTgWEckcSgL4zlEzrO3VE7jQsTJg9ou3L2jXxeuD2QWbOuG174j8haRkz6px31PfmddrRXL8wi1Q/iGUDqAMevzjDHwfI+1DlISjkNM0/fsn/cLxrs1YzT2TTcAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='img 20' title='' src='/static/8158630bad633bd18428e3e95146b10d/ca1dc/img_20.png' srcset='/static/8158630bad633bd18428e3e95146b10d/e7570/img_20.png 170w,\n/static/8158630bad633bd18428e3e95146b10d/f46e7/img_20.png 340w,\n/static/8158630bad633bd18428e3e95146b10d/ca1dc/img_20.png 680w,\n/static/8158630bad633bd18428e3e95146b10d/02d09/img_20.png 1020w,\n/static/8158630bad633bd18428e3e95146b10d/bbbf7/img_20.png 1280w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span></p>\n<p><strong>생성된 로그 스트림을 바탕으로 대시보드에 로그 위젯을 추가할 수 있습니다.</strong></p>\n<p>지표 대신 로그를 선택해서 추가할 수 있습니다.</p>\n<p><strong>로그 별로 위젯을 구분하려면 쿼리를 실행할 때 filter 옵션을 추가</strong>해 주시면 됩니다.</p>\n<p><span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;'>\n      <a class='gatsby-resp-image-link' href='/static/8c640fde0055838025cb7e31ae290ffc/bbbf7/img_21.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 77.05882352941177%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAAsTAAALEwEAmpwYAAACZ0lEQVR42o1UW47UMBDM7TgmF4ATIPHDF0JCIMQKodnZUV7zyCZ2Er9jp+h2ZkYrVkhEKrXHbbery+UpyrLEbveIJYQ74kIxY8kxhNeIObfcfzvnoJRGYUKCch6zD9BLIkT0JmByvMjDh21jSgmRkIvQGu0XylHhGHNuoRgoV9TDgIdqj6fzgNNkMQagVhGdChBdg9OpRT+IzEAbA6SIA637NSi0TYtxmmCtzcW4aKGsh7QLJh8x2oCZGDMssV2TJwYOnhZbYmupKLO0xDCmNRdgls77POZcofQINfeoqhpd9wz+YqT2vMZl/xHf6yMmKWlDQlrXzHAnFN5/+QBxbmDoIGbv/aZ5MWiNljZoivM83bVaF4fm8BkPlx7BuswkJS6Y0FFXn04ChvYYkkEplVmynkWggZpnCCHzCTx5uz0TV4x0GLvgcf+UNQzE1I0SVgxo2iNO53Ne728FZzq97UcqKKDyafrKJkIaBzmrPDdNMwyJzySn/hnHpkFPe3heEVNmmLigNQqT6KjdGeM45klmx5o4a/ItshybtluOZfn7W0lfRnE8H/Htx9dMv6prTMSImQTy36EqsT+QpQ4lhBxzju2RL+dlsRfjgqkas3mMmTAjboO9dVu8XM17pbLhH1/BBfj5sbjnS4dLt4HNzEL7a4uVpFsnMwsbMTDMgl6HKzwGgiYvF2wRFpXb1MZmT9n8KixmsgPnuH0uuDtJ1EKjItTCoBo0GmlQUmx1ggykIZ/OYnJMt3gd34TOb5Wulx4QPFlpA7bfDPoDcf1vLLrbCv4P1vU1yOXQ9GyDLCHfvUH4+RZ/AJ8Bib8BiioEAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='img 21' title='' src='/static/8c640fde0055838025cb7e31ae290ffc/ca1dc/img_21.png' srcset='/static/8c640fde0055838025cb7e31ae290ffc/e7570/img_21.png 170w,\n/static/8c640fde0055838025cb7e31ae290ffc/f46e7/img_21.png 340w,\n/static/8c640fde0055838025cb7e31ae290ffc/ca1dc/img_21.png 680w,\n/static/8c640fde0055838025cb7e31ae290ffc/02d09/img_21.png 1020w,\n/static/8c640fde0055838025cb7e31ae290ffc/bbbf7/img_21.png 1280w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span>\n<span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;'>\n      <a class='gatsby-resp-image-link' href='/static/946eba9914d8d597faa493cf2bab1066/bbbf7/img_22.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 57.64705882352942%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAABvUlEQVR42o2Sy27UMBSG/Szs2fEAsGbTNU+KkLgIdU9FoR2qTqFNokwymcTj2I5jO/l7jjsD0swI1dInx47Pf67i8vIHvl1c4HqxgNYafa+gjYUyDtaNCMETIeH903eM/86HiKvrBb6T6O3tElleIMsyFHWL5UqikgYDiQ7OJdw4wg4DenKsjYGjuyPBqm5Qriq0nSSjAcYOGMjI6B7GeYp0gLWWoje0D9iqHvW6SRgSPYxURBKJo0Mkb4G++XIcid2D0ynHI6H9WagZ0ATvappSahPtIcSTNdo7PLzjrPhedJ/fQ55/QvvlA5qvHyHblmpkqDl6ZxgSwYe/kR7CERsqC9dYhNcvEM9eIb59iendG6iqQlGtURGcNq9pnjETkSL/H/xG2GlG2QEPa42bLEde5OhWJerfd1jf/0FTllA0Sr1S8BzNFE8SdqMknB/xcO/xc1Hj180V7pY5VqWC2nbQJKTUNqGp6xMZAvMJkJrH0yAMFVNKi07RXHmXouBapOKTM047eSeezsd4EtNGUyY9RFGUyIoi/eChZYG62WDTdZBbleaNu/7cJVoy3LQywQI8uPvOsdC0K/Zz1yOKcJx7GETaAwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='img 22' title='' src='/static/946eba9914d8d597faa493cf2bab1066/ca1dc/img_22.png' srcset='/static/946eba9914d8d597faa493cf2bab1066/e7570/img_22.png 170w,\n/static/946eba9914d8d597faa493cf2bab1066/f46e7/img_22.png 340w,\n/static/946eba9914d8d597faa493cf2bab1066/ca1dc/img_22.png 680w,\n/static/946eba9914d8d597faa493cf2bab1066/02d09/img_22.png 1020w,\n/static/946eba9914d8d597faa493cf2bab1066/bbbf7/img_22.png 1280w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span>\n<span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;'>\n      <a class='gatsby-resp-image-link' href='/static/6b09ac3ef7223cffd063400459ee7f05/bbbf7/img_23.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 48.23529411764706%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAACNElEQVR42jWSO4sUURCFOxXcdA1cETQycA1FBDP9AUZm/hJBA8FMWDFXQRMZ0EzY0EREV1d2tt/T3TM9Mzv2TNPT3fPo52fdXgyKqlt161Tdc65Wvn5O8+oZxZceeVGw3myYxwl5nku8JV0XrFZrkjQjWS7JJD9fxGRSi7Yl0ywnylLSby/IZzZatN4QF5WAVR2Iasiyc8uVT1Py1YpUAFOJNwKU11BOQprDz9SHn6i+f6UBtrKQ5g88HNvGcRwGno8r5+FwhOf72I6LadkM1B13gOu6jKcz7BVkH9/BJQ0ua7QP71Bu11RVhaYu2wLmOIOu0ZXGYDjswBWgYZpdTsVqqAK0BDDtvYerAnhdo3l0j0K2S7MMzZGplmyoNlHAlmHgSU4B6IbJSb+PbTsdsCG1YXjGaQbLD2/hggDuCOCD21Rlyd8oQlsIwfP5giRJWArpiXC6FJ6WwpfKxXF8npdYWSdQJRyeHtO+fEJz8JS694a6rrsttYU0RPM5pUxQUza2Th043QWV+2/qXNUVazVQxNrKbyjCAGYT2tBHmpmpDRVvpmmhy7Oc/gnN3T1aMU/yfd3AsqQmT7WkbsqzHT/EigumP37CjYtwRUTZE9P/YIcTNKWmpfgTEXxdp93fhZu7BH6AYSn13a6uvC1c+6MpdlJydvQL9gXwmtZZdXJE3rRoo1GI58lXmUwIBy7N4/u0YuNwjCv5IAg69X3xKg5F5SCriI5/w62dTmVlpQAW8hf/Aa2vvqFHhqPYAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='img 23' title='' src='/static/6b09ac3ef7223cffd063400459ee7f05/ca1dc/img_23.png' srcset='/static/6b09ac3ef7223cffd063400459ee7f05/e7570/img_23.png 170w,\n/static/6b09ac3ef7223cffd063400459ee7f05/f46e7/img_23.png 340w,\n/static/6b09ac3ef7223cffd063400459ee7f05/ca1dc/img_23.png 680w,\n/static/6b09ac3ef7223cffd063400459ee7f05/02d09/img_23.png 1020w,\n/static/6b09ac3ef7223cffd063400459ee7f05/bbbf7/img_23.png 1280w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span></p>\n<p>로그가 정상적으로 출력되는 것을 확인할 수 있습니다.</p>","frontmatter":{"title":"CloudWatch를 이용한 모니터링 환경 구성","date":"August 17, 2023","update":"August 17, 2023","tags":["AWS","CloudWatch","로그 모니터링","자원 모니터링"],"series":null},"fields":{"slug":"/server-monitoring/","readingTime":{"minutes":12.865}}},"seriesList":{"edges":[{"node":{"id":"28f1d87e-d3fc-5567-8531-57649652864f","fields":{"slug":"/sprint-idea/"},"frontmatter":{"title":"구글 스프린트 기반 아이디어 도출"}}},{"node":{"id":"4a9246fb-171b-5973-88fc-864034e78afd","fields":{"slug":"/blog-starter/"},"frontmatter":{"title":"피움 블로그 생성과정"}}},{"node":{"id":"c826ce0e-1ea7-517c-8d19-84e90a59a798","fields":{"slug":"/jenkins-setting/"},"frontmatter":{"title":"젠킨스 설치하기"}}},{"node":{"id":"a387bf4f-567f-50e7-b6a7-99a1a1c8971b","fields":{"slug":"/jpa-notnull-nullable/"},"frontmatter":{"title":"@NotNull과 nullable = false는 어떤 차이가 있을까?"}}},{"node":{"id":"a78e224b-b711-5071-8e90-013d6f4bebc3","fields":{"slug":"/pium-deploy-step/"},"frontmatter":{"title":"피움의 배포과정"}}},{"node":{"id":"ce07fbab-1ed5-5f1e-8e2f-eb430879b56a","fields":{"slug":"/fe-tanstack-query/"},"frontmatter":{"title":"프론트엔드: Tanstack Query 사용에 대하여"}}},{"node":{"id":"159c943b-1a50-57dd-aa71-7557364752a5","fields":{"slug":"/ci-cd-setting/"},"frontmatter":{"title":"Jenkins와 Github Webhook을 이용해 CI/CD 구축하기"}}},{"node":{"id":"dea45a4a-bfde-5fbb-8a97-42d3a3e77a0b","fields":{"slug":"/jenkins-hook-by-label/"},"frontmatter":{"title":"PR 라벨로 젠킨스 빌드유발을 구분하기"}}},{"node":{"id":"1a03734e-d413-553f-9152-1dad2fc4acca","fields":{"slug":"/apply-https/"},"frontmatter":{"title":"내 서버에 HTTPS 설정하기"}}},{"node":{"id":"cecbc8b9-db00-562b-aa0b-06c406cfc44a","fields":{"slug":"/bundle-analyze/"},"frontmatter":{"title":"bundle-analyze를 통한 bundle 크기 분석"}}},{"node":{"id":"707f8ffb-1409-5c27-b15a-5661b235c226","fields":{"slug":"/db-drop-stop/"},"frontmatter":{"title":"Table Drop 못하게 막아버리기"}}},{"node":{"id":"fe4b591a-4dd5-5dd2-b18a-b318afd1e9e3","fields":{"slug":"/transactional-not-in-restassured/"},"frontmatter":{"title":"[트러블슈팅] @SpringbootTest의 RANDOM_PORT 환경에서 @Transactional 어노테이션을 사용했을 때, RestAssured GET 요청이 수행되지 않는 경우(트랜잭션 격리 이해하기)"}}},{"node":{"id":"80aa708e-ef8a-5c79-9644-cb8c04d55a63","fields":{"slug":"/acceptance-test-resolve/"},"frontmatter":{"title":"인수테스트 데이터 초기화하기"}}},{"node":{"id":"15def1d5-c20f-5d07-b46e-24a14661365f","fields":{"slug":"/react-setting-without-cra/"},"frontmatter":{"title":"webpack으로만 React 설정하기 (without CRA)"}}},{"node":{"id":"66383c86-e2c8-533a-90e0-2effae572742","fields":{"slug":"/stylelint-and-husky/"},"frontmatter":{"title":"stylelint와 husky를 통해 컨벤션 통일하기"}}},{"node":{"id":"ed5951d5-beda-5a8f-adb2-07c2fcb38d5e","fields":{"slug":"/OAuth2.0/"},"frontmatter":{"title":"내가 이해한 OAuth2.0"}}},{"node":{"id":"45eeb9a3-557d-5704-8fd9-925283e1e27b","fields":{"slug":"/restdocs-start/"},"frontmatter":{"title":"RestDocs로 API 문서화하기"}}},{"node":{"id":"663b560a-734d-51a9-a6dc-3c4f50716c74","fields":{"slug":"/spring-event-apply/"},"frontmatter":{"title":"Spring Event 적용하기"}}},{"node":{"id":"55ae8038-3f65-5a59-8db3-c7405e7fc125","fields":{"slug":"/github-actions-cypress/"},"frontmatter":{"title":"피움 Cypress 자동화 구축기"}}},{"node":{"id":"503e9e71-eda3-53d7-8142-7c309faf213e","fields":{"slug":"/why_we_applied_querydsl/"},"frontmatter":{"title":"피움 서비스의 Querydsl 도입 이유"}}},{"node":{"id":"709124d0-5b05-5530-804d-e90ec9856a13","fields":{"slug":"/querydsl_apply_procedure/"},"frontmatter":{"title":"피움 서비스의 Querydsl 적용 과정"}}},{"node":{"id":"5c865dcb-cefd-58be-8968-b5edf6c8080c","fields":{"slug":"/server-logging/"},"frontmatter":{"title":"Logback을 이용해 운영 환경 별 로그 남기기"}}},{"node":{"id":"8269f166-d041-533c-9d44-332d8d8c3dca","fields":{"slug":"/server-monitoring/"},"frontmatter":{"title":"CloudWatch를 이용한 모니터링 환경 구성"}}},{"node":{"id":"0faec7ad-3bd1-5f5e-9222-115f771df8ed","fields":{"slug":"/tanstack-query-cache-trouble-shooting/"},"frontmatter":{"title":"InfinityQuery에서 fetch가 제대로 이루어지지 않는다?!?!"}}},{"node":{"id":"c77f7199-7fc6-53a3-a1fb-0792e05655a7","fields":{"slug":"/OAuth2.0-backend/"},"frontmatter":{"title":"OAuth 2.0 로그인 구현하기 (카카오)"}}},{"node":{"id":"12e4480d-386b-5d0e-bd69-4209fed36066","fields":{"slug":"/OAuth-test-backend/"},"frontmatter":{"title":"외부 API 를 의존하는 OAuth 로그인 테스트하기"}}},{"node":{"id":"ff40e109-cc92-5d83-a213-ca9d07136d95","fields":{"slug":"/aws-s3-apply/"},"frontmatter":{"title":"AWS S3로 정적 이미지 배포하기"}}},{"node":{"id":"e343af80-72dd-5173-bbb5-5069a17d1200","fields":{"slug":"/search_in_spring_data_jpa/"},"frontmatter":{"title":"Spring Data Jpa를 활용한 검색 기능 개발하기"}}}]},"previous":{"fields":{"slug":"/server-logging/"},"frontmatter":{"title":"Logback을 이용해 운영 환경 별 로그 남기기"}},"next":{"fields":{"slug":"/tanstack-query-cache-trouble-shooting/"},"frontmatter":{"title":"InfinityQuery에서 fetch가 제대로 이루어지지 않는다?!?!"}}},"pageContext":{"id":"8269f166-d041-533c-9d44-332d8d8c3dca","series":null,"previousPostId":"5c865dcb-cefd-58be-8968-b5edf6c8080c","nextPostId":"0faec7ad-3bd1-5f5e-9222-115f771df8ed"}},"staticQueryHashes":[],"slicesMap":{}}